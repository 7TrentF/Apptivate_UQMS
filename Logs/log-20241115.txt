2024-11-15 09:04:43.791 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-15 09:04:44.961 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-15 09:04:45.010 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-15 09:04:45.104 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-15 09:04:45.388 +02:00 [INF] Hosting environment: Development
2024-11-15 09:04:45.393 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-15 09:04:46.337 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 09:04:47.711 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731616643. Expected to be greater than 1731654287.
2024-11-15 09:04:47.732 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731616643. Expected to be greater than 1731654287.
2024-11-15 09:04:47.744 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 09:04:47.770 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 09:04:47.784 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731616643. Expected to be greater than 1731654287.
2024-11-15 09:04:47.801 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 09:04:47.991 +02:00 [INF] Executed ViewResult - view Login executed in 196.8303ms.
2024-11-15 09:04:48.003 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 230.3662ms
2024-11-15 09:04:48.005 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 09:04:48.017 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1684.1769ms
2024-11-15 09:04:48.215 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-15 09:04:48.225 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-15 09:04:48.260 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731616643. Expected to be greater than 1731654288.
2024-11-15 09:04:48.263 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-15 09:04:48.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 09:04:48.320 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 09:04:48.342 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-15 09:04:48.344 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731616643. Expected to be greater than 1731654288.
2024-11-15 09:04:48.344 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731616643. Expected to be greater than 1731654288.
2024-11-15 09:04:48.362 +02:00 [INF] The file /css/Login.css was not modified
2024-11-15 09:04:48.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 132.1204ms
2024-11-15 09:04:48.362 +02:00 [INF] The file /js/login.js was not modified
2024-11-15 09:04:48.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 56.4504ms
2024-11-15 09:04:48.443 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 218.0416ms
2024-11-15 09:04:48.450 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 184.9831ms
2024-11-15 09:04:48.624 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 303.7343ms
2024-11-15 09:04:55.677 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-15 09:04:55.688 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731616643. Expected to be greater than 1731654295.
2024-11-15 09:04:55.689 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731616643. Expected to be greater than 1731654295.
2024-11-15 09:04:55.690 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 09:04:55.721 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 09:04:55.794 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-15 09:04:55.827 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 09:04:55.834 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 09:04:56.680 +02:00 [INF] Received HTTP response headers after 841.1009ms - 200
2024-11-15 09:04:56.685 +02:00 [INF] End processing HTTP request after 860.8216ms - 200
2024-11-15 09:04:56.687 +02:00 [INF] User logged in successfully.
2024-11-15 09:04:59.492 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-15 09:05:01.311 +02:00 [INF] Executed DbCommand (494ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 09:05:01.674 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p1='5', @p0='2024-11-15T07:05:01.4812432Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-15 09:05:01.703 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-15 09:05:01.704 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-15 09:05:01.709 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-15 09:05:01.711 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 5985.3278ms
2024-11-15 09:05:01.712 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:01.716 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:d7eb1e4e-27df-2d9e-b5e1-c4651394e013
2024-11-15 09:05:01.724 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 6047.4471ms
2024-11-15 09:05:01.730 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-15 09:05:02.107 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:02.115 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 09:05:02.334 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 09:05:02.381 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 09:05:02.403 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 09:05:02.453 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 09:05:02.514 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-15 09:05:02.556 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-15 09:05:02.569 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-15 09:05:02.590 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-15 09:05:02.603 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-15 09:05:02.613 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-15 09:05:02.698 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-15 09:05:02.748 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:05:02.778 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:05:02.810 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:05:02.884 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-15 09:05:02.955 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__startDate_0='2024-10-16T07:05:02.9010651Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:05:02.978 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-15 09:05:03.116 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 139.7065ms.
2024-11-15 09:05:03.118 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 1001.749ms
2024-11-15 09:05:03.120 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:03.121 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1391.1916ms
2024-11-15 09:05:03.175 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Users.png - null null
2024-11-15 09:05:03.175 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-15 09:05:03.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - null null
2024-11-15 09:05:03.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - null null
2024-11-15 09:05:03.187 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-15 09:05:03.193 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-15 09:05:03.199 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/notification.js - null null
2024-11-15 09:05:03.204 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/toast.js - null null
2024-11-15 09:05:03.205 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 09:05:03.208 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/log.png - null null
2024-11-15 09:05:03.210 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-15 09:05:03.211 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 09:05:03.272 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-15 09:05:03.272 +02:00 [INF] Sending file. Request path: '/Images/Users.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Users.png'
2024-11-15 09:05:03.287 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 94.4911ms
2024-11-15 09:05:03.308 +02:00 [INF] Sending file. Request path: '/js/responseTimeChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\responseTimeChart.js'
2024-11-15 09:05:03.309 +02:00 [INF] Sending file. Request path: '/js/resolutionRateChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\resolutionRateChart.js'
2024-11-15 09:05:03.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 110.9919ms
2024-11-15 09:05:03.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 117.5942ms
2024-11-15 09:05:03.333 +02:00 [INF] Sending file. Request path: '/js/AdminCharts.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\AdminCharts.js'
2024-11-15 09:05:03.333 +02:00 [INF] Sending file. Request path: '/Images/log.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\log.png'
2024-11-15 09:05:03.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 200 2584 text/css 162.4204ms
2024-11-15 09:05:03.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Users.png - 200 874 image/png 164.1843ms
2024-11-15 09:05:03.343 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-15 09:05:03.344 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.1192ms
2024-11-15 09:05:03.345 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - 200 3518 text/javascript 160.5111ms
2024-11-15 09:05:03.351 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - 200 5754 text/javascript 164.5555ms
2024-11-15 09:05:03.358 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-15 09:05:03.359 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 200 4242 text/javascript 172.3484ms
2024-11-15 09:05:03.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/log.png - 200 424 image/png 152.0337ms
2024-11-15 09:05:03.361 +02:00 [INF] Sending file. Request path: '/js/toast.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\toast.js'
2024-11-15 09:05:03.378 +02:00 [INF] Sending file. Request path: '/js/notification.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\notification.js'
2024-11-15 09:05:03.388 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/toast.js - 200 2875 text/javascript 183.5313ms
2024-11-15 09:05:03.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/notification.js - 200 2580 text/javascript 193.361ms
2024-11-15 09:05:03.605 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-15 09:05:03.605 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-15 09:05:03.605 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-15 09:05:03.617 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:03.617 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:03.618 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:03.626 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 09:05:03.627 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 09:05:03.627 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 09:05:03.761 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2024-10-16T07:05:03.6383670Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:05:03.767 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 09:05:03.781 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__startDate_0='2023-12-15T09:05:03.6322976+02:00' (Nullable = true), @__endDate_1='2024-11-15T09:05:03.6322976+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-15 09:05:03.785 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__startDate_0='2024-10-16T07:05:03.6467815Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-15 09:05:03.794 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 163.7029ms
2024-11-15 09:05:03.795 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:03.796 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 09:05:03.796 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 191.4621ms
2024-11-15 09:05:03.801 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-15 09:05:03.804 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-15 09:05:03.808 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 169.2732ms
2024-11-15 09:05:03.809 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:03.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 205.5139ms
2024-11-15 09:05:03.812 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 184.2084ms
2024-11-15 09:05:03.815 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-15 09:05:03.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 211.0943ms
2024-11-15 09:27:21.154 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-15 09:27:21.282 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 09:27:21.291 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 09:27:21.383 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 09:27:21.415 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 09:27:21.426 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 09:27:21.434 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 09:27:21.440 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-15 09:27:21.449 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-15 09:27:21.452 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-15 09:27:21.459 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-15 09:27:21.464 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-15 09:27:21.468 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-15 09:27:21.485 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-15 09:27:21.496 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:27:21.499 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:27:21.503 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:27:21.527 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-15 09:27:21.541 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-16T07:27:21.5318518Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:27:21.551 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-15 09:27:21.571 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 25.441ms.
2024-11-15 09:27:21.572 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 279.6652ms
2024-11-15 09:27:21.573 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 09:27:21.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 423.8163ms
2024-11-15 09:27:21.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 09:27:21.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.7272ms
2024-11-15 09:27:25.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=7 - null null
2024-11-15 09:27:25.643 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-15 09:27:25.655 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 09:27:25.683 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2024-11-08T07:27:25.6711466Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 09:27:25.686 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 09:27:25.700 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 42.953ms
2024-11-15 09:27:25.702 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-15 09:27:25.703 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=7 - 200 null application/json; charset=utf-8 66.9668ms
2024-11-15 12:13:35.344 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-15 12:13:35.569 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-15 12:13:35.570 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-15 12:13:35.573 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-15 12:13:35.575 +02:00 [INF] Hosting environment: Development
2024-11-15 12:13:35.576 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-15 12:13:38.132 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 12:13:38.756 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731657896. Expected to be greater than 1731665618.
2024-11-15 12:13:38.764 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731657896. Expected to be greater than 1731665618.
2024-11-15 12:13:38.770 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:13:38.804 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:13:38.826 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731657896. Expected to be greater than 1731665618.
2024-11-15 12:13:38.842 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 12:13:39.122 +02:00 [INF] Executed ViewResult - view Login executed in 280.8438ms.
2024-11-15 12:13:39.140 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 333.2315ms
2024-11-15 12:13:39.146 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:13:39.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1030.2846ms
2024-11-15 12:13:39.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:13:39.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-15 12:13:39.368 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:13:39.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 34.4094ms
2024-11-15 12:13:39.411 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731657896. Expected to be greater than 1731665619.
2024-11-15 12:13:39.423 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-15 12:13:39.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 61.033ms
2024-11-15 12:13:39.548 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 182.8616ms
2024-11-15 12:13:45.577 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 225
2024-11-15 12:13:45.591 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731657896. Expected to be greater than 1731665625.
2024-11-15 12:13:45.592 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731657896. Expected to be greater than 1731665625.
2024-11-15 12:13:45.594 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:13:45.627 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:13:45.691 +02:00 [INF] Attempting to log in user with email: Daniel@gmail.com
2024-11-15 12:13:45.723 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 12:13:45.735 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 12:13:46.350 +02:00 [INF] Received HTTP response headers after 610.3804ms - 200
2024-11-15 12:13:46.353 +02:00 [INF] End processing HTTP request after 633.7038ms - 200
2024-11-15 12:13:46.360 +02:00 [INF] User logged in successfully.
2024-11-15 12:13:49.261 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-15 12:13:50.931 +02:00 [INF] Executed DbCommand (190ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 12:13:51.364 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@p1='3', @p0='2024-11-15T10:13:51.1301137Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-15 12:13:51.400 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-15 12:13:51.402 +02:00 [INF] User Daniel@gmail.com logged in successfully.
2024-11-15 12:13:51.415 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-15 12:13:51.422 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 5792.7239ms
2024-11-15 12:13:51.425 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:13:51.428 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:ad90255c-6bb0-9b07-46d8-59ecc02be152
2024-11-15 12:13:51.439 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 5862.4925ms
2024-11-15 12:13:51.451 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-15 12:13:51.929 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:13:51.944 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:13:52.234 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:13:52.487 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-15 12:13:52.616 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-15 12:13:53.062 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-15 12:13:53.104 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:13:53.346 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:13:53.371 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:13:53.378 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-15 12:13:53.588 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 211.8962ms.
2024-11-15 12:13:53.592 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 1637.2601ms
2024-11-15 12:13:53.593 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:13:53.595 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 2143.9704ms
2024-11-15 12:13:53.707 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:13:53.710 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:13:53.714 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.8513ms
2024-11-15 12:13:53.725 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.8935ms
2024-11-15 12:13:53.912 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-15 12:13:53.921 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-15 12:13:53.940 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-15 12:13:53.942 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 29.5155ms
2024-11-15 12:13:53.985 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=COZNrQYl_oJLS766lNtpcA - null null
2024-11-15 12:13:53.992 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-15 12:13:54.082 +02:00 [INF] User attempting to connect. Connection ID: x18gbPEsRLTy__gEYwsQaQ, User ID: 8gmggRNCMUaYTwAThlXahoTs8W12
2024-11-15 12:13:54.088 +02:00 [INF] User 8gmggRNCMUaYTwAThlXahoTs8W12 connected with connection ID x18gbPEsRLTy__gEYwsQaQ
2024-11-15 12:13:55.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-15 12:13:55.872 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 12:13:55.879 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 12:13:55.999 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 12:13:56.117 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:13:56.158 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-15 12:13:56.184 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-15 12:13:56.259 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 76.0443ms.
2024-11-15 12:13:56.262 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 381.3449ms
2024-11-15 12:13:56.264 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 12:13:56.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 403.1338ms
2024-11-15 12:13:56.281 +02:00 [INF] User disconnected. Connection ID: x18gbPEsRLTy__gEYwsQaQ
2024-11-15 12:13:56.285 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-15 12:13:56.286 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=COZNrQYl_oJLS766lNtpcA - 200 null null 2301.8378ms
2024-11-15 12:13:56.310 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - null null
2024-11-15 12:13:56.318 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:13:56.320 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:13:56.320 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.8907ms
2024-11-15 12:13:56.322 +02:00 [INF] The file /css/staffQueries.css was not modified
2024-11-15 12:13:56.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - 304 null text/css 17.6619ms
2024-11-15 12:13:56.331 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.8219ms
2024-11-15 12:14:06.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-15 12:14:06.480 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-15 12:14:06.484 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 12:14:06.487 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 12:14:06.496 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:14:06.504 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:14:06.538 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__staffDetail_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-15 12:14:06.543 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml.
2024-11-15 12:14:06.547 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml executed in 4.4841ms.
2024-11-15 12:14:06.549 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 64.0727ms
2024-11-15 12:14:06.550 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-15 12:14:06.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 200 null text/html; charset=utf-8 76.3073ms
2024-11-15 12:14:06.569 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:14:06.570 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:14:06.573 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7814ms
2024-11-15 12:14:06.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.0585ms
2024-11-15 12:15:21.097 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-15 12:15:21.107 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:21.111 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:15:21.114 +02:00 [INF] User logged out.
2024-11-15 12:15:21.115 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-15 12:15:21.116 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 2.9773ms
2024-11-15 12:15:21.117 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:21.118 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 21.0975ms
2024-11-15 12:15:21.124 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 12:15:21.128 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:15:21.129 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:15:21.130 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:21.132 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:15:21.134 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 12:15:21.141 +02:00 [INF] Executed ViewResult - view Login executed in 7.2326ms.
2024-11-15 12:15:21.145 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 10.8328ms
2024-11-15 12:15:21.147 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:21.148 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 24.2477ms
2024-11-15 12:15:21.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:15:21.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:15:21.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.0536ms
2024-11-15 12:15:21.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.7549ms
2024-11-15 12:15:26.079 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-15 12:15:26.099 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:15:26.107 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:15:26.107 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:26.108 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:15:26.112 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-15 12:15:26.114 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 12:15:26.116 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 12:15:26.645 +02:00 [INF] Received HTTP response headers after 528.02ms - 200
2024-11-15 12:15:26.648 +02:00 [INF] End processing HTTP request after 534.1363ms - 200
2024-11-15 12:15:26.651 +02:00 [INF] User logged in successfully.
2024-11-15 12:15:27.201 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 12:15:27.213 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='5', @p0='2024-11-15T10:15:27.2058448Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-15 12:15:27.216 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-15 12:15:27.217 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-15 12:15:27.218 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1106.8827ms
2024-11-15 12:15:27.219 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:27.222 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 1142.3791ms
2024-11-15 12:15:27.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-15 12:15:27.254 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:27.261 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:15:27.314 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:15:27.356 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:15:27.364 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:15:27.394 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:15:27.444 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-15 12:15:27.501 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-15 12:15:27.515 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-15 12:15:27.537 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-15 12:15:27.549 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-15 12:15:27.558 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-15 12:15:27.597 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-15 12:15:27.651 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:15:27.673 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:15:27.707 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:15:27.776 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-15 12:15:27.846 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__startDate_0='2024-10-16T10:15:27.7863548Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:15:27.875 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-15 12:15:27.921 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 47.0581ms.
2024-11-15 12:15:27.924 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 659.2554ms
2024-11-15 12:15:27.925 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:27.928 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 690.8127ms
2024-11-15 12:15:28.024 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:15:28.034 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-15 12:15:28.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:15:28.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-15 12:15:28.045 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 20.7972ms
2024-11-15 12:15:28.066 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 31.8544ms
2024-11-15 12:15:28.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.7678ms
2024-11-15 12:15:28.080 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-15 12:15:28.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 43.9934ms
2024-11-15 12:15:28.086 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-15 12:15:28.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-15 12:15:28.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-15 12:15:28.478 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-15 12:15:28.483 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:28.487 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:28.490 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:28.495 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:15:28.496 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:15:28.498 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:15:28.532 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__startDate_0='2024-10-16T10:15:28.5089282Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:15:28.557 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 12:15:28.575 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-16T10:15:28.5117567Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-15 12:15:28.590 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 92.7454ms
2024-11-15 12:15:28.601 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 12:15:28.614 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:28.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 140.4743ms
2024-11-15 12:15:28.624 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 122.3207ms
2024-11-15 12:15:28.627 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:28.628 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__startDate_0='2023-12-15T12:15:28.5198327+02:00' (Nullable = true), @__endDate_1='2024-11-15T12:15:28.5198327+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-15 12:15:28.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 151.3419ms
2024-11-15 12:15:28.647 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-15 12:15:28.650 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-15 12:15:28.667 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 151.8124ms
2024-11-15 12:15:28.669 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-15 12:15:28.673 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 195.7052ms
2024-11-15 12:16:34.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-15 12:16:34.896 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:34.899 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-15 12:16:34.903 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-15 12:16:34.910 +02:00 [INF] Executed ViewResult - view Index executed in 9.1435ms.
2024-11-15 12:16:34.913 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 12.2756ms
2024-11-15 12:16:34.914 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:34.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 24.6088ms
2024-11-15 12:16:34.944 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/reports.js - null null
2024-11-15 12:16:34.945 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:16:34.945 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:16:34.949 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.035ms
2024-11-15 12:16:34.958 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.875ms
2024-11-15 12:16:35.078 +02:00 [INF] Sending file. Request path: '/js/reports.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\reports.js'
2024-11-15 12:16:35.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/reports.js - 200 7849 text/javascript 134.5501ms
2024-11-15 12:16:35.094 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-16&endDate=2024-11-15 - null null
2024-11-15 12:16:35.100 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:35.106 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-15 12:16:35.172 +02:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@__startDate_0='2024-10-16T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-15T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-15 12:16:35.213 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:891dbbf0-bee0-4e55-a58a-fe9e235f1ce0
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:891dbbf0-bee0-4e55-a58a-fe9e235f1ce0
Error Number:162,State:1,Class:15
2024-11-15 12:16:35.228 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 119.9173ms
2024-11-15 12:16:35.230 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:35.234 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:891dbbf0-bee0-4e55-a58a-fe9e235f1ce0
Error Number:162,State:1,Class:15
2024-11-15 12:16:35.285 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-16&endDate=2024-11-15 - 500 null text/plain; charset=utf-8 191.3675ms
2024-11-15 12:16:38.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-15 12:16:38.415 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:38.419 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-15 12:16:38.483 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__overdueDate_0='2024-11-14T10:16:38.4247514Z' (Nullable = true), @__currentDate_2='2024-11-15T10:16:38.4247514Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-15 12:16:38.491 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-15 12:16:38.495 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 74.968ms
2024-11-15 12:16:38.496 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:38.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 85.15ms
2024-11-15 12:16:39.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-16&endDate=2024-11-15 - null null
2024-11-15 12:16:39.015 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:39.020 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-15 12:16:39.085 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__startDate_0='2024-10-16T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-15T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-15 12:16:39.088 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 12:16:39.092 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 71.182ms
2024-11-15 12:16:39.093 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:39.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-16&endDate=2024-11-15 - 200 null application/json; charset=utf-8 81.3471ms
2024-11-15 12:16:39.723 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-15 12:16:39.726 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:39.727 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-15 12:16:39.751 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__overdueDate_0='2024-11-14T10:16:39.7282746Z' (Nullable = true), @__currentDate_2='2024-11-15T10:16:39.7282746Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-15 12:16:39.754 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-15 12:16:39.755 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 26.8456ms
2024-11-15 12:16:39.755 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:39.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 33.1717ms
2024-11-15 12:16:40.886 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-16&endDate=2024-11-15 - null null
2024-11-15 12:16:40.890 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:40.892 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-15 12:16:41.187 +02:00 [INF] Executed DbCommand (293ms) [Parameters=[@__startDate_0='2024-10-16T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-15T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-15 12:16:41.190 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 12:16:41.191 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 298.3541ms
2024-11-15 12:16:41.192 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:41.194 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-16&endDate=2024-11-15 - 200 null application/json; charset=utf-8 307.7611ms
2024-11-15 12:16:41.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-15 12:16:41.804 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:41.806 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:16:41.811 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:16:41.814 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:16:41.818 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:16:41.823 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:16:41.826 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-15 12:16:41.829 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-15 12:16:41.831 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-15 12:16:41.834 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-15 12:16:41.837 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-15 12:16:41.840 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-15 12:16:41.848 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-15 12:16:41.853 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:16:41.855 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:16:41.858 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:16:41.862 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-15 12:16:41.867 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-16T10:16:41.8634532Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 12:16:41.869 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-15 12:16:41.872 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 2.2953ms.
2024-11-15 12:16:41.872 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 64.9483ms
2024-11-15 12:16:41.873 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:16:41.873 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 75.4657ms
2024-11-15 12:16:41.896 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:16:41.897 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7174ms
2024-11-15 12:17:12.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Users/UserManagement - null null
2024-11-15 12:17:12.657 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.UsersController.UserManagement (Apptivate_UQMS_WebApp)'
2024-11-15 12:17:12.662 +02:00 [INF] Route matched with {action = "UserManagement", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserManagement(System.String, System.String) on controller Apptivate_UQMS_WebApp.Controllers.UsersController (Apptivate_UQMS_WebApp).
2024-11-15 12:17:12.680 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
ORDER BY [u].[Name]
2024-11-15 12:17:12.697 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-15 12:17:12.707 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-15 12:17:12.711 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-15 12:17:12.721 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-15 12:17:12.723 +02:00 [INF] Executing ViewResult, running view UserManagement.
2024-11-15 12:17:12.761 +02:00 [INF] Executed ViewResult - view UserManagement executed in 38.7311ms.
2024-11-15 12:17:12.762 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.UsersController.UserManagement (Apptivate_UQMS_WebApp) in 97.8784ms
2024-11-15 12:17:12.763 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.UsersController.UserManagement (Apptivate_UQMS_WebApp)'
2024-11-15 12:17:12.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Users/UserManagement - 200 null text/html; charset=utf-8 112.1708ms
2024-11-15 12:17:12.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/UserManagement.css?v=roIeAljPkjxX6obiDxk6Hf-jha1UPIT-C23vuGXQr4o - null null
2024-11-15 12:17:12.794 +02:00 [INF] Sending file. Request path: '/css/UserManagement.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\UserManagement.css'
2024-11-15 12:17:12.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/UserManagement.css?v=roIeAljPkjxX6obiDxk6Hf-jha1UPIT-C23vuGXQr4o - 200 8137 text/css 5.5335ms
2024-11-15 12:17:12.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/UserManagement.js - null null
2024-11-15 12:17:12.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:17:12.799 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:17:12.803 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.7024ms
2024-11-15 12:17:12.807 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.108ms
2024-11-15 12:17:12.967 +02:00 [INF] Sending file. Request path: '/js/UserManagement.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\UserManagement.js'
2024-11-15 12:17:12.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/UserManagement.js - 200 7538 text/javascript 169.9317ms
2024-11-15 12:17:28.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs/Index - null null
2024-11-15 12:17:28.869 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 12:17:28.871 +02:00 [INF] Route matched with {action = "Index", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-15 12:17:28.885 +02:00 [INF] Found 31 log files
2024-11-15 12:17:28.887 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-15 12:17:28.893 +02:00 [INF] Executed ViewResult - view Index executed in 7.1395ms.
2024-11-15 12:17:28.895 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp) in 21.96ms
2024-11-15 12:17:28.895 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 12:17:28.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs/Index - 200 null text/html; charset=utf-8 32.8383ms
2024-11-15 12:17:28.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:17:28.931 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:17:28.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.2145ms
2024-11-15 12:17:28.947 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7374ms
2024-11-15 12:21:39.361 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-15 12:21:39.411 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-15 12:21:39.415 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:21:39.417 +02:00 [INF] User logged out.
2024-11-15 12:21:39.423 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-15 12:21:39.424 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 7.2043ms
2024-11-15 12:21:39.426 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-15 12:21:39.427 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 66.7526ms
2024-11-15 12:21:39.431 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 12:21:39.434 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:21:39.435 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:21:39.436 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:21:39.436 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:21:39.438 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 12:21:39.444 +02:00 [INF] Executed ViewResult - view Login executed in 6.5766ms.
2024-11-15 12:21:39.445 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 7.6988ms
2024-11-15 12:21:39.446 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:21:39.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 15.6912ms
2024-11-15 12:21:39.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:21:39.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:21:39.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.1594ms
2024-11-15 12:21:39.497 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.2324ms
2024-11-15 12:23:00.515 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 230
2024-11-15 12:23:00.525 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:23:00.526 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:23:00.527 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:23:00.528 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:23:00.532 +02:00 [INF] Attempting to log in user with email: Daniel@gmail.com
2024-11-15 12:23:00.534 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 12:23:00.536 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 12:23:01.064 +02:00 [INF] Received HTTP response headers after 517.4668ms - 400
2024-11-15 12:23:01.067 +02:00 [INF] End processing HTTP request after 532.703ms - 400
2024-11-15 12:23:01.075 +02:00 [ERR] Failed to log in user with email: Daniel@gmail.com
System.Exception: An error occurred during login. Please try again.
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 126
2024-11-15 12:23:01.081 +02:00 [ERR] Error occurred during login.
System.Exception: Your Email or password is incorrect. Please try again
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 148
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 223
2024-11-15 12:23:01.084 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 12:23:01.086 +02:00 [INF] Executed ViewResult - view Login executed in 2.0807ms.
2024-11-15 12:23:01.087 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 556.5684ms
2024-11-15 12:23:01.088 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 12:23:01.090 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 574.6084ms
2024-11-15 12:23:01.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:23:01.130 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.1212ms
2024-11-15 12:23:01.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:23:01.155 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5803ms
2024-11-15 12:30:38.945 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/GoogleLogin - application/json 1191
2024-11-15 12:30:38.985 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:30:38.990 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 12:30:38.991 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-15 12:30:39.061 +02:00 [INF] Route matched with {action = "GoogleLogin", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(GoogleLoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:30:39.160 +02:00 [INF] GoogleLogin attempt initiated
2024-11-15 12:30:39.162 +02:00 [INF] here is your token grump eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlNTIxYmY1ZjdhNDAwOGMzYmQ3MjFmMzk2OTcwOWI1MzY0MzA5NjEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVHJlbnQgRmlzaGVyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lfMG11MTRncWZqLW4zMDZsZUlEZ2JmZk83bHByOWQyUUlUd2h2OVdLanZCaXdMcDh3PXM5Ni1jIiwicm9sZSI6IlN0dWRlbnQiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vdXFtcy1hM2Q4NyIsImF1ZCI6InVxbXMtYTNkODciLCJhdXRoX3RpbWUiOjE3MzE2NjY2MzgsInVzZXJfaWQiOiJjc3VzVXRJWkMzY1Z0cW5UOW1xRjNlN0pnbDIzIiwic3ViIjoiY3N1c1V0SVpDM2NWdHFuVDltcUYzZTdKZ2wyMyIsImlhdCI6MTczMTY2NjYzOCwiZXhwIjoxNzMxNjcwMjM4LCJlbWFpbCI6InRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE4MDQwODkyMzQ5OTA3NzczODcyIl0sImVtYWlsIjpbInRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.il7nO4hGTgwYY1fKVz3A4pg9ah5mBzuIQ8WpPyfWPtBWcxUJFqSGQBFxQ4WxcBQfrW3S9kfIf20eSIspMPKz9Yq0rSZfoOC75X1ZB0jNVwBQzvig-YXDLpTrgrjIHkIKE0zeYjGxFdaRG4BLSwSIy5LOzgcNR7sFEHalrYaufo71K_qvf6txUiANPjmNi5pcn7td60n2TWSPUCbLpiZxvHbU9l6hFvarlB7HY7rXnPfH7fImSoYLcwcBKrUJqDx8oGxsypxTTeUkWiMOGBiQrKhBCppQApRdRAT3woZrg3_Nb3xH320AJ2S9FwZH5r-03hfcshU4lB3VzpSZgLWhPg
2024-11-15 12:30:39.163 +02:00 [INF] Verifying Firebase ID token.
2024-11-15 12:30:39.173 +02:00 [INF] Firebase ID token verified successfully for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-15 12:30:39.173 +02:00 [INF] Retrieving user information for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-15 12:30:39.754 +02:00 [INF] User information retrieved successfully. Email: trentfisher017@gmail.com, Display Name: Trent Fisher
2024-11-15 12:30:39.889 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__uid_0
2024-11-15 12:30:39.916 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='46', @p0='2024-11-15T10:30:39.8982041Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-15 12:30:39.919 +02:00 [INF] GoogleLogin successful for user trentfisher017@gmail.com with role Student
2024-11-15 12:30:39.921 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-15 12:30:39.928 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp) in 865.5175ms
2024-11-15 12:30:39.929 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-15 12:30:39.931 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/GoogleLogin - 200 null application/json; charset=utf-8 986.8734ms
2024-11-15 12:30:39.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-15 12:30:39.966 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:30:39.978 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:30:40.025 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:30:40.061 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-15 12:30:40.129 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-15 12:30:40.145 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:30:40.150 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:30:40.165 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:30:40.184 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-15 12:30:40.355 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 176.8281ms.
2024-11-15 12:30:40.356 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 376.7693ms
2024-11-15 12:30:40.358 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:30:40.359 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 405.7152ms
2024-11-15 12:30:40.457 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:30:40.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:30:40.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 39.2376ms
2024-11-15 12:30:40.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.3912ms
2024-11-15 12:30:50.541 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/UserProfile - null null
2024-11-15 12:30:50.547 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.UserProfile (Apptivate_UQMS_WebApp)'
2024-11-15 12:30:50.551 +02:00 [INF] Route matched with {action = "UserProfile", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserProfile() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 12:30:50.558 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:30:50.562 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:30:50.566 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:30:50.568 +02:00 [INF] Executing ViewResult, running view UserProfile.
2024-11-15 12:30:50.577 +02:00 [INF] Executed ViewResult - view UserProfile executed in 9.1001ms.
2024-11-15 12:30:50.578 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.UserProfile (Apptivate_UQMS_WebApp) in 25.2639ms
2024-11-15 12:30:50.578 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.UserProfile (Apptivate_UQMS_WebApp)'
2024-11-15 12:30:50.579 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/UserProfile - 200 null text/html; charset=utf-8 38.3607ms
2024-11-15 12:30:50.603 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/UserProfile.css - null null
2024-11-15 12:30:50.608 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/profile-1341 - null null
2024-11-15 12:30:50.608 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/UserProfile.js - null null
2024-11-15 12:30:50.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:30:50.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:30:50.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/profile-1341 - 404 0 null 9.2615ms
2024-11-15 12:30:50.632 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.3221ms
2024-11-15 12:30:50.632 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8181ms
2024-11-15 12:30:50.638 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Svgs/profile-1341, Response status code: 404
2024-11-15 12:30:50.667 +02:00 [INF] Sending file. Request path: '/css/UserProfile.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\UserProfile.css'
2024-11-15 12:30:50.668 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/UserProfile.css - 200 7678 text/css 65.0253ms
2024-11-15 12:30:50.764 +02:00 [INF] Sending file. Request path: '/js/UserProfile.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\UserProfile.js'
2024-11-15 12:30:50.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/UserProfile.js - 200 10536 text/javascript 156.0974ms
2024-11-15 12:31:26.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs/Index - null null
2024-11-15 12:31:26.761 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 12:31:26.764 +02:00 [INF] Route matched with {action = "Index", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-15 12:31:26.782 +02:00 [INF] Found 31 log files
2024-11-15 12:31:26.784 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-15 12:31:26.789 +02:00 [INF] Executed ViewResult - view Index executed in 4.5011ms.
2024-11-15 12:31:26.793 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp) in 27.2094ms
2024-11-15 12:31:26.794 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 12:31:26.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs/Index - 200 null text/html; charset=utf-8 45.7178ms
2024-11-15 12:31:26.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:31:26.852 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:31:26.853 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.738ms
2024-11-15 12:31:26.858 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.3966ms
2024-11-15 12:31:28.435 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-15 12:31:28.441 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 12:31:28.443 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:31:28.446 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-15 12:31:28.446 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.6205ms
2024-11-15 12:31:28.447 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 12:31:28.448 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 13.1862ms
2024-11-15 12:31:28.452 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-15 12:31:28.457 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:31:28.458 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 12:31:28.467 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:31:28.474 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-15 12:31:28.485 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-15 12:31:28.495 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 12:31:28.500 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:31:28.510 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 12:31:28.511 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-15 12:31:28.514 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 2.4685ms.
2024-11-15 12:31:28.515 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 55.5384ms
2024-11-15 12:31:28.515 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 12:31:28.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 64.3456ms
2024-11-15 12:31:28.546 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 12:31:28.548 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0596ms
2024-11-15 12:31:28.557 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 12:31:28.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.64ms
2024-11-15 13:35:27.509 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-15 13:35:27.607 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:27.616 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 13:35:27.632 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-15 13:35:27.634 +02:00 [ERR] User not logged in.
2024-11-15 13:35:27.638 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-15 13:35:27.640 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 23.0133ms
2024-11-15 13:35:27.641 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:27.641 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 302 0 null 134.4349ms
2024-11-15 13:35:27.653 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 13:35:27.660 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:27.663 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 13:35:28.683 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 13:35:28.688 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-15 13:35:28.689 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-15 13:35:28.689 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-15 13:35:28.690 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1025.9571ms
2024-11-15 13:35:28.691 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:28.692 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a027227d-b6fe-22f3-eb92-64c98d0622a8
2024-11-15 13:35:28.693 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1039.6683ms
2024-11-15 13:35:29.784 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 13:35:29.791 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:29.793 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 13:35:30.110 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 13:35:30.114 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-15 13:35:30.116 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-15 13:35:30.118 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 323.8394ms
2024-11-15 13:35:30.120 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:30.121 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 337.6008ms
2024-11-15 13:35:30.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-15 13:35:30.133 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:30.134 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 13:35:30.135 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-15 13:35:30.136 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.5074ms
2024-11-15 13:35:30.136 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:30.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 11.4275ms
2024-11-15 13:35:30.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-15 13:35:30.143 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:30.143 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 13:35:30.155 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 13:35:30.179 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-15 13:35:30.189 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-15 13:35:30.193 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 13:35:30.195 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 13:35:30.203 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 13:35:30.210 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-15 13:35:30.220 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 13.8911ms.
2024-11-15 13:35:30.221 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 76.4454ms
2024-11-15 13:35:30.221 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 13:35:30.222 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 82.8105ms
2024-11-15 13:35:30.272 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 13:35:30.281 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.627ms
2024-11-15 13:35:30.281 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 13:35:30.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.1071ms
2024-11-15 16:00:13.189 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-15 16:00:13.461 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-15 16:00:13.462 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-15 16:00:13.466 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-15 16:00:13.467 +02:00 [INF] Hosting environment: Development
2024-11-15 16:00:13.469 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-15 16:00:14.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 16:00:14.624 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731670238. Expected to be greater than 1731679214.
2024-11-15 16:00:14.631 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731670238. Expected to be greater than 1731679214.
2024-11-15 16:00:14.633 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 16:00:14.647 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 16:00:14.658 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731670238. Expected to be greater than 1731679214.
2024-11-15 16:00:14.664 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 16:00:14.818 +02:00 [INF] Executed ViewResult - view Login executed in 154.6006ms.
2024-11-15 16:00:14.828 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 178.204ms
2024-11-15 16:00:14.831 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 16:00:14.842 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 610.9096ms
2024-11-15 16:00:14.901 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-15 16:00:14.901 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 16:00:14.901 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-15 16:00:14.901 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 16:00:14.901 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-15 16:00:14.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 17.3792ms
2024-11-15 16:00:14.920 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731670238. Expected to be greater than 1731679214.
2024-11-15 16:00:14.920 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731670238. Expected to be greater than 1731679214.
2024-11-15 16:00:14.920 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731670238. Expected to be greater than 1731679214.
2024-11-15 16:00:14.931 +02:00 [INF] The file /js/login.js was not modified
2024-11-15 16:00:14.931 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-15 16:00:14.933 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 32.8259ms
2024-11-15 16:00:14.931 +02:00 [INF] The file /css/Login.css was not modified
2024-11-15 16:00:14.933 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 33.1362ms
2024-11-15 16:00:14.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 40.5469ms
2024-11-15 16:00:14.982 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.1208ms
2024-11-15 16:04:10.261 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-15 16:04:10.414 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731670238. Expected to be greater than 1731679450.
2024-11-15 16:04:10.419 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731670238. Expected to be greater than 1731679450.
2024-11-15 16:04:10.421 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:10.529 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 16:04:10.637 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-15 16:04:10.677 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 16:04:10.691 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 16:04:11.323 +02:00 [INF] Received HTTP response headers after 627.1692ms - 200
2024-11-15 16:04:11.326 +02:00 [INF] End processing HTTP request after 651.9898ms - 200
2024-11-15 16:04:11.332 +02:00 [INF] User logged in successfully.
2024-11-15 16:04:14.594 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-15 16:04:16.524 +02:00 [INF] Executed DbCommand (174ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 16:04:16.926 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p1='5', @p0='2024-11-15T14:04:16.7053859Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-15 16:04:16.984 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-15 16:04:16.987 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-15 16:04:17.006 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-15 16:04:17.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 6477.2766ms
2024-11-15 16:04:17.010 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:17.015 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:34e84fb7-dc44-aa3d-847f-4c5d66a73179
2024-11-15 16:04:17.032 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 6778.7245ms
2024-11-15 16:04:17.045 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-15 16:04:17.541 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:17.558 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 16:04:17.768 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 16:04:17.833 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 16:04:17.859 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 16:04:17.952 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 16:04:18.018 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-15 16:04:18.060 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-15 16:04:18.075 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-15 16:04:18.107 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-15 16:04:18.131 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-15 16:04:18.143 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-15 16:04:18.256 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-15 16:04:18.322 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 16:04:18.343 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 16:04:18.372 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 16:04:18.467 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-15 16:04:18.556 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__startDate_0='2024-10-16T14:04:18.5049373Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 16:04:18.589 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-15 16:04:18.714 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 134.5086ms.
2024-11-15 16:04:18.715 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 1156.2717ms
2024-11-15 16:04:18.717 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:18.718 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1672.9323ms
2024-11-15 16:04:18.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 16:04:18.934 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-15 16:04:18.935 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-15 16:04:18.935 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 16:04:18.942 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 19.8218ms
2024-11-15 16:04:18.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 49.1789ms
2024-11-15 16:04:18.987 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 52.0552ms
2024-11-15 16:04:18.988 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-15 16:04:18.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.7275ms
2024-11-15 16:04:18.992 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-15 16:04:19.333 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-15 16:04:19.333 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-15 16:04:19.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-15 16:04:19.357 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:19.357 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:19.357 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:19.365 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 16:04:19.367 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 16:04:19.373 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 16:04:19.514 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__startDate_0='2024-10-16T14:04:19.3914692Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-15 16:04:19.521 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 16:04:19.552 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__startDate_0='2024-10-16T14:04:19.3971256Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-15 16:04:19.558 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 183.4213ms
2024-11-15 16:04:19.560 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:19.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 230.1ms
2024-11-15 16:04:19.570 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 16:04:19.583 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 205.9234ms
2024-11-15 16:04:19.584 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:19.586 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 252.3194ms
2024-11-15 16:04:19.593 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__startDate_0='2023-12-15T16:04:19.3721047+02:00' (Nullable = true), @__endDate_1='2024-11-15T16:04:19.3721047+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-15 16:04:19.611 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-15 16:04:19.616 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-15 16:04:19.627 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 259.7221ms
2024-11-15 16:04:19.629 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-15 16:04:19.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 298.9309ms
2024-11-15 16:40:48.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-15 16:40:49.390 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 16:40:49.406 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 16:40:49.425 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-15 16:40:49.430 +02:00 [ERR] User not logged in.
2024-11-15 16:40:49.458 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-15 16:40:49.463 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 54.6082ms
2024-11-15 16:40:49.465 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 16:40:49.467 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 600.18ms
2024-11-15 16:40:49.486 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 16:40:49.495 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 16:40:49.496 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 16:40:50.384 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 16:40:50.394 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-15 16:40:50.394 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-15 16:40:50.395 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-15 16:40:50.396 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 899.3275ms
2024-11-15 16:40:50.397 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 16:40:50.399 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:7ee572d8-5412-5495-efea-87ee0c920e45
2024-11-15 16:40:50.400 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 914.3473ms
2024-11-15 16:40:50.410 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-15 16:40:50.417 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-15 16:40:50.420 +02:00 [INF] AuthenticationScheme: Firebase was forbidden.
2024-11-15 16:40:50.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 403 0 null 10.6606ms
2024-11-15 18:52:06.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 18:52:06.293 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689526.
2024-11-15 18:52:06.298 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689526.
2024-11-15 18:52:06.305 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:06.315 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:52:06.335 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731683051. Expected to be greater than 1731689526.
2024-11-15 18:52:06.374 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 18:52:06.431 +02:00 [INF] Executed ViewResult - view Login executed in 92.0809ms.
2024-11-15 18:52:06.434 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 115.7434ms
2024-11-15 18:52:06.435 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:06.437 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 296.6613ms
2024-11-15 18:52:06.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-15 18:52:06.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 18:52:06.480 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 18:52:06.488 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689526.
2024-11-15 18:52:06.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.3513ms
2024-11-15 18:52:06.497 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-15 18:52:06.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 22.3636ms
2024-11-15 18:52:06.514 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6627ms
2024-11-15 18:52:24.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/SelectRole - null null
2024-11-15 18:52:24.676 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689544.
2024-11-15 18:52:24.677 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689544.
2024-11-15 18:52:24.679 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:24.703 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:52:24.712 +02:00 [INF] Executing ViewResult, running view SelectRole.
2024-11-15 18:52:24.749 +02:00 [INF] Executed ViewResult - view SelectRole executed in 40.3344ms.
2024-11-15 18:52:24.750 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 45.9006ms
2024-11-15 18:52:24.752 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:24.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/SelectRole - 200 null text/html; charset=utf-8 87.464ms
2024-11-15 18:52:24.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/UserRoles.css - null null
2024-11-15 18:52:24.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/id-card-identity-name-identification-information-office-svgrepo-com.svg - null null
2024-11-15 18:52:24.785 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 18:52:24.786 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/brain-svgrepo-com (1).png - null null
2024-11-15 18:52:24.786 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689544.
2024-11-15 18:52:24.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 18:52:24.788 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689544.
2024-11-15 18:52:24.789 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1816ms
2024-11-15 18:52:24.794 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689544.
2024-11-15 18:52:24.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.0725ms
2024-11-15 18:52:24.836 +02:00 [INF] Sending file. Request path: '/Svgs/brain-svgrepo-com (1).png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\brain-svgrepo-com (1).png'
2024-11-15 18:52:24.842 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/brain-svgrepo-com (1).png - 200 25971 image/png 55.6458ms
2024-11-15 18:52:24.877 +02:00 [INF] Sending file. Request path: '/Svgs/id-card-identity-name-identification-information-office-svgrepo-com.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\id-card-identity-name-identification-information-office-svgrepo-com.svg'
2024-11-15 18:52:24.880 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/id-card-identity-name-identification-information-office-svgrepo-com.svg - 200 1328 image/svg+xml 96.5132ms
2024-11-15 18:52:24.883 +02:00 [INF] Sending file. Request path: '/css/UserRoles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\UserRoles.css'
2024-11-15 18:52:24.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/UserRoles.css - 200 2545 text/css 103.1109ms
2024-11-15 18:52:24.919 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/User_roles_background.png - null null
2024-11-15 18:52:24.923 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689544.
2024-11-15 18:52:24.931 +02:00 [INF] Sending file. Request path: '/Images/User_roles_background.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\User_roles_background.png'
2024-11-15 18:52:24.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/User_roles_background.png - 200 327537 image/png 13.298ms
2024-11-15 18:52:27.452 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/SelectRole - application/x-www-form-urlencoded 195
2024-11-15 18:52:27.468 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689547.
2024-11-15 18:52:27.470 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689547.
2024-11-15 18:52:27.473 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:27.480 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole(System.String) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:52:27.497 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Register.
2024-11-15 18:52:27.508 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 27.1317ms
2024-11-15 18:52:27.510 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:27.511 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/SelectRole - 302 0 null 59.1286ms
2024-11-15 18:52:27.517 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Register - null null
2024-11-15 18:52:27.520 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689547.
2024-11-15 18:52:27.521 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689547.
2024-11-15 18:52:27.522 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:27.529 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:52:27.538 +02:00 [INF] Register page loaded.
2024-11-15 18:52:27.684 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [d].[DepartmentID]) AS [Value], [d].[DepartmentName] AS [Text]
FROM [Departments] AS [d]
2024-11-15 18:52:27.713 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CourseID]) AS [Value], [c].[CourseName] AS [Text]
FROM [Courses] AS [c]
2024-11-15 18:52:27.729 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [p].[PositionID]) AS [Value], [p].[PositionName] AS [Text]
FROM [Positions] AS [p]
2024-11-15 18:52:27.740 +02:00 [INF] SELECTED model ROLE: Student
2024-11-15 18:52:27.742 +02:00 [INF] SELECTED ROLE: Student
2024-11-15 18:52:27.744 +02:00 [INF] Executing ViewResult, running view Register.
2024-11-15 18:52:27.825 +02:00 [INF] Executed ViewResult - view Register executed in 82.4268ms.
2024-11-15 18:52:27.828 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 296.4512ms
2024-11-15 18:52:27.829 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:27.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Register - 200 null text/html; charset=utf-8 312.874ms
2024-11-15 18:52:27.860 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 18:52:27.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/password-toggle.js - null null
2024-11-15 18:52:27.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Registration.js - null null
2024-11-15 18:52:27.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Register.css - null null
2024-11-15 18:52:27.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 18:52:27.864 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7055ms
2024-11-15 18:52:27.866 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689547.
2024-11-15 18:52:27.867 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689547.
2024-11-15 18:52:27.869 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689547.
2024-11-15 18:52:27.877 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.7802ms
2024-11-15 18:52:27.914 +02:00 [INF] Sending file. Request path: '/css/Register.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Register.css'
2024-11-15 18:52:27.916 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Register.css - 200 10645 text/css 55.2892ms
2024-11-15 18:52:27.990 +02:00 [INF] Sending file. Request path: '/js/Registration.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Registration.js'
2024-11-15 18:52:27.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Registration.js - 200 1597 text/javascript 130.33ms
2024-11-15 18:52:27.991 +02:00 [INF] Sending file. Request path: '/js/password-toggle.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\password-toggle.js'
2024-11-15 18:52:27.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/password-toggle.js - 200 7780 text/javascript 133.9656ms
2024-11-15 18:52:49.091 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/GetCoursesByDepartment?departmentId=4 - null null
2024-11-15 18:52:49.097 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689569.
2024-11-15 18:52:49.098 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689569.
2024-11-15 18:52:49.100 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:49.106 +02:00 [INF] Route matched with {action = "GetCoursesByDepartment", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByDepartment(Int32) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:52:49.110 +02:00 [INF] GetDepartmentWithCourses hit !! : 4
2024-11-15 18:52:49.113 +02:00 [INF] GetDepartmentWithCoursesAsync hit : 4
2024-11-15 18:52:49.169 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__departmentId_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CourseID], [c].[CourseCode]
FROM [DepartmentCourses] AS [d]
INNER JOIN [Courses] AS [c] ON [d].[CourseID] = [c].[CourseID]
WHERE [d].[DepartmentID] = @__departmentId_0
2024-11-15 18:52:49.186 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.DTOs.AccountDto+CourseDto, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-15 18:52:49.244 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp) in 136.4999ms
2024-11-15 18:52:49.246 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp)'
2024-11-15 18:52:49.248 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/GetCoursesByDepartment?departmentId=4 - 200 null application/json; charset=utf-8 156.9433ms
2024-11-15 18:53:42.548 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Register - multipart/form-data; boundary=----WebKitFormBoundaryb9HtFnHqaIWyiWLC 1239
2024-11-15 18:53:42.561 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689622.
2024-11-15 18:53:42.564 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689622.
2024-11-15 18:53:42.565 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-15 18:53:42.639 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:53:42.811 +02:00 [INF] Attempting to register user with email: trentfisher017@gmail.com
2024-11-15 18:53:42.873 +02:00 [WRN] Weak password provided during registration.
2024-11-15 18:53:42.888 +02:00 [ERR] An error occurred during user registration: Password does not meet strength requirements.
System.Exception: Password does not meet strength requirements.
   at Apptivate_UQMS_WebApp.Services.AccountServices.UserRegistrationService.RegisterUserAsync(RegisterViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\UserRegistrationService.cs:line 54
2024-11-15 18:53:43.152 +02:00 [ERR] Registration error.
System.Exception: Registration failed. Please check your input.
   at Apptivate_UQMS_WebApp.Services.AccountServices.UserRegistrationService.RegisterUserAsync(RegisterViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\UserRegistrationService.cs:line 121
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Register(RegisterViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 113
2024-11-15 18:53:43.163 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-15 18:53:43.222 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 570.4156ms
2024-11-15 18:53:43.232 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-15 18:53:43.233 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Register - 200 null application/json; charset=utf-8 685.3331ms
2024-11-15 18:53:46.564 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/SelectRole - null null
2024-11-15 18:53:46.577 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689626.
2024-11-15 18:53:46.617 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689626.
2024-11-15 18:53:46.630 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-15 18:53:46.634 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:53:46.642 +02:00 [INF] Executing ViewResult, running view SelectRole.
2024-11-15 18:53:46.648 +02:00 [INF] Executed ViewResult - view SelectRole executed in 6.4806ms.
2024-11-15 18:53:46.654 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 12.9141ms
2024-11-15 18:53:46.701 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-15 18:53:46.703 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/SelectRole - 200 null text/html; charset=utf-8 138.4939ms
2024-11-15 18:53:46.774 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 18:53:47.134 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 359.4165ms
2024-11-15 18:53:48.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 18:53:48.241 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689628.
2024-11-15 18:53:48.243 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689628.
2024-11-15 18:53:48.250 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 18:53:48.255 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:53:48.261 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731683051. Expected to be greater than 1731689628.
2024-11-15 18:53:48.287 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 18:53:48.297 +02:00 [INF] Executed ViewResult - view Login executed in 11.6458ms.
2024-11-15 18:53:48.300 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 40.1693ms
2024-11-15 18:53:48.321 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 18:53:48.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 116.6271ms
2024-11-15 18:53:48.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 18:53:48.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 21.7324ms
2024-11-15 18:53:55.359 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 231
2024-11-15 18:53:55.373 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689635.
2024-11-15 18:53:55.375 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731689635.
2024-11-15 18:53:55.377 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 18:53:55.380 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 18:53:55.394 +02:00 [INF] Attempting to log in user with email: jorge@gmail.com
2024-11-15 18:53:55.405 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 18:53:55.416 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 18:53:56.036 +02:00 [INF] Received HTTP response headers after 616.3159ms - 400
2024-11-15 18:53:56.038 +02:00 [INF] End processing HTTP request after 633.1209ms - 400
2024-11-15 18:53:56.043 +02:00 [ERR] Failed to log in user with email: jorge@gmail.com
System.Exception: An error occurred during login. Please try again.
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 126
2024-11-15 18:53:56.046 +02:00 [ERR] Error occurred during login.
System.Exception: Your Email or password is incorrect. Please try again
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 148
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 223
2024-11-15 18:53:56.051 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 18:53:56.059 +02:00 [INF] Executed ViewResult - view Login executed in 7.6657ms.
2024-11-15 18:53:56.064 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 675.9259ms
2024-11-15 18:53:56.067 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 18:53:56.186 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 827.114ms
2024-11-15 18:53:56.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 18:53:56.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 18:53:56.199 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.5576ms
2024-11-15 18:53:56.279 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.6632ms
2024-11-15 19:02:44.483 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-15 19:02:44.557 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731690164.
2024-11-15 19:02:44.559 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731683051. Expected to be greater than 1731690164.
2024-11-15 19:02:44.560 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 19:02:44.563 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 19:02:44.570 +02:00 [INF] Attempting to log in user with email: jorge@gmail.com
2024-11-15 19:02:44.573 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 19:02:44.575 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 19:02:45.214 +02:00 [INF] Received HTTP response headers after 638.2078ms - 200
2024-11-15 19:02:45.215 +02:00 [INF] End processing HTTP request after 642.9367ms - 200
2024-11-15 19:02:45.218 +02:00 [INF] User logged in successfully.
2024-11-15 19:02:46.230 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUser_Uid_0='a5zHm5xhMpfm1TbNBSM3GXRXWLf2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 19:02:46.273 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='1', @p0='2024-11-15T17:02:46.2463670Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-15 19:02:46.280 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-15 19:02:46.282 +02:00 [INF] User Jorge@gmail.com logged in successfully.
2024-11-15 19:02:46.283 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-15 19:02:46.284 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1719.4968ms
2024-11-15 19:02:46.285 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 19:02:46.285 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:3b0a9c16-602a-142c-b845-9a5a32ebf556
2024-11-15 19:02:46.286 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 1804.4624ms
2024-11-15 19:02:46.297 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-15 19:02:46.326 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 19:02:46.342 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 19:02:46.422 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='a5zHm5xhMpfm1TbNBSM3GXRXWLf2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:02:46.548 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__student_StudentID_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-15 19:02:46.663 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__student_StudentID_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-15 19:02:46.820 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='a5zHm5xhMpfm1TbNBSM3GXRXWLf2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:02:46.827 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 19:02:46.843 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_UserID_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 19:02:46.857 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-15 19:02:46.952 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 105.003ms.
2024-11-15 19:02:46.955 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 610.9652ms
2024-11-15 19:02:46.956 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 19:02:46.956 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 658.8509ms
2024-11-15 19:02:47.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:02:47.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.828ms
2024-11-15 19:02:47.026 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:02:47.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3445ms
2024-11-15 19:02:49.098 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-15 19:02:49.110 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-15 19:02:49.113 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 19:02:49.115 +02:00 [INF] User logged out.
2024-11-15 19:02:49.117 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-15 19:02:49.118 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 3.8583ms
2024-11-15 19:02:49.119 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-15 19:02:49.120 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 22.2176ms
2024-11-15 19:02:49.127 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 19:02:49.132 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 19:02:49.134 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 19:02:49.134 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 19:02:49.135 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 19:02:49.136 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 19:02:49.142 +02:00 [INF] Executed ViewResult - view Login executed in 5.1527ms.
2024-11-15 19:02:49.143 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 6.7128ms
2024-11-15 19:02:49.144 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 19:02:49.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 17.7373ms
2024-11-15 19:02:49.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:02:49.187 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:02:49.194 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.5221ms
2024-11-15 19:02:49.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.5503ms
2024-11-15 19:03:06.524 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/GoogleLogin - application/json 1191
2024-11-15 19:03:06.530 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 19:03:06.532 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 19:03:06.533 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:06.542 +02:00 [INF] Route matched with {action = "GoogleLogin", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(GoogleLoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 19:03:06.605 +02:00 [INF] GoogleLogin attempt initiated
2024-11-15 19:03:06.607 +02:00 [INF] here is your token grump eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlNTIxYmY1ZjdhNDAwOGMzYmQ3MjFmMzk2OTcwOWI1MzY0MzA5NjEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVHJlbnQgRmlzaGVyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lfMG11MTRncWZqLW4zMDZsZUlEZ2JmZk83bHByOWQyUUlUd2h2OVdLanZCaXdMcDh3PXM5Ni1jIiwicm9sZSI6IlN0dWRlbnQiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vdXFtcy1hM2Q4NyIsImF1ZCI6InVxbXMtYTNkODciLCJhdXRoX3RpbWUiOjE3MzE2OTAxODYsInVzZXJfaWQiOiJjc3VzVXRJWkMzY1Z0cW5UOW1xRjNlN0pnbDIzIiwic3ViIjoiY3N1c1V0SVpDM2NWdHFuVDltcUYzZTdKZ2wyMyIsImlhdCI6MTczMTY5MDE4NiwiZXhwIjoxNzMxNjkzNzg2LCJlbWFpbCI6InRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE4MDQwODkyMzQ5OTA3NzczODcyIl0sImVtYWlsIjpbInRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.hF306zVZuYi1z_D76WuHVJNdvV7bE1bsDohhXMlkwBSM1IoSAnl5mZz-AMenfeTPjxCfmgt_sxoY031PqwcVvHGwYAr-5gY0yaaeq-b4-_-gCT9TuA7qNa9MclaYYWST1dCnlCw1Cl3sAosghk2EfFSKA91GSPvDZXI8-W2_WVqbIzzm2yUqzaUsuF7QzJ24OXIaY3YSP5bUA9sOXVYVWlWINQlTv4sGGvYB-Gsobg1Dzx3HeyUMXmL9nxoUct9kIJvbR6CunqVuVYM3OprlVMCnLH6V9rjigtPoVOlLYvtJa5M_mdD-7y2u0eNxhvNNB9QQ1qectNotWI99g4xSMQ
2024-11-15 19:03:06.609 +02:00 [INF] Verifying Firebase ID token.
2024-11-15 19:03:06.611 +02:00 [INF] Firebase ID token verified successfully for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-15 19:03:06.625 +02:00 [INF] Retrieving user information for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-15 19:03:06.953 +02:00 [INF] User information retrieved successfully. Email: trentfisher017@gmail.com, Display Name: Trent Fisher
2024-11-15 19:03:06.976 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__uid_0
2024-11-15 19:03:06.986 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='46', @p0='2024-11-15T17:03:06.9793944Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-15 19:03:06.989 +02:00 [INF] GoogleLogin successful for user trentfisher017@gmail.com with role Student
2024-11-15 19:03:06.992 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-15 19:03:06.995 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp) in 446.3839ms
2024-11-15 19:03:07.000 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:07.001 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/GoogleLogin - 200 null application/json; charset=utf-8 477.5817ms
2024-11-15 19:03:07.016 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-15 19:03:07.025 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:07.026 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 19:03:07.036 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:03:07.051 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-15 19:03:07.062 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-15 19:03:07.068 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:03:07.075 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 19:03:07.087 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 19:03:07.090 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-15 19:03:07.095 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 5.2308ms.
2024-11-15 19:03:07.096 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 68.069ms
2024-11-15 19:03:07.098 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:07.099 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 82.8642ms
2024-11-15 19:03:07.133 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:03:07.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6976ms
2024-11-15 19:03:07.142 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:03:07.162 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.8118ms
2024-11-15 19:03:14.060 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-15 19:03:14.069 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:14.076 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:03:14.148 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:03:14.153 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-15 19:03:14.194 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 43.6703ms.
2024-11-15 19:03:14.195 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 117.3352ms
2024-11-15 19:03:14.196 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:14.197 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 137.3642ms
2024-11-15 19:03:14.225 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:03:14.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:03:14.227 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3401ms
2024-11-15 19:03:14.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.4624ms
2024-11-15 19:03:19.590 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-15 19:03:19.599 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:19.603 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:03:19.611 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:03:19.614 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-15 19:03:19.622 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 8.6603ms.
2024-11-15 19:03:19.629 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 23.5469ms
2024-11-15 19:03:19.631 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:19.632 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 42.1229ms
2024-11-15 19:03:19.660 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:03:19.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:03:19.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.14ms
2024-11-15 19:03:19.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.8097ms
2024-11-15 19:03:20.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-15 19:03:20.719 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:20.725 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:03:20.729 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:03:20.747 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-15 19:03:20.757 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-15 19:03:20.762 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:03:20.799 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 19:03:20.836 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-15 19:03:20.969 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-15 19:03:21.012 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 43.1744ms.
2024-11-15 19:03:21.014 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 287.5754ms
2024-11-15 19:03:21.015 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:21.016 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 302.6328ms
2024-11-15 19:03:21.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AcademicQuery.css?v=OyeICuJsiCO8xbRS4ThLChwjDYMQXHOjp4Yjc8A5llk - null null
2024-11-15 19:03:21.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:03:21.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:03:21.045 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.1339ms
2024-11-15 19:03:21.046 +02:00 [INF] Sending file. Request path: '/css/AcademicQuery.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AcademicQuery.css'
2024-11-15 19:03:21.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AcademicQuery.css?v=OyeICuJsiCO8xbRS4ThLChwjDYMQXHOjp4Yjc8A5llk - 200 10310 text/css 11.8378ms
2024-11-15 19:03:21.050 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.1299ms
2024-11-15 19:03:45.250 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryVqfN4s9BQd23UkXu 804
2024-11-15 19:03:45.267 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:45.291 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:03:45.297 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:03:45.318 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-15 19:03:45.319 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-15 19:03:45.325 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:03:45.344 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 19:03:45.356 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-15 19:03:45.362 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-15 19:03:45.363 +02:00 [INF] Student details:0
2024-11-15 19:03:45.510 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='ee' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-15T19:03:45.3928837+02:00' (Nullable = true), @p10='20241115-43972' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-15 19:03:45.536 +02:00 [INF] Query with ID 113 successfully created.
2024-11-15 19:03:45.549 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-15 19:03:45.563 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-15 19:03:45.595 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-15 19:03:45.665 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='113', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-15T19:03:45.5978254+02:00' (Nullable = true), @p3='20241115-56129' (Nullable = false) (Size = 4000), @p4='113' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-15 19:03:45.679 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-15 19:03:45.684 +02:00 [INF] Get Staff email called with staffId: 10
2024-11-15 19:03:45.693 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-15 19:03:45.701 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-15 19:03:45.705 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-15 19:03:45.713 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-15 19:03:46.138 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-15 19:03:46.140 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-15 19:03:46.142 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-15 19:03:46.148 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-15 19:03:46.152 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-15 19:03:46.153 +02:00 [INF] sent notification to  10.
2024-11-15 19:03:46.154 +02:00 [INF] Query submission process completed successfully for QueryID 113.
2024-11-15 19:03:46.157 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-15 19:03:46.158 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:03:46.162 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:03:46.164 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-15 19:03:46.164 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-15 19:03:46.382 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-15 19:03:46.383 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-15 19:03:46.385 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-15 19:03:46.389 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1096.8815ms
2024-11-15 19:03:46.391 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:46.392 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1142.1955ms
2024-11-15 19:03:46.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-15 19:03:46.411 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:46.412 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:03:46.419 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:03:46.421 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-15 19:03:46.444 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 23.5742ms.
2024-11-15 19:03:46.445 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 31.7886ms
2024-11-15 19:03:46.446 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:03:46.448 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 49.1353ms
2024-11-15 19:03:46.479 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:03:46.479 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:03:46.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3064ms
2024-11-15 19:03:46.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.4353ms
2024-11-15 19:25:30.998 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-15 19:25:31.069 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-15 19:25:31.078 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 19:25:31.083 +02:00 [INF] User logged out.
2024-11-15 19:25:31.098 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-15 19:25:31.099 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 19.2687ms
2024-11-15 19:25:31.100 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-15 19:25:31.105 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 108.5938ms
2024-11-15 19:25:31.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-15 19:25:31.124 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 19:25:31.125 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 19:25:31.127 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 19:25:31.127 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 19:25:31.140 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-15 19:25:31.157 +02:00 [INF] Executed ViewResult - view Login executed in 27.8478ms.
2024-11-15 19:25:31.158 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 29.7518ms
2024-11-15 19:25:31.159 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 19:25:31.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 44.3426ms
2024-11-15 19:25:31.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:25:31.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:25:31.226 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.326ms
2024-11-15 19:25:31.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.7225ms
2024-11-15 19:27:36.632 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 223
2024-11-15 19:27:36.642 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 19:27:36.643 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-15 19:27:36.656 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 19:27:36.657 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-15 19:27:36.684 +02:00 [INF] Attempting to log in user with email: umar@gmail.com
2024-11-15 19:27:36.698 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 19:27:36.703 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-15 19:27:37.294 +02:00 [INF] Received HTTP response headers after 589.66ms - 200
2024-11-15 19:27:37.296 +02:00 [INF] End processing HTTP request after 598.2644ms - 200
2024-11-15 19:27:37.305 +02:00 [INF] User logged in successfully.
2024-11-15 19:27:37.920 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUser_Uid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-15 19:27:37.944 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='4', @p0='2024-11-15T17:27:37.9280293Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-15 19:27:37.953 +02:00 [INF] User umar@gmail.com logged in successfully.
2024-11-15 19:27:37.954 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-15 19:27:37.955 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1295.8223ms
2024-11-15 19:27:37.956 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-15 19:27:37.957 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 1324.8453ms
2024-11-15 19:27:37.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-15 19:27:37.972 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 19:27:37.996 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-15 19:27:38.090 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:27:38.174 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-15 19:27:38.271 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-15 19:27:38.467 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-15 19:27:38.490 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:27:38.501 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 19:27:38.509 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-15 19:27:38.519 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-15 19:27:38.616 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 98.3555ms.
2024-11-15 19:27:38.617 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 619.8512ms
2024-11-15 19:27:38.619 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-15 19:27:38.619 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 653.7885ms
2024-11-15 19:27:38.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:27:38.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1113ms
2024-11-15 19:27:38.684 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:27:38.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.3763ms
2024-11-15 19:27:38.804 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-15 19:27:38.816 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-15 19:27:38.875 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-15 19:27:38.876 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 71.311ms
2024-11-15 19:27:38.928 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=VCY0PCblM-PBRaVJdFVoOA - null null
2024-11-15 19:27:38.936 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-15 19:27:39.051 +02:00 [INF] User attempting to connect. Connection ID: xkM-p4mIpqeTrTEIFHOdUA, User ID: ZNjC4MhSSCSOhrXqDl96878H4MD3
2024-11-15 19:27:39.055 +02:00 [INF] User ZNjC4MhSSCSOhrXqDl96878H4MD3 connected with connection ID xkM-p4mIpqeTrTEIFHOdUA
2024-11-15 19:27:41.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-15 19:27:41.713 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:27:41.719 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:27:41.729 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:27:41.751 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:27:41.792 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-15 19:27:41.799 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-15 19:27:41.823 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 25.096ms.
2024-11-15 19:27:41.825 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 103.7927ms
2024-11-15 19:27:41.826 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:27:41.827 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 121.594ms
2024-11-15 19:27:41.852 +02:00 [INF] User disconnected. Connection ID: xkM-p4mIpqeTrTEIFHOdUA
2024-11-15 19:27:41.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - null null
2024-11-15 19:27:41.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:27:41.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:27:41.858 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-15 19:27:41.861 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.9629ms
2024-11-15 19:27:41.864 +02:00 [INF] The file /css/staffQueries.css was not modified
2024-11-15 19:27:41.864 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=VCY0PCblM-PBRaVJdFVoOA - 200 null null 2935.9439ms
2024-11-15 19:27:41.871 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - 304 null text/css 13.7138ms
2024-11-15 19:27:41.872 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.5287ms
2024-11-15 19:27:48.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=41 - null null
2024-11-15 19:27:48.641 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-15 19:27:48.645 +02:00 [INF] Route matched with {action = "QueryDetails", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryDetails(Int32) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:27:48.652 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:27:48.656 +02:00 [INF] GetStudentQueryAsync called with queryId: 41
2024-11-15 19:27:48.660 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:27:48.705 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__queryId_0='41'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate], [t].[Course], [t].[Department], [t].[UserID], [t].[Year0], [t].[ConnectionId], [t].[Email], [t].[FirebaseUID], [t].[IsOnline], [t].[LastSeen], [t].[Name], [t].[PasswordHash], [t].[RegistrationDate], [t].[Role], [t].[Surname], [t].[DepartmentName], [t].[CourseCode], [t].[CourseName]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [s].[StudentID] AS [StudentID0], [s].[Course], [s].[Department], [s].[UserID], [s].[Year] AS [Year0], [u].[UserID] AS [UserID0], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [d].[DepartmentID] AS [DepartmentID0], [d].[DepartmentName], [c].[CourseID] AS [CourseID0], [c].[CourseCode], [c].[CourseName]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
LEFT JOIN [QueryDocuments] AS [q0] ON [t].[QueryID] = [q0].[QueryID]
ORDER BY [t].[QueryID], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0]
2024-11-15 19:27:48.723 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 41
2024-11-15 19:27:48.726 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:27:48.734 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:27:48.755 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true), @__queryId_1='41' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-15 19:27:48.759 +02:00 [WRN] AssignmentID: 14
2024-11-15 19:27:48.759 +02:00 [WRN] QueryID: 41
2024-11-15 19:27:48.759 +02:00 [INF] Success !!!
2024-11-15 19:27:48.776 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/QueryDetails.cshtml.
2024-11-15 19:27:48.782 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:27:48.825 +02:00 [INF] Attempting to generate signed URL for object: c8ae9913-e134-435b-a0f0-b5f634d57134_amending commission statement flow chart.png
2024-11-15 19:27:48.867 +02:00 [INF] Successfully generated signed URL for object: c8ae9913-e134-435b-a0f0-b5f634d57134_amending commission statement flow chart.png
2024-11-15 19:27:48.867 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/c8ae9913-e134-435b-a0f0-b5f634d57134_amending%20commission%20statement%20flow%20chart.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241115%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241115T172748Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=777a2090c568ea7936549ac7d3a9e36291d7c9b7bd3af1040aa40afd383fe278ceed5fde8b85ee209a0dc29bc2f14e531fc9476ed194b7504f046cad770f6aaa5e3bff9f5dc4c5c060a0b3bcb851dbbc8404cca7a7d84384a90b204c6070c19e0e38d85800625445e2d3cadaf174606588806e0f48f351493b689297df04c06f8e582a303ec549dfe44bd6accef4ffb88c3789612123833640931256dd5f2750c47f5a538e1d0bd5f72cefec700d7ceed52193c9fd4000de7d319ff92eefdf8bda1efa50a9651d1188d47e4015b28e7e1b9bf14e2e9d4fa647950c3f95d9f4ee850561d22a8b364cb0a351bdc826d0b543ad942610f9dcfdfac595399f7de92f
2024-11-15 19:27:48.887 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/QueryDetails.cshtml executed in 112.019ms.
2024-11-15 19:27:48.889 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp) in 241.4136ms
2024-11-15 19:27:48.891 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-15 19:27:48.893 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=41 - 200 null text/html; charset=utf-8 256.9881ms
2024-11-15 19:27:48.916 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AssignedQueryDetails.css?v=3Dadah6tmLALO4aDJkoE2B2yuNWFWTe1BasA4Ayk3A8 - null null
2024-11-15 19:27:48.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:27:48.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:27:48.926 +02:00 [INF] Sending file. Request path: '/css/AssignedQueryDetails.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AssignedQueryDetails.css'
2024-11-15 19:27:48.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1673ms
2024-11-15 19:27:48.930 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AssignedQueryDetails.css?v=3Dadah6tmLALO4aDJkoE2B2yuNWFWTe1BasA4Ayk3A8 - 200 14940 text/css 13.5033ms
2024-11-15 19:27:48.936 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.766ms
2024-11-15 19:30:15.042 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/StaffQuery/SubmitSolutionToQuery - multipart/form-data; boundary=----WebKitFormBoundaryeN7Pq2AqPzLmVE3A 985
2024-11-15 19:30:15.049 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:15.105 +02:00 [INF] Route matched with {action = "SubmitSolutionToQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitSolutionToQuery(QueryResolutions, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:30:15.116 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:15.126 +02:00 [WRN] SubmitSolutionToQuery hit
2024-11-15 19:30:15.127 +02:00 [INF] Incoming Model Data: AssignmentID = 14, QueryID = 41, Solution = Ensure prerequisites are met; try registering during off-peak hours or contact admin, AdditionalNotes = null
2024-11-15 19:30:15.128 +02:00 [WRN] ModelState is invalid. Logging errors:
2024-11-15 19:30:15.132 +02:00 [WRN] ModelState Error - Key: uploadedFile, Error: The uploadedFile field is required., Exception: null
2024-11-15 19:30:15.134 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-15 19:30:15.142 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp) in 36.8698ms
2024-11-15 19:30:15.145 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:15.153 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Query_StaffQuery_StaffQueries.<ExecuteAsync>b__22_1() in C:\Users\trent\source\repos\Apptivate_UQMS\Views\Query\StaffQuery\StaffQueries.cshtml:line 76
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at AspNetCoreGeneratedDocument.Views_Query_StaffQuery_StaffQueries.ExecuteAsync()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-15 19:30:15.218 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/StaffQuery/SubmitSolutionToQuery - 500 null text/plain; charset=utf-8 175.9462ms
2024-11-15 19:30:24.959 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/StaffQuery/SubmitSolutionToQuery - multipart/form-data; boundary=----WebKitFormBoundaryTZP4zwtsEtiSKRpP 249508
2024-11-15 19:30:24.972 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:24.973 +02:00 [INF] Route matched with {action = "SubmitSolutionToQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitSolutionToQuery(QueryResolutions, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:30:25.013 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:25.023 +02:00 [WRN] SubmitSolutionToQuery hit
2024-11-15 19:30:25.023 +02:00 [INF] Incoming Model Data: AssignmentID = 14, QueryID = 41, Solution = Ensure prerequisites are met; try registering during off-peak hours or contact admin, AdditionalNotes = null
2024-11-15 19:30:25.025 +02:00 [WRN] Attempting SubmitSolutionToQueryAsync method
2024-11-15 19:30:25.049 +02:00 [INF] Query resolution process started for FirebaseUID: ZNjC4MhSSCSOhrXqDl96878H4MD3
2024-11-15 19:30:25.050 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 41
2024-11-15 19:30:25.070 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:25.082 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:25.089 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true), @__queryId_1='41' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-15 19:30:25.091 +02:00 [WRN] AssignmentID: 14
2024-11-15 19:30:25.092 +02:00 [WRN] QueryID: 41
2024-11-15 19:30:25.092 +02:00 [INF] Success !!!
2024-11-15 19:30:25.094 +02:00 [WRN] Received QueryID: 41, AssignmentID: 14
2024-11-15 19:30:25.216 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__model_QueryID_0='41'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[QueryID] = @__model_QueryID_0
2024-11-15 19:30:25.274 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p2='41', @p0='2024-11-15T19:30:25.2231898+02:00' (Nullable = true), @p1='Resolved' (Nullable = false) (Size = 4000), @p3=NULL (Size = 4000), @p4=NULL (Size = 4000), @p5='14', @p6='41', @p7='2024-11-15T19:30:25.0984289+02:00' (Nullable = true), @p8='Ensure prerequisites are met; try registering during off-peak hours or contact admin' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [ResolvedDate] = @p0, [Status] = @p1
OUTPUT 1
WHERE [QueryID] = @p2;
INSERT INTO [QueryResolutions] ([AdditionalNotes], [ApprovalStatus], [AssignmentID], [QueryID], [ResolutionDate], [Solution])
OUTPUT INSERTED.[ResolutionID]
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2024-11-15 19:30:25.290 +02:00 [INF] Query with ResolutionID 25 successfully created.
2024-11-15 19:30:25.306 +02:00 [INF] Uploading file: ICE Activity 1.pdf as 17d003de-9d55-4791-9892-e479d40edd65_ICE Activity 1.pdf
2024-11-15 19:30:29.065 +02:00 [INF] File uploaded successfully: 17d003de-9d55-4791-9892-e479d40edd65_ICE Activity 1.pdf
2024-11-15 19:30:29.236 +02:00 [INF] Executed DbCommand (155ms) [Parameters=[@p0='ICE Activity 1.pdf' (Nullable = false) (Size = 4000), @p1='17d003de-9d55-4791-9892-e479d40edd65_ICE Activity 1.pdf' (Nullable = false) (Size = 4000), @p2='41', @p3='2024-11-15T19:30:29.0685736+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-11-15 19:30:29.245 +02:00 [INF] Document associated with QueryID 41.
2024-11-15 19:30:29.289 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='118', @p1='25'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ResolutionDocuments] ([DocumentID], [ResolutionID])
VALUES (@p0, @p1);
2024-11-15 19:30:29.292 +02:00 [INF] Document associated with ResolutionID 25 and DocumentID 118.
2024-11-15 19:30:29.293 +02:00 [INF] Query submission process completed successfully for QueryID 41.
2024-11-15 19:30:29.298 +02:00 [WRN] SubmitSolutionToQueryAsync method executed successfully.
2024-11-15 19:30:29.300 +02:00 [INF] Executing RedirectResult, redirecting to /StaffQuery/StaffQueries.
2024-11-15 19:30:29.301 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp) in 4327.0791ms
2024-11-15 19:30:29.302 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:29.305 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/StaffQuery/SubmitSolutionToQuery - 302 0 null 4345.3779ms
2024-11-15 19:30:29.307 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-15 19:30:29.315 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:29.316 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:30:29.324 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:29.335 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:29.352 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-15 19:30:29.357 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-15 19:30:29.369 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 12.3986ms.
2024-11-15 19:30:29.371 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 53.1213ms
2024-11-15 19:30:29.372 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:29.373 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 65.5408ms
2024-11-15 19:30:31.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-15 19:30:31.439 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:31.440 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:30:31.445 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:31.455 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:31.469 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-15 19:30:31.475 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-15 19:30:31.484 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 9.0171ms.
2024-11-15 19:30:31.486 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 45.2905ms
2024-11-15 19:30:31.487 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:31.488 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 64.301ms
2024-11-15 19:30:31.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:30:31.541 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:30:31.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.1447ms
2024-11-15 19:30:31.588 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.5005ms
2024-11-15 19:30:40.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=47 - null null
2024-11-15 19:30:40.867 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:40.868 +02:00 [INF] Route matched with {action = "QueryDetails", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryDetails(Int32) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:30:40.872 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:40.874 +02:00 [INF] GetStudentQueryAsync called with queryId: 47
2024-11-15 19:30:40.885 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:40.902 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__queryId_0='47'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate], [t].[Course], [t].[Department], [t].[UserID], [t].[Year0], [t].[ConnectionId], [t].[Email], [t].[FirebaseUID], [t].[IsOnline], [t].[LastSeen], [t].[Name], [t].[PasswordHash], [t].[RegistrationDate], [t].[Role], [t].[Surname], [t].[DepartmentName], [t].[CourseCode], [t].[CourseName]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [s].[StudentID] AS [StudentID0], [s].[Course], [s].[Department], [s].[UserID], [s].[Year] AS [Year0], [u].[UserID] AS [UserID0], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [d].[DepartmentID] AS [DepartmentID0], [d].[DepartmentName], [c].[CourseID] AS [CourseID0], [c].[CourseCode], [c].[CourseName]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
LEFT JOIN [QueryDocuments] AS [q0] ON [t].[QueryID] = [q0].[QueryID]
ORDER BY [t].[QueryID], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0]
2024-11-15 19:30:40.905 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 47
2024-11-15 19:30:40.906 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:40.918 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:40.925 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true), @__queryId_1='47' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-15 19:30:40.927 +02:00 [WRN] AssignmentID: 16
2024-11-15 19:30:40.930 +02:00 [WRN] QueryID: 47
2024-11-15 19:30:40.932 +02:00 [INF] Success !!!
2024-11-15 19:30:40.934 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/QueryDetails.cshtml.
2024-11-15 19:30:40.940 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:40.942 +02:00 [INF] Attempting to generate signed URL for object: ba2aba9d-d526-4362-9abd-6986ce49549a_Screenshot_20241013-184019_Expo Go.jpg
2024-11-15 19:30:40.952 +02:00 [INF] Successfully generated signed URL for object: ba2aba9d-d526-4362-9abd-6986ce49549a_Screenshot_20241013-184019_Expo Go.jpg
2024-11-15 19:30:40.952 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/ba2aba9d-d526-4362-9abd-6986ce49549a_Screenshot_20241013-184019_Expo%20Go.jpg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241115%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241115T173040Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=afe04c97d3d7626ca507c6638de8a2a3a1eddcea68336c8591e9c307634bc1558763394716976047efe99ca1007bc4bc72c5674499001e50cd3c5190b97e38e9f98b8786d8477d33f97b2e12408834fc84e1bd74500398fddbe0d3e2245110f2526e2248996d5a59f483e410b0bb4f3914a43ce010e0311b39c51c709091f6d9564adc572dba21c62a3bf3caad030c6a8f57a9a0e9625cbbb6be1b4f8c0a513bd1fae60a2e3c36c2ab8dcb9516b77b699532662b6147a47b23b9dd98522db74b60ef99ca59485a22185e218e47bdd9b57b89e2e938707e1f94970e38890ae8bbc26542c0d9735b6ba571e3f4dc46edf5561925ba44a045b0a12373bc83bc3a3a
2024-11-15 19:30:40.954 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/QueryDetails.cshtml executed in 19.6023ms.
2024-11-15 19:30:40.955 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp) in 85.0762ms
2024-11-15 19:30:40.956 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:40.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=47 - 200 null text/html; charset=utf-8 99.8536ms
2024-11-15 19:30:41.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:30:41.005 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:30:41.008 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6824ms
2024-11-15 19:30:41.020 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.4797ms
2024-11-15 19:30:54.267 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/StaffQuery/SubmitSolutionToQuery - multipart/form-data; boundary=----WebKitFormBoundaryFQc9ZJMeeoFhGJpk 22448
2024-11-15 19:30:54.272 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:54.273 +02:00 [INF] Route matched with {action = "SubmitSolutionToQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitSolutionToQuery(QueryResolutions, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:30:54.283 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:54.284 +02:00 [WRN] SubmitSolutionToQuery hit
2024-11-15 19:30:54.285 +02:00 [INF] Incoming Model Data: AssignmentID = 16, QueryID = 47, Solution = Ensure prerequisites are met; try registering during off-peak hours or contact admin, AdditionalNotes = null
2024-11-15 19:30:54.287 +02:00 [WRN] Attempting SubmitSolutionToQueryAsync method
2024-11-15 19:30:54.288 +02:00 [INF] Query resolution process started for FirebaseUID: ZNjC4MhSSCSOhrXqDl96878H4MD3
2024-11-15 19:30:54.290 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 47
2024-11-15 19:30:54.305 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:54.317 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:54.324 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true), @__queryId_1='47' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-15 19:30:54.333 +02:00 [WRN] AssignmentID: 16
2024-11-15 19:30:54.334 +02:00 [WRN] QueryID: 47
2024-11-15 19:30:54.334 +02:00 [INF] Success !!!
2024-11-15 19:30:54.335 +02:00 [WRN] Received QueryID: 47, AssignmentID: 16
2024-11-15 19:30:54.342 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_QueryID_0='47'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[QueryID] = @__model_QueryID_0
2024-11-15 19:30:54.357 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='47', @p0='2024-11-15T19:30:54.3468982+02:00' (Nullable = true), @p1='Resolved' (Nullable = false) (Size = 4000), @p3=NULL (Size = 4000), @p4=NULL (Size = 4000), @p5='16', @p6='47', @p7='2024-11-15T19:30:54.3362114+02:00' (Nullable = true), @p8='Ensure prerequisites are met; try registering during off-peak hours or contact admin' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [ResolvedDate] = @p0, [Status] = @p1
OUTPUT 1
WHERE [QueryID] = @p2;
INSERT INTO [QueryResolutions] ([AdditionalNotes], [ApprovalStatus], [AssignmentID], [QueryID], [ResolutionDate], [Solution])
OUTPUT INSERTED.[ResolutionID]
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2024-11-15 19:30:54.367 +02:00 [INF] Query with ResolutionID 26 successfully created.
2024-11-15 19:30:54.368 +02:00 [INF] Uploading file: 2_ICE.pdf as 9bfc3bd6-13db-4962-9f95-c61aed45a053_2_ICE.pdf
2024-11-15 19:30:55.886 +02:00 [INF] File uploaded successfully: 9bfc3bd6-13db-4962-9f95-c61aed45a053_2_ICE.pdf
2024-11-15 19:30:55.900 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='2_ICE.pdf' (Nullable = false) (Size = 4000), @p1='9bfc3bd6-13db-4962-9f95-c61aed45a053_2_ICE.pdf' (Nullable = false) (Size = 4000), @p2='47', @p3='2024-11-15T19:30:55.8881893+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-11-15 19:30:55.902 +02:00 [INF] Document associated with QueryID 47.
2024-11-15 19:30:55.908 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='119', @p1='26'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ResolutionDocuments] ([DocumentID], [ResolutionID])
VALUES (@p0, @p1);
2024-11-15 19:30:55.913 +02:00 [INF] Document associated with ResolutionID 26 and DocumentID 119.
2024-11-15 19:30:55.915 +02:00 [INF] Query submission process completed successfully for QueryID 47.
2024-11-15 19:30:55.916 +02:00 [WRN] SubmitSolutionToQueryAsync method executed successfully.
2024-11-15 19:30:55.917 +02:00 [INF] Executing RedirectResult, redirecting to /StaffQuery/StaffQueries.
2024-11-15 19:30:55.918 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp) in 1643.1894ms
2024-11-15 19:30:55.919 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:55.920 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/StaffQuery/SubmitSolutionToQuery - 302 0 null 1652.2749ms
2024-11-15 19:30:55.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-15 19:30:55.932 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:55.933 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:30:55.940 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:55.952 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:55.970 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-15 19:30:55.974 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-15 19:30:55.978 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 4.597ms.
2024-11-15 19:30:55.981 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 46.4834ms
2024-11-15 19:30:55.982 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:55.983 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 58.9459ms
2024-11-15 19:30:58.022 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-15 19:30:58.034 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:58.037 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-15 19:30:58.042 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-15 19:30:58.055 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='ZNjC4MhSSCSOhrXqDl96878H4MD3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-15 19:30:58.071 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-15 19:30:58.074 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-15 19:30:58.084 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 9.9658ms.
2024-11-15 19:30:58.085 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 47.0951ms
2024-11-15 19:30:58.086 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-15 19:30:58.087 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 65.4298ms
2024-11-15 19:30:58.135 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-15 19:30:58.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-15 19:30:58.155 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 20.0023ms
2024-11-15 19:30:58.172 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7296ms
