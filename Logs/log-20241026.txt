2024-10-26 11:25:40.374 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 11:25:40.674 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 11:25:40.675 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 11:25:40.678 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 11:25:40.679 +02:00 [INF] Hosting environment: Development
2024-10-26 11:25:40.679 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 11:25:41.727 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 11:25:42.212 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934742.
2024-10-26 11:25:42.221 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934742.
2024-10-26 11:25:42.226 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:25:42.253 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:25:42.497 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1729891428. Expected to be greater than 1729934742.
2024-10-26 11:25:42.517 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:25:42.761 +02:00 [INF] Executed ViewResult - view Login executed in 238.4196ms.
2024-10-26 11:25:42.806 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 550.0914ms
2024-10-26 11:25:42.813 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:25:42.848 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1123.4842ms
2024-10-26 11:25:43.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-10-26 11:25:43.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:25:43.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-10-26 11:25:43.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-10-26 11:25:43.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:25:43.628 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934743.
2024-10-26 11:25:43.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.4686ms
2024-10-26 11:25:43.634 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934743.
2024-10-26 11:25:43.636 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934743.
2024-10-26 11:25:43.653 +02:00 [INF] The file /css/Login.css was not modified
2024-10-26 11:25:43.654 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-10-26 11:25:43.657 +02:00 [INF] The file /js/login.js was not modified
2024-10-26 11:25:43.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 44.9348ms
2024-10-26 11:25:43.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 304 null text/css 44.5048ms
2024-10-26 11:25:43.663 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 47.3958ms
2024-10-26 11:25:43.712 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.6734ms
2024-10-26 11:25:53.214 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 233
2024-10-26 11:25:53.227 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934753.
2024-10-26 11:25:53.229 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934753.
2024-10-26 11:25:53.230 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:25:53.256 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:25:53.323 +02:00 [INF] Attempting to log in user with email: trentfisher017@gmail.com
2024-10-26 11:25:53.359 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:25:53.367 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:25:53.927 +02:00 [INF] Received HTTP response headers after 555.5984ms - 400
2024-10-26 11:25:53.929 +02:00 [INF] End processing HTTP request after 573.6156ms - 400
2024-10-26 11:25:53.937 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com, StatusCode: BadRequest
2024-10-26 11:25:53.939 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
2024-10-26 11:25:53.986 +02:00 [ERR] Error occurred during login.
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 215
2024-10-26 11:25:53.995 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:25:54.005 +02:00 [INF] Executed ViewResult - view Login executed in 10.1537ms.
2024-10-26 11:25:54.006 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 748.027ms
2024-10-26 11:25:54.007 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:25:54.008 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 794.2385ms
2024-10-26 11:25:54.065 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:25:54.066 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:25:54.072 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.792ms
2024-10-26 11:25:54.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.8191ms
2024-10-26 11:26:05.871 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 239
2024-10-26 11:26:05.897 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934765.
2024-10-26 11:26:05.899 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934765.
2024-10-26 11:26:05.899 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:26:05.901 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:26:05.910 +02:00 [INF] Attempting to log in user with email: trentfisher017@gmail.com
2024-10-26 11:26:05.912 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:26:05.913 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:26:06.207 +02:00 [INF] Received HTTP response headers after 293.245ms - 400
2024-10-26 11:26:06.209 +02:00 [INF] End processing HTTP request after 297.0986ms - 400
2024-10-26 11:26:06.211 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com, StatusCode: BadRequest
2024-10-26 11:26:06.212 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
2024-10-26 11:26:06.214 +02:00 [ERR] Error occurred during login.
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 215
2024-10-26 11:26:06.217 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:26:06.224 +02:00 [INF] Executed ViewResult - view Login executed in 6.702ms.
2024-10-26 11:26:06.226 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 322.6912ms
2024-10-26 11:26:06.227 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:26:06.229 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 357.9443ms
2024-10-26 11:26:06.254 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:26:06.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5717ms
2024-10-26 11:26:06.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:26:06.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.2704ms
2024-10-26 11:26:16.161 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 237
2024-10-26 11:26:16.170 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934776.
2024-10-26 11:26:16.171 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934776.
2024-10-26 11:26:16.174 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:26:16.175 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:26:16.178 +02:00 [INF] Attempting to log in user with email: trentfisher017@gmail.com
2024-10-26 11:26:16.180 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:26:16.192 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:26:16.497 +02:00 [INF] Received HTTP response headers after 304.2581ms - 400
2024-10-26 11:26:16.499 +02:00 [INF] End processing HTTP request after 319.5497ms - 400
2024-10-26 11:26:16.500 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com, StatusCode: BadRequest
2024-10-26 11:26:16.501 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
2024-10-26 11:26:16.502 +02:00 [ERR] Error occurred during login.
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 215
2024-10-26 11:26:16.505 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:26:16.509 +02:00 [INF] Executed ViewResult - view Login executed in 3.3552ms.
2024-10-26 11:26:16.510 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 332.6874ms
2024-10-26 11:26:16.512 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:26:16.513 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 351.2369ms
2024-10-26 11:26:16.543 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:26:16.546 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.554ms
2024-10-26 11:26:16.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:26:16.574 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.9314ms
2024-10-26 11:26:29.258 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 233
2024-10-26 11:26:29.274 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934789.
2024-10-26 11:26:29.275 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934789.
2024-10-26 11:26:29.277 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:26:29.279 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:26:29.282 +02:00 [INF] Attempting to log in user with email: trentfisher017@gmail.com
2024-10-26 11:26:29.283 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:26:29.285 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:26:29.572 +02:00 [INF] Received HTTP response headers after 285.4525ms - 400
2024-10-26 11:26:29.573 +02:00 [INF] End processing HTTP request after 289.7502ms - 400
2024-10-26 11:26:29.575 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com, StatusCode: BadRequest
2024-10-26 11:26:29.576 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
2024-10-26 11:26:29.579 +02:00 [ERR] Error occurred during login.
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 215
2024-10-26 11:26:29.582 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:26:29.585 +02:00 [INF] Executed ViewResult - view Login executed in 2.8774ms.
2024-10-26 11:26:29.590 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 309.0614ms
2024-10-26 11:26:29.591 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:26:29.593 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 334.7914ms
2024-10-26 11:26:29.619 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:26:29.624 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.0531ms
2024-10-26 11:26:29.626 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:26:29.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8182ms
2024-10-26 11:26:51.881 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 236
2024-10-26 11:26:51.887 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934811.
2024-10-26 11:26:51.888 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934811.
2024-10-26 11:26:51.889 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:26:51.890 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:26:51.892 +02:00 [INF] Attempting to log in user with email: trentfisher017@gmail.com
2024-10-26 11:26:51.893 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:26:51.894 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:26:52.176 +02:00 [INF] Received HTTP response headers after 281.7941ms - 400
2024-10-26 11:26:52.178 +02:00 [INF] End processing HTTP request after 285.2118ms - 400
2024-10-26 11:26:52.181 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com, StatusCode: BadRequest
2024-10-26 11:26:52.186 +02:00 [ERR] Failed to log in user with email: trentfisher017@gmail.com
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
2024-10-26 11:26:52.189 +02:00 [ERR] Error occurred during login.
System.Exception: Failed to log in user
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 113
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 215
2024-10-26 11:26:52.193 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:26:52.196 +02:00 [INF] Executed ViewResult - view Login executed in 3.2663ms.
2024-10-26 11:26:52.197 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 305.6102ms
2024-10-26 11:26:52.198 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:26:52.200 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 319.1773ms
2024-10-26 11:26:52.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:26:52.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:26:52.226 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.572ms
2024-10-26 11:26:52.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.3176ms
2024-10-26 11:27:00.347 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/SelectRole - null null
2024-10-26 11:27:00.356 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934820.
2024-10-26 11:27:00.362 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934820.
2024-10-26 11:27:00.366 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:00.371 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:27:00.374 +02:00 [INF] Executing ViewResult, running view SelectRole.
2024-10-26 11:27:00.389 +02:00 [INF] Executed ViewResult - view SelectRole executed in 15.1979ms.
2024-10-26 11:27:00.390 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 17.4774ms
2024-10-26 11:27:00.392 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:00.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/SelectRole - 200 null text/html; charset=utf-8 45.5581ms
2024-10-26 11:27:00.427 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:27:00.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/UserRoles.css - null null
2024-10-26 11:27:00.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:27:00.432 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.3125ms
2024-10-26 11:27:00.435 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934820.
2024-10-26 11:27:00.441 +02:00 [INF] The file /css/UserRoles.css was not modified
2024-10-26 11:27:00.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.5559ms
2024-10-26 11:27:00.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/UserRoles.css - 304 null text/css 13.8821ms
2024-10-26 11:27:02.268 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/SelectRole - application/x-www-form-urlencoded 195
2024-10-26 11:27:02.274 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934822.
2024-10-26 11:27:02.275 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934822.
2024-10-26 11:27:02.275 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:02.277 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole(System.String) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:27:02.283 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Register.
2024-10-26 11:27:02.286 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 5.6313ms
2024-10-26 11:27:02.287 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:02.287 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/SelectRole - 302 0 null 19.6337ms
2024-10-26 11:27:02.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Register - null null
2024-10-26 11:27:02.300 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934822.
2024-10-26 11:27:02.301 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934822.
2024-10-26 11:27:02.301 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:02.307 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:27:02.309 +02:00 [INF] Register page loaded.
2024-10-26 11:27:03.033 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 11:27:04.075 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [d].[DepartmentID]) AS [Value], [d].[DepartmentName] AS [Text]
FROM [Departments] AS [d]
2024-10-26 11:27:04.143 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CourseID]) AS [Value], [c].[CourseName] AS [Text]
FROM [Courses] AS [c]
2024-10-26 11:27:04.153 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [p].[PositionID]) AS [Value], [p].[PositionName] AS [Text]
FROM [Positions] AS [p]
2024-10-26 11:27:04.158 +02:00 [INF] Executing ViewResult, running view Register.
2024-10-26 11:27:04.207 +02:00 [INF] Executed ViewResult - view Register executed in 49.9475ms.
2024-10-26 11:27:04.208 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 1900.4372ms
2024-10-26 11:27:04.210 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:04.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Register - 200 null text/html; charset=utf-8 1920.6565ms
2024-10-26 11:27:04.235 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Register.css - null null
2024-10-26 11:27:04.235 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:27:04.235 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Registration.js - null null
2024-10-26 11:27:04.236 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/password-toggle.js - null null
2024-10-26 11:27:04.238 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934824.
2024-10-26 11:27:04.239 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:27:04.239 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.0797ms
2024-10-26 11:27:04.242 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934824.
2024-10-26 11:27:04.244 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934824.
2024-10-26 11:27:04.244 +02:00 [INF] The file /css/Register.css was not modified
2024-10-26 11:27:04.256 +02:00 [INF] The file /js/Registration.js was not modified
2024-10-26 11:27:04.256 +02:00 [INF] The file /js/password-toggle.js was not modified
2024-10-26 11:27:04.256 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.4408ms
2024-10-26 11:27:04.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Register.css - 304 null text/css 22.3742ms
2024-10-26 11:27:04.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Registration.js - 304 null text/javascript 22.6781ms
2024-10-26 11:27:04.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/password-toggle.js - 304 null text/javascript 23.7525ms
2024-10-26 11:27:32.282 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/GetCoursesByDepartment?departmentId=4 - null null
2024-10-26 11:27:32.285 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934852.
2024-10-26 11:27:32.287 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934852.
2024-10-26 11:27:32.289 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:32.294 +02:00 [INF] Route matched with {action = "GetCoursesByDepartment", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByDepartment(Int32) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:27:32.302 +02:00 [INF] GetDepartmentWithCourses hit !! : 4
2024-10-26 11:27:32.304 +02:00 [INF] GetDepartmentWithCoursesAsync hit : 4
2024-10-26 11:27:32.486 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__departmentId_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CourseID], [c].[CourseCode]
FROM [DepartmentCourses] AS [d]
INNER JOIN [Courses] AS [c] ON [d].[CourseID] = [c].[CourseID]
WHERE [d].[DepartmentID] = @__departmentId_0
2024-10-26 11:27:32.508 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.DTOs.AccountDto+CourseDto, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-26 11:27:32.561 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp) in 264.0932ms
2024-10-26 11:27:32.568 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:32.572 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/GetCoursesByDepartment?departmentId=4 - 200 null application/json; charset=utf-8 289.7219ms
2024-10-26 11:27:38.267 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Register - multipart/form-data; boundary=----WebKitFormBoundaryBu2SLVsi4666DW5C 1240
2024-10-26 11:27:38.270 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934858.
2024-10-26 11:27:38.271 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934858.
2024-10-26 11:27:38.273 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:38.283 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:27:38.315 +02:00 [INF] Attempting to register user with email: trentfisher64@gmail.com
2024-10-26 11:27:38.324 +02:00 [INF] Attempting to register user with email: trentfisher64@gmail.com
2024-10-26 11:27:41.088 +02:00 [INF] Assigned role 'Student' to user with UID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 11:27:41.089 +02:00 [INF] User registered successfully with UID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 11:27:41.846 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@p0='trentfisher64@gmail.com' (Nullable = false) (Size = 4000), @p1='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000), @p2=NULL (DbType = DateTime2), @p3='trent64' (Nullable = false) (Size = 4000), @p4='CMnWrwCiO0ruENj9OsL0ve790kB20cm4ieaoce5LiDe8l0us' (Nullable = false) (Size = 4000), @p5='2024-10-26T11:27:41.1819567+02:00', @p6='Student' (Nullable = false) (Size = 4000), @p7='fisher' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirebaseUID], [LastSeen], [Name], [PasswordHash], [RegistrationDate], [Role], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-10-26 11:27:41.961 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__model_SelectedDepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__model_SelectedDepartmentID_0
2024-10-26 11:27:42.000 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_SelectedCourseID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseCode], [c].[CourseName]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__model_SelectedCourseID_0
2024-10-26 11:27:42.104 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='BCAD0701' (Nullable = false) (Size = 4000), @p1='School of Information Technology' (Nullable = false) (Size = 4000), @p2='39', @p3='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [StudentDetails] ([Course], [Department], [UserID], [Year])
OUTPUT INSERTED.[StudentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 11:27:42.111 +02:00 [INF] User registered successfully with email: trentfisher64@gmail.com
2024-10-26 11:27:42.112 +02:00 [INF] User registered successfully.
2024-10-26 11:27:42.115 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-26 11:27:42.119 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 3834.4434ms
2024-10-26 11:27:42.120 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:42.121 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Register - 200 null application/json; charset=utf-8 3854.4856ms
2024-10-26 11:27:44.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-10-26 11:27:44.144 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934864.
2024-10-26 11:27:44.146 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934864.
2024-10-26 11:27:44.147 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:44.149 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:27:44.151 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1729891428. Expected to be greater than 1729934864.
2024-10-26 11:27:44.152 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:27:44.154 +02:00 [INF] Executed ViewResult - view Login executed in 2.0034ms.
2024-10-26 11:27:44.155 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 5.0112ms
2024-10-26 11:27:44.156 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:44.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 20.0926ms
2024-10-26 11:27:44.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:27:44.189 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:27:44.192 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.949ms
2024-10-26 11:27:44.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.8195ms
2024-10-26 11:27:55.700 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 232
2024-10-26 11:27:55.705 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934875.
2024-10-26 11:27:55.714 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729891428. Expected to be greater than 1729934875.
2024-10-26 11:27:55.715 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:55.716 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:27:55.718 +02:00 [INF] Attempting to log in user with email: trentfisher64@gmail.com
2024-10-26 11:27:55.719 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:27:55.721 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:27:56.223 +02:00 [INF] Received HTTP response headers after 500.6439ms - 200
2024-10-26 11:27:56.230 +02:00 [INF] End processing HTTP request after 510.791ms - 200
2024-10-26 11:27:56.232 +02:00 [INF] User logged in successfully.
2024-10-26 11:27:56.585 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 11:27:56.609 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='39', @p0='2024-10-26T09:27:56.5896874Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-10-26 11:27:56.616 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:27:56.618 +02:00 [INF] User trentfisher64@gmail.com logged in successfully.
2024-10-26 11:27:56.621 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 11:27:56.622 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 904.4645ms
2024-10-26 11:27:56.622 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:56.624 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:667653a6-3537-ead6-0a92-ab2b67a7e333
2024-10-26 11:27:56.625 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 925.446ms
2024-10-26 11:27:56.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 11:27:57.016 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:57.024 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:27:57.081 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:27:57.200 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 11:27:57.279 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 11:27:57.295 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:27:57.307 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:27:57.345 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:27:57.354 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 11:27:57.637 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 285.9768ms.
2024-10-26 11:27:57.640 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 610.0962ms
2024-10-26 11:27:57.641 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:27:57.643 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 1011.029ms
2024-10-26 11:27:57.671 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-10-26 11:27:57.681 +02:00 [INF] The file /css/tempSidebar.css was not modified
2024-10-26 11:27:57.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 304 null text/css 10.2784ms
2024-10-26 11:27:57.690 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:27:57.692 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempDashboard.css?v=yr9T0gFxbWc0kHSpRvRbtLAWexDwn86Emltw3K4f1Rk - null null
2024-10-26 11:27:57.692 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-10-26 11:27:57.692 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/studentDashboard.js - null null
2024-10-26 11:27:57.694 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.9564ms
2024-10-26 11:27:57.698 +02:00 [INF] The file /css/tempDashboard.css was not modified
2024-10-26 11:27:57.698 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:27:57.702 +02:00 [INF] The file /js/studentDashboard.js was not modified
2024-10-26 11:27:57.704 +02:00 [INF] The file /js/Sidebar.js was not modified
2024-10-26 11:27:57.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempDashboard.css?v=yr9T0gFxbWc0kHSpRvRbtLAWexDwn86Emltw3K4f1Rk - 304 null text/css 13.385ms
2024-10-26 11:27:57.708 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/studentDashboard.js - 304 null text/javascript 16.3072ms
2024-10-26 11:27:57.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 304 null text/javascript 17.0259ms
2024-10-26 11:27:57.721 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.3362ms
2024-10-26 11:28:00.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:28:00.427 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:00.430 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:28:01.082 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:28:01.085 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:28:01.113 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 28.5346ms.
2024-10-26 11:28:01.114 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 682.4905ms
2024-10-26 11:28:01.115 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:01.115 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 694.1845ms
2024-10-26 11:28:01.143 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:28:01.143 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-10-26 11:28:01.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:28:01.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.7445ms
2024-10-26 11:28:01.150 +02:00 [INF] The file /css/QueryDashboard.css was not modified
2024-10-26 11:28:01.155 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 304 null text/css 11.0618ms
2024-10-26 11:28:01.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.1359ms
2024-10-26 11:28:03.538 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:28:03.545 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:03.549 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:28:03.554 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:28:03.564 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:28:03.570 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:28:03.583 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:28:03.587 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:28:03.603 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 17.63ms.
2024-10-26 11:28:03.604 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 53.8998ms
2024-10-26 11:28:03.606 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:03.607 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 68.9174ms
2024-10-26 11:28:03.627 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Queries.css - null null
2024-10-26 11:28:03.634 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDetails.css - null null
2024-10-26 11:28:03.634 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/all-tickets.png - null null
2024-10-26 11:28:03.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:28:03.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/resolved.png - null null
2024-10-26 11:28:03.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/new.png - null null
2024-10-26 11:28:03.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/on-going.png - null null
2024-10-26 11:28:03.639 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:28:03.644 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.6316ms
2024-10-26 11:28:03.658 +02:00 [INF] Sending file. Request path: '/images/all-tickets.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\all-tickets.png'
2024-10-26 11:28:03.674 +02:00 [INF] Sending file. Request path: '/images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-10-26 11:28:03.681 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/resolved.png - 200 535 image/png 42.6556ms
2024-10-26 11:28:03.676 +02:00 [INF] Sending file. Request path: '/images/on-going.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\on-going.png'
2024-10-26 11:28:03.678 +02:00 [INF] Sending file. Request path: '/css/Queries.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Queries.css'
2024-10-26 11:28:03.679 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/all-tickets.png - 200 1155 image/png 45.3233ms
2024-10-26 11:28:03.674 +02:00 [INF] Sending file. Request path: '/images/new.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\new.png'
2024-10-26 11:28:03.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.16ms
2024-10-26 11:28:03.683 +02:00 [INF] Sending file. Request path: '/css/QueryDetails.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDetails.css'
2024-10-26 11:28:03.686 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/on-going.png - 200 353 image/png 47.7576ms
2024-10-26 11:28:03.687 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Queries.css - 200 12926 text/css 59.9094ms
2024-10-26 11:28:03.690 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/new.png - 200 949 image/png 52.0084ms
2024-10-26 11:28:03.693 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDetails.css - 200 1994 text/css 58.9841ms
2024-10-26 11:28:05.705 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 11:28:05.710 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:05.715 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:28:05.720 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:28:05.722 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 11:28:05.727 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 5.5294ms.
2024-10-26 11:28:05.728 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 11.189ms
2024-10-26 11:28:05.729 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:05.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 24.4725ms
2024-10-26 11:28:05.748 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:28:05.748 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:28:05.750 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1804ms
2024-10-26 11:28:05.755 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1002ms
2024-10-26 11:28:06.838 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 11:28:06.841 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:06.846 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:28:06.851 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:28:06.861 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 11:28:06.867 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:28:06.872 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:28:06.899 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:28:06.930 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:28:07.009 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 11:28:07.047 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 38.7149ms.
2024-10-26 11:28:07.048 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 199.7617ms
2024-10-26 11:28:07.066 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:07.068 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 229.7186ms
2024-10-26 11:28:07.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AcademicQuery.css?v=x_LM07HRidGMZiOKaTZ88sIZ1M5XsWciH3h7ZFsdlCI - null null
2024-10-26 11:28:07.087 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:28:07.087 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:28:07.088 +02:00 [INF] Sending file. Request path: '/css/AcademicQuery.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AcademicQuery.css'
2024-10-26 11:28:07.089 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3543ms
2024-10-26 11:28:07.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AcademicQuery.css?v=x_LM07HRidGMZiOKaTZ88sIZ1M5XsWciH3h7ZFsdlCI - 200 9683 text/css 10.3578ms
2024-10-26 11:28:07.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.5578ms
2024-10-26 11:28:48.901 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryzAjlUGDBAiWKSWGp 50699
2024-10-26 11:28:48.909 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:48.931 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:28:48.938 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:28:48.952 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 11:28:48.953 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:28:48.959 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:28:48.969 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:28:48.975 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:28:48.979 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 2
2024-10-26 11:28:48.980 +02:00 [WRN] Student details:0
2024-10-26 11:28:49.073 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='2' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='I  need a remark for ITPM6112' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T11:28:49.0137555+02:00' (Nullable = true), @p10='20241026-73342' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 11:28:49.078 +02:00 [INF] Query with ID 81 successfully created.
2024-10-26 11:28:49.081 +02:00 [ERR] An error occurred while submitting the query: Object reference not set to an instance of an object.
2024-10-26 11:28:49.082 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 11:28:49.083 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 11:28:49.084 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 11:28:49.086 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 2.8403ms.
2024-10-26 11:28:49.087 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 153.5035ms
2024-10-26 11:28:49.088 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:28:49.089 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 188.1197ms
2024-10-26 11:28:49.118 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:28:49.120 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:28:49.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0207ms
2024-10-26 11:28:49.126 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.3439ms
2024-10-26 11:33:03.159 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:33:03.222 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:03.228 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:33:03.255 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:33:03.261 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:33:03.281 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 22.3193ms.
2024-10-26 11:33:03.282 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 53.2731ms
2024-10-26 11:33:03.283 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:03.284 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 126.5203ms
2024-10-26 11:33:03.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:33:03.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3136ms
2024-10-26 11:33:03.331 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:33:03.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.7601ms
2024-10-26 11:33:04.559 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:33:04.564 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:04.565 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:33:04.568 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:33:18.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 11:33:18.771 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:18.783 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:33:18.785 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 11:33:18.786 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.8571ms
2024-10-26 11:33:18.786 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:18.787 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 21.7638ms
2024-10-26 11:33:18.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 11:33:18.796 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:18.797 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:33:35.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:33:35.141 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:35.142 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:33:35.148 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:33:38.801 +02:00 [ERR] An error occurred using the connection to database 'UQMS_db' on server 'LAPTOP-VM0M57UP\SQLEXPRESS'.
2024-10-26 11:33:38.840 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=15019; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f5c088cc-6809-4c56-8881-d0f02eada297
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=15019; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f5c088cc-6809-4c56-8881-d0f02eada297
Error Number:-2,State:0,Class:11
2024-10-26 11:33:38.852 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 3708.6417ms
2024-10-26 11:33:38.853 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:38.858 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=15019; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Controllers.QueryController.Queries() in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\QueryController.cs:line 552
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f5c088cc-6809-4c56-8881-d0f02eada297
Error Number:-2,State:0,Class:11
2024-10-26 11:33:39.678 +02:00 [ERR] Failed executing DbCommand (35,071ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:33:39.690 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 500 null text/html; charset=utf-8 4553.1215ms
2024-10-26 11:33:39.693 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bb043730-e89d-4502-8c16-53440db6f521
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bb043730-e89d-4502-8c16-53440db6f521
Error Number:-2,State:0,Class:11
2024-10-26 11:33:39.699 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 35132.5458ms
2024-10-26 11:33:39.700 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:39.701 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Controllers.QueryController.Queries() in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\QueryController.cs:line 552
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:bb043730-e89d-4502-8c16-53440db6f521
Error Number:-2,State:0,Class:11
2024-10-26 11:33:39.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:33:39.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:33:39.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 17.4624ms
2024-10-26 11:33:39.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.4603ms
2024-10-26 11:33:39.758 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 500 null text/html; charset=utf-8 35199.9034ms
2024-10-26 11:33:43.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:33:43.820 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:43.825 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:33:43.832 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:33:43.833 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:33:43.834 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 1.6575ms.
2024-10-26 11:33:43.835 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 8.9343ms
2024-10-26 11:33:43.841 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:43.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 31.6119ms
2024-10-26 11:33:43.864 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:33:43.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.9906ms
2024-10-26 11:33:44.635 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:33:44.639 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:44.646 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:33:44.653 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:33:53.574 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 11:33:53.832 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 11:33:53.836 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 11:33:53.843 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 11:33:53.845 +02:00 [INF] Hosting environment: Development
2024-10-26 11:33:53.846 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 11:33:54.933 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 11:33:55.558 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:33:55.578 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:33:57.341 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 11:34:13.326 +02:00 [ERR] An error occurred using the connection to database 'UQMS_db' on server 'LAPTOP-VM0M57UP\SQLEXPRESS'.
2024-10-26 11:34:13.374 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
2024-10-26 11:34:13.385 +02:00 [ERR] Error during auto-login: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)
2024-10-26 11:34:13.403 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:34:13.512 +02:00 [INF] Executed ViewResult - view Login executed in 114.549ms.
2024-10-26 11:34:13.520 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 17940.0957ms
2024-10-26 11:34:13.522 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:34:13.540 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 18610.7453ms
2024-10-26 11:34:13.579 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:34:13.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.1151ms
2024-10-26 11:34:13.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:34:13.649 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.8532ms
2024-10-26 11:34:35.487 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 275
2024-10-26 11:34:35.505 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:34:35.528 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:34:35.584 +02:00 [INF] Attempting to log in user with email: trentfisher64@gmail.com
2024-10-26 11:34:35.614 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:34:35.621 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 11:34:36.182 +02:00 [INF] Received HTTP response headers after 556.1927ms - 200
2024-10-26 11:34:36.184 +02:00 [INF] End processing HTTP request after 572.2096ms - 200
2024-10-26 11:34:36.188 +02:00 [INF] User logged in successfully.
2024-10-26 11:34:51.904 +02:00 [ERR] An error occurred using the connection to database 'UQMS_db' on server 'LAPTOP-VM0M57UP\SQLEXPRESS'.
2024-10-26 11:34:51.909 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
2024-10-26 11:34:51.922 +02:00 [ERR] Error occurred during login.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 221
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
2024-10-26 11:34:51.941 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 11:34:51.949 +02:00 [INF] Executed ViewResult - view Login executed in 7.8337ms.
2024-10-26 11:34:51.950 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 16420.759ms
2024-10-26 11:34:51.952 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:34:51.953 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 16465.704ms
2024-10-26 11:35:03.382 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 11:35:03.588 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 11:35:03.590 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 11:35:03.594 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 11:35:03.595 +02:00 [INF] Hosting environment: Development
2024-10-26 11:35:03.596 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 11:35:04.235 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 11:35:09.333 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:09.364 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:35:12.244 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 11:35:13.998 +02:00 [INF] Executed DbCommand (164ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 11:35:14.153 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:35:14.156 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 11:35:14.180 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 11:35:14.190 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4816.6796ms
2024-10-26 11:35:14.194 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:14.202 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:0c41d92b-0bd6-68be-174c-6b83546545d9
2024-10-26 11:35:14.222 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 9992.6849ms
2024-10-26 11:35:14.229 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 11:35:14.259 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:14.264 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:35:14.272 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 11:35:14.275 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 8.6274ms
2024-10-26 11:35:14.277 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:14.279 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 49.9407ms
2024-10-26 11:35:14.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 11:35:14.307 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:14.314 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:35:14.513 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:35:14.689 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 11:35:14.775 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 11:35:14.866 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:35:14.900 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:35:14.951 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:35:14.973 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 11:35:15.194 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 230.5462ms.
2024-10-26 11:35:15.201 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 885.209ms
2024-10-26 11:35:15.209 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:15.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 929.0213ms
2024-10-26 11:35:15.274 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:35:15.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:35:15.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 34.6043ms
2024-10-26 11:35:15.612 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 337.475ms
2024-10-26 11:35:29.140 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:35:29.149 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:29.152 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:35:29.207 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:35:29.212 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:35:29.225 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 16.0946ms.
2024-10-26 11:35:29.227 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 74.377ms
2024-10-26 11:35:29.228 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:29.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 88.9217ms
2024-10-26 11:35:29.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:35:29.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:35:29.262 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.7914ms
2024-10-26 11:35:29.287 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.416ms
2024-10-26 11:35:30.247 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:35:30.259 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:30.264 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:35:30.268 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:35:30.321 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:35:30.329 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:35:30.340 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:35:30.344 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:35:30.363 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 20.146ms.
2024-10-26 11:35:30.365 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 100.1844ms
2024-10-26 11:35:30.367 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:30.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 120.4502ms
2024-10-26 11:35:30.387 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:35:30.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9125ms
2024-10-26 11:35:30.390 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:35:30.400 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.3831ms
2024-10-26 11:35:31.900 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 11:35:31.905 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:31.910 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:35:31.914 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:35:31.915 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 11:35:31.920 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 6.117ms.
2024-10-26 11:35:31.922 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 10.8826ms
2024-10-26 11:35:31.923 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:31.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 23.9936ms
2024-10-26 11:35:31.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:35:31.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:35:31.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2342ms
2024-10-26 11:35:31.950 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.8565ms
2024-10-26 11:35:32.934 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 11:35:32.939 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:32.950 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:35:32.953 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:35:32.983 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 11:35:32.994 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:35:33.344 +02:00 [INF] Executed DbCommand (349ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:35:33.407 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:35:33.442 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:35:33.543 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 11:35:33.576 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 33.9117ms.
2024-10-26 11:35:33.579 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 628.4824ms
2024-10-26 11:35:33.581 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:33.582 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 647.8148ms
2024-10-26 11:35:33.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:35:33.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:35:33.604 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6401ms
2024-10-26 11:35:33.609 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.8984ms
2024-10-26 11:35:50.222 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryzEgjh9HmIyvi1ruk 50697
2024-10-26 11:35:50.229 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:50.251 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:35:50.260 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:35:50.299 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 11:35:50.300 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:35:50.306 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:35:50.316 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:35:50.321 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:35:50.326 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 11:35:50.327 +02:00 [WRN] Student details:0
2024-10-26 11:35:50.562 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='1' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='regstrtion is needed for me' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T11:35:50.3457126+02:00' (Nullable = true), @p10='20241026-57894' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 11:35:50.608 +02:00 [INF] Query with ID 82 successfully created.
2024-10-26 11:35:50.616 +02:00 [ERR] An error occurred while submitting the query: Object reference not set to an instance of an object.
2024-10-26 11:35:50.618 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 11:35:50.619 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 11:35:50.620 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 11:35:50.624 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 4.9638ms.
2024-10-26 11:35:50.625 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 372.307ms
2024-10-26 11:35:50.627 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:35:50.629 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 406.311ms
2024-10-26 11:35:50.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:35:50.665 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:35:50.673 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.2473ms
2024-10-26 11:35:50.673 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.1858ms
2024-10-26 11:36:58.286 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 11:36:58.461 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 11:36:58.463 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 11:36:58.466 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 11:36:58.468 +02:00 [INF] Hosting environment: Development
2024-10-26 11:36:58.475 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 11:36:58.778 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryzEgjh9HmIyvi1ruk 50697
2024-10-26 11:37:00.841 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:00.958 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:01.562 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:37:01.633 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:37:01.636 +02:00 [ERR] User not logged in.
2024-10-26 11:37:01.651 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 11:37:01.659 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 690.3208ms
2024-10-26 11:37:01.666 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:01.679 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 2903.7678ms
2024-10-26 11:37:01.700 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 11:37:01.714 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:01.723 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:03.681 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 11:37:04.679 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 11:37:04.801 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:37:04.802 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 11:37:04.807 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 11:37:04.809 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3084.1932ms
2024-10-26 11:37:04.810 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:04.815 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:69c7d432-b43c-c013-72e0-5013e8c0a27c
2024-10-26 11:37:04.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3122.1605ms
2024-10-26 11:37:04.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 11:37:04.842 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:04.844 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:04.848 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 11:37:04.849 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.3498ms
2024-10-26 11:37:04.850 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:04.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 20.6214ms
2024-10-26 11:37:04.858 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 11:37:04.863 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:04.868 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:04.985 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:37:05.151 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 11:37:05.228 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 11:37:05.323 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:37:05.338 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:37:05.365 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:37:05.381 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 11:37:05.579 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 206.8836ms.
2024-10-26 11:37:05.583 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 713.1773ms
2024-10-26 11:37:05.585 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:05.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 731.141ms
2024-10-26 11:37:05.736 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:37:05.736 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:37:05.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 20.3788ms
2024-10-26 11:37:05.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.3836ms
2024-10-26 11:37:08.154 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:37:08.459 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:08.531 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:08.552 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:37:08.557 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:37:08.590 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 34.7ms.
2024-10-26 11:37:08.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:37:08.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:37:08.643 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 98.0943ms
2024-10-26 11:37:08.645 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.1705ms
2024-10-26 11:37:08.655 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:08.673 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 518.5435ms
2024-10-26 11:37:08.699 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.4585ms
2024-10-26 11:37:09.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:37:09.858 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:09.869 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:09.884 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:37:10.074 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:37:10.096 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:37:10.134 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:37:10.139 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:37:10.175 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 37.7152ms.
2024-10-26 11:37:10.177 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 306.2553ms
2024-10-26 11:37:10.179 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:10.181 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 336.4998ms
2024-10-26 11:37:10.222 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:37:10.222 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:37:10.237 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.2409ms
2024-10-26 11:37:10.256 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6923ms
2024-10-26 11:37:11.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 11:37:11.682 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:11.687 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:11.693 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:37:11.695 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 11:37:11.704 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 10.3984ms.
2024-10-26 11:37:11.705 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 16.2697ms
2024-10-26 11:37:11.706 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:11.707 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 31.2811ms
2024-10-26 11:37:11.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:37:11.740 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:37:11.744 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7478ms
2024-10-26 11:37:11.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.547ms
2024-10-26 11:37:12.766 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 11:37:12.774 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:12.782 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:12.789 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:37:12.807 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 11:37:12.816 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:37:12.840 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:37:12.898 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:37:12.959 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:37:13.086 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 11:37:13.133 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 47.7747ms.
2024-10-26 11:37:13.134 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 350.9672ms
2024-10-26 11:37:13.135 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:13.137 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 371.4536ms
2024-10-26 11:37:13.171 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:37:13.179 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:37:13.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 65.3017ms
2024-10-26 11:37:13.248 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.9891ms
2024-10-26 11:37:33.299 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryJyfOweFwZlMkafmc 78915
2024-10-26 11:37:33.312 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:33.314 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:37:33.320 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:37:33.344 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 11:37:33.345 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:37:33.358 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:37:33.369 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:37:33.378 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:37:33.383 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 11:37:33.384 +02:00 [WRN] Student details:0
2024-10-26 11:37:33.648 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='1' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='i need to register for prog6112' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T11:37:33.4009931+02:00' (Nullable = true), @p10='20241026-37564' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 11:37:33.683 +02:00 [INF] Query with ID 83 successfully created.
2024-10-26 11:37:33.686 +02:00 [INF] Uploading file: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png as 0cc2ff83-0f86-4816-b35a-cd4b947accd9_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png
2024-10-26 11:37:36.660 +02:00 [INF] File uploaded successfully: 0cc2ff83-0f86-4816-b35a-cd4b947accd9_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png
2024-10-26 11:37:36.699 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png' (Nullable = false) (Size = 4000), @p1='0cc2ff83-0f86-4816-b35a-cd4b947accd9_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png' (Nullable = false) (Size = 4000), @p2='83', @p3='2024-10-26T11:37:36.6636900+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 11:37:36.702 +02:00 [INF] Document associated with QueryID 83.
2024-10-26 11:37:36.711 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 11:37:36.729 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 11:37:36.782 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 11:37:36.786 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 11:37:36.879 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p1='83', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T11:37:36.7894659+02:00' (Nullable = true), @p3=NULL (Nullable = false) (Size = 4000), @p4='83' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 11:37:36.924 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'AssignmentNumber', table 'UQMS_db.dbo.QueryAssignments'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:78a55883-a3b2-491c-ba9d-2ed5cbb64f00
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'AssignmentNumber', table 'UQMS_db.dbo.QueryAssignments'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:78a55883-a3b2-491c-ba9d-2ed5cbb64f00
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-26 11:37:36.932 +02:00 [ERR] An error occurred while submitting the query: An error occurred while saving the entity changes. See the inner exception for details.
2024-10-26 11:37:36.934 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 11:37:36.935 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 11:37:36.936 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 11:37:36.940 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 3.9617ms.
2024-10-26 11:37:36.941 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 3624.3301ms
2024-10-26 11:37:36.942 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:37:36.944 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 3644.4471ms
2024-10-26 11:37:36.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:37:36.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:37:36.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1948ms
2024-10-26 11:37:36.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.4631ms
2024-10-26 11:39:19.969 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 11:39:23.495 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 11:39:23.497 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 11:39:23.503 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 11:39:23.505 +02:00 [INF] Hosting environment: Development
2024-10-26 11:39:23.506 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 11:39:24.279 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryJyfOweFwZlMkafmc 78915
2024-10-26 11:39:25.959 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:26.030 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:39:26.261 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:39:26.325 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:39:26.326 +02:00 [ERR] User not logged in.
2024-10-26 11:39:26.339 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 11:39:26.344 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 307.8823ms
2024-10-26 11:39:26.349 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:26.360 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 2084.3225ms
2024-10-26 11:39:26.402 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 11:39:26.413 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:26.422 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:39:28.596 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 11:39:31.307 +02:00 [INF] Executed DbCommand (191ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 11:39:31.461 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:39:31.462 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 11:39:31.469 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 11:39:31.470 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 5041.7446ms
2024-10-26 11:39:31.471 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:31.477 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:5927afed-b656-b569-7431-67b9bee3279a
2024-10-26 11:39:31.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 5084.5116ms
2024-10-26 11:39:31.490 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 11:39:31.502 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:31.505 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:39:31.509 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 11:39:31.510 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.6158ms
2024-10-26 11:39:31.511 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:31.512 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 21.96ms
2024-10-26 11:39:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 11:39:31.526 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:31.531 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:39:31.686 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:39:31.823 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 11:39:31.889 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 11:39:31.979 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:39:31.993 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:39:32.026 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:39:32.040 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 11:39:32.190 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 156.0806ms.
2024-10-26 11:39:32.194 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 659.1795ms
2024-10-26 11:39:32.195 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:32.198 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 677.7933ms
2024-10-26 11:39:32.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:39:32.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:39:32.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 116.3ms
2024-10-26 11:39:32.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 153.2244ms
2024-10-26 11:39:50.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:39:50.309 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:50.315 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:39:50.322 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:39:50.325 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:39:50.342 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 17.9437ms.
2024-10-26 11:39:50.344 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 26.653ms
2024-10-26 11:39:50.344 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:50.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 47.9798ms
2024-10-26 11:39:50.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:39:50.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7247ms
2024-10-26 11:39:50.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:39:50.392 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.5981ms
2024-10-26 11:39:51.694 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:39:51.700 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:51.705 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:39:51.710 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:39:51.780 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:39:51.787 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:39:51.805 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:39:51.808 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:39:51.832 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 23.9256ms.
2024-10-26 11:39:51.835 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 128.1243ms
2024-10-26 11:39:51.837 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:51.838 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 144.0464ms
2024-10-26 11:39:51.869 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:39:51.871 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:39:51.873 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1715ms
2024-10-26 11:39:51.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5546ms
2024-10-26 11:39:53.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 11:39:53.344 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:53.352 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:39:53.357 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:39:53.358 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 11:39:53.366 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 8.066ms.
2024-10-26 11:39:53.374 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 21.3276ms
2024-10-26 11:39:53.375 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:53.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 37.7594ms
2024-10-26 11:39:53.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:39:53.399 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:39:53.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.9968ms
2024-10-26 11:39:53.410 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5553ms
2024-10-26 11:39:54.540 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 11:39:54.547 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:54.557 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:39:54.562 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:39:54.576 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 11:39:54.582 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:39:54.588 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:39:54.628 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:39:54.661 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:39:54.770 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 11:39:54.828 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 58.234ms.
2024-10-26 11:39:54.829 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 270.1704ms
2024-10-26 11:39:54.832 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:39:54.833 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 292.383ms
2024-10-26 11:39:54.859 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:39:54.862 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:39:54.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2079ms
2024-10-26 11:39:54.877 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.5789ms
2024-10-26 11:40:21.390 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryAyA6TkWtLAuIG5Dr 78914
2024-10-26 11:40:21.404 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:40:21.406 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:40:21.411 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:40:21.418 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 11:40:21.419 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:40:21.441 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:40:21.458 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:40:21.468 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:40:21.471 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 11:40:21.472 +02:00 [WRN] Student details:0
2024-10-26 11:40:22.156 +02:00 [INF] Executed DbCommand (566ms) [Parameters=[@p0='1' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='how do i register for BCAD7301' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T11:40:21.4842885+02:00' (Nullable = true), @p10='20241026-34095' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 11:40:22.179 +02:00 [INF] Query with ID 84 successfully created.
2024-10-26 11:40:22.185 +02:00 [ERR] An error occurred while submitting the query: Object reference not set to an instance of an object.
2024-10-26 11:40:22.186 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 11:40:22.187 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 11:40:22.188 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 11:40:22.194 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 6.0267ms.
2024-10-26 11:40:22.195 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 787.265ms
2024-10-26 11:40:22.196 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:40:22.198 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 807.8008ms
2024-10-26 11:40:22.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:40:22.221 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.3245ms
2024-10-26 11:40:22.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:40:22.225 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7467ms
2024-10-26 11:43:46.518 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 11:43:46.701 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 11:43:46.702 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 11:43:46.706 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 11:43:46.709 +02:00 [INF] Hosting environment: Development
2024-10-26 11:43:46.709 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 11:43:47.355 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryAyA6TkWtLAuIG5Dr 78914
2024-10-26 11:43:48.043 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:43:48.079 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:43:48.262 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:43:48.319 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:43:48.320 +02:00 [ERR] User not logged in.
2024-10-26 11:43:48.330 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 11:43:48.335 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 250.5737ms
2024-10-26 11:43:48.339 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:43:48.352 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 997.9171ms
2024-10-26 11:43:48.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 11:43:48.399 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:43:48.404 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:43:50.236 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 11:43:51.047 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 11:43:51.134 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:43:51.136 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 11:43:51.139 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 11:43:51.141 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2735.134ms
2024-10-26 11:43:51.141 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:43:51.148 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:deb42a58-9fe9-c171-3aa8-1994a2d98ca3
2024-10-26 11:43:51.156 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2776.0594ms
2024-10-26 11:43:51.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 11:43:51.168 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:43:51.170 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:43:51.173 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 11:43:51.174 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.6955ms
2024-10-26 11:43:51.175 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:43:51.176 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.662ms
2024-10-26 11:43:51.183 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 11:43:51.187 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:43:51.191 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:43:51.281 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:43:51.369 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 11:43:51.423 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 11:43:51.482 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:43:51.495 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:43:51.518 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:43:51.532 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 11:43:51.691 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 166.28ms.
2024-10-26 11:43:51.694 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 502.2667ms
2024-10-26 11:43:51.696 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:43:51.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 518.6014ms
2024-10-26 11:43:52.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:43:52.086 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:43:52.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 67.7754ms
2024-10-26 11:43:57.535 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5448.6965ms
2024-10-26 11:44:10.435 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:44:10.446 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:10.450 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:44:10.455 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:44:10.457 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:44:10.470 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 13.7989ms.
2024-10-26 11:44:10.471 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 18.8076ms
2024-10-26 11:44:10.473 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:10.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 38.4389ms
2024-10-26 11:44:10.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:44:10.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:44:10.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0963ms
2024-10-26 11:44:10.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.635ms
2024-10-26 11:44:11.239 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:44:11.245 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:11.252 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:44:11.258 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:44:11.342 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:44:11.348 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:44:11.362 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:44:11.368 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:44:11.402 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 35.5031ms.
2024-10-26 11:44:11.403 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 149.9803ms
2024-10-26 11:44:11.405 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:11.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 167.5041ms
2024-10-26 11:44:11.441 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:44:11.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:44:11.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5621ms
2024-10-26 11:44:11.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.6146ms
2024-10-26 11:44:12.776 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 11:44:12.781 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:12.787 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:44:12.791 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:44:12.794 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 11:44:12.801 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 7.8764ms.
2024-10-26 11:44:12.802 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 13.7978ms
2024-10-26 11:44:12.803 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:12.804 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 28.3199ms
2024-10-26 11:44:12.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:44:12.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:44:12.836 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2729ms
2024-10-26 11:44:12.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.7549ms
2024-10-26 11:44:13.870 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 11:44:13.875 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:13.882 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:44:13.886 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:44:13.899 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 11:44:13.905 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:44:13.921 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:44:13.964 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:44:14.000 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:44:14.096 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 11:44:14.131 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 36.246ms.
2024-10-26 11:44:14.132 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 249.363ms
2024-10-26 11:44:14.134 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:14.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 264.1561ms
2024-10-26 11:44:14.157 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:44:14.157 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:44:14.169 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.3913ms
2024-10-26 11:44:14.178 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.9607ms
2024-10-26 11:44:53.638 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryES9npX9ygU7Mq5ac 75043
2024-10-26 11:44:53.647 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:53.649 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:44:53.653 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:44:53.670 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 11:44:53.671 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:44:53.675 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:44:53.682 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:44:53.687 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:44:53.691 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 2
2024-10-26 11:44:53.692 +02:00 [WRN] Student details:0
2024-10-26 11:44:53.863 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='2' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='How do i apply for a remark for SOEN6112' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T11:44:53.7037131+02:00' (Nullable = true), @p10='20241026-16503' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 11:44:53.894 +02:00 [INF] Query with ID 85 successfully created.
2024-10-26 11:44:53.902 +02:00 [INF] Uploading file: b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf as b1a0ef3e-2f7e-4af3-8160-f56ac0160f5c_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-10-26 11:44:56.084 +02:00 [INF] File uploaded successfully: b1a0ef3e-2f7e-4af3-8160-f56ac0160f5c_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-10-26 11:44:56.098 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf' (Nullable = false) (Size = 4000), @p1='b1a0ef3e-2f7e-4af3-8160-f56ac0160f5c_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf' (Nullable = false) (Size = 4000), @p2='85', @p3='2024-10-26T11:44:56.0864373+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 11:44:56.104 +02:00 [INF] Document associated with QueryID 85.
2024-10-26 11:44:56.119 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 11:44:56.151 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 11:44:56.200 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 11:44:56.206 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 11:44:56.287 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='85', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T11:44:56.2086429+02:00' (Nullable = true), @p3='20241026-97745' (Nullable = false) (Size = 4000), @p4='85' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 11:44:56.301 +02:00 [INF] Query assigned to Lecturer with StaffID 1.
2024-10-26 11:44:56.302 +02:00 [INF] Query submission process completed successfully for QueryID 85.
2024-10-26 11:44:56.303 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-10-26 11:44:56.304 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 2653.8709ms
2024-10-26 11:44:56.305 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:56.306 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 2667.2511ms
2024-10-26 11:44:56.311 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 11:44:56.317 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:56.318 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:44:56.321 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:44:56.321 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 11:44:56.323 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.9267ms.
2024-10-26 11:44:56.324 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 5.2452ms
2024-10-26 11:44:56.325 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:44:56.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 14.9315ms
2024-10-26 11:44:56.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:44:56.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:44:56.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.7244ms
2024-10-26 11:44:56.377 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.8964ms
2024-10-26 11:45:08.741 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:45:08.748 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:45:08.749 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:45:08.753 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:45:08.754 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:45:08.759 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 5.0634ms.
2024-10-26 11:45:08.761 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 11.3643ms
2024-10-26 11:45:08.763 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:45:08.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 23.4113ms
2024-10-26 11:45:08.799 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:45:08.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6745ms
2024-10-26 11:45:08.802 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:45:08.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.8208ms
2024-10-26 11:45:09.923 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:45:09.932 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:45:09.933 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:45:09.937 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:45:09.945 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:45:09.951 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:45:09.957 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:45:09.963 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:45:09.969 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 6.2177ms.
2024-10-26 11:45:09.975 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 40.6811ms
2024-10-26 11:45:09.977 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:45:09.979 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 56.2519ms
2024-10-26 11:45:09.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:45:10.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4859ms
2024-10-26 11:45:10.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:45:10.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.8888ms
2024-10-26 11:47:12.186 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 11:47:12.376 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 11:47:12.377 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 11:47:12.381 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 11:47:12.382 +02:00 [INF] Hosting environment: Development
2024-10-26 11:47:12.382 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 11:47:13.056 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:47:13.643 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:13.664 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:47:13.951 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:47:13.961 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:47:13.975 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 11:47:13.981 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 310.8717ms
2024-10-26 11:47:13.987 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:13.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 302 0 null 941.5016ms
2024-10-26 11:47:14.051 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 11:47:14.076 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:14.085 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:47:16.000 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 11:47:17.032 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 11:47:17.136 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:47:17.138 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 11:47:17.144 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 11:47:17.145 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3058.443ms
2024-10-26 11:47:17.147 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:17.153 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:449251b1-9213-6949-e401-19fc628862a8
2024-10-26 11:47:17.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3109.6226ms
2024-10-26 11:47:17.164 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 11:47:17.176 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:17.178 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:47:17.183 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 11:47:17.184 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.7558ms
2024-10-26 11:47:17.186 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:17.187 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 22.7865ms
2024-10-26 11:47:17.194 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 11:47:17.200 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:17.205 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:47:17.313 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:47:17.419 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 11:47:17.482 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 11:47:17.563 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:47:17.576 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:47:17.603 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:47:17.620 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 11:47:17.787 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 174.8287ms.
2024-10-26 11:47:17.790 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 582.5375ms
2024-10-26 11:47:17.791 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:17.793 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 599.8454ms
2024-10-26 11:47:17.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:47:17.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:47:18.007 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 23.3466ms
2024-10-26 11:47:18.046 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.5818ms
2024-10-26 11:47:18.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/favicon.ico - null null
2024-10-26 11:47:18.340 +02:00 [INF] Sending file. Request path: '/Images/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\favicon.ico'
2024-10-26 11:47:18.342 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/favicon.ico - 200 15406 image/x-icon 54.1955ms
2024-10-26 11:47:21.563 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:47:21.579 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:21.583 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:47:21.590 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:47:21.594 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:47:21.620 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 26.8569ms.
2024-10-26 11:47:21.621 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 36.4653ms
2024-10-26 11:47:21.622 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:21.624 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 60.6022ms
2024-10-26 11:47:21.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:47:21.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:47:21.653 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.4527ms
2024-10-26 11:47:21.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.5557ms
2024-10-26 11:47:22.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:47:22.745 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:22.746 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:47:22.753 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:47:22.880 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:47:22.886 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:47:22.907 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:47:22.911 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:47:22.942 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 33.0627ms.
2024-10-26 11:47:22.944 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 196.3941ms
2024-10-26 11:47:22.945 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:22.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 207.6537ms
2024-10-26 11:47:22.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:47:22.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:47:22.990 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.4647ms
2024-10-26 11:47:22.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.2986ms
2024-10-26 11:47:24.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 11:47:24.396 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:24.400 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:47:24.404 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:47:24.407 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 11:47:24.413 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 7.2703ms.
2024-10-26 11:47:24.417 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 15.0222ms
2024-10-26 11:47:24.419 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:24.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 28.9897ms
2024-10-26 11:47:24.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:47:24.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:47:24.448 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1819ms
2024-10-26 11:47:24.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.166ms
2024-10-26 11:47:25.554 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 11:47:25.558 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:25.567 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:47:25.573 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:47:25.607 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 11:47:25.614 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:47:25.626 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:47:25.678 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:47:25.721 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:47:25.815 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 11:47:25.856 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 41.571ms.
2024-10-26 11:47:25.857 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 289.1324ms
2024-10-26 11:47:25.858 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:47:25.859 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 305.3342ms
2024-10-26 11:47:25.889 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:47:25.889 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:47:25.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.653ms
2024-10-26 11:47:25.901 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.2029ms
2024-10-26 11:48:02.185 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryzEEMSKTDqISTLbfH 75058
2024-10-26 11:48:02.192 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:48:02.209 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:48:02.214 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:48:02.269 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 11:48:02.270 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:48:02.279 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:48:02.291 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:48:02.298 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:48:02.301 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 11:48:02.302 +02:00 [WRN] Student details:0
2024-10-26 11:48:02.495 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='1' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='what is the closing date for registration for PROG6112 ' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T11:48:02.3134782+02:00' (Nullable = true), @p10='20241026-89445' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 11:48:02.525 +02:00 [INF] Query with ID 86 successfully created.
2024-10-26 11:48:02.529 +02:00 [INF] Uploading file: b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf as 409e2ba6-093a-4378-9942-0dc4419562d2_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-10-26 11:48:04.466 +02:00 [INF] File uploaded successfully: 409e2ba6-093a-4378-9942-0dc4419562d2_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-10-26 11:48:04.484 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf' (Nullable = false) (Size = 4000), @p1='409e2ba6-093a-4378-9942-0dc4419562d2_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf' (Nullable = false) (Size = 4000), @p2='86', @p3='2024-10-26T11:48:04.4690295+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 11:48:04.489 +02:00 [INF] Document associated with QueryID 86.
2024-10-26 11:48:04.496 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 11:48:04.509 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 11:48:04.541 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 11:48:04.547 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 11:48:04.609 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p1='86', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T11:48:04.5485396+02:00' (Nullable = true), @p3='20241026-40020' (Nullable = false) (Size = 4000), @p4='86' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 11:48:04.627 +02:00 [INF] Query assigned to Lecturer with StaffID 2.
2024-10-26 11:48:04.630 +02:00 [ERR] An error occurred while submitting the query: Object reference not set to an instance of an object.
2024-10-26 11:48:04.631 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 11:48:04.632 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 11:48:04.633 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 11:48:04.636 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 2.8163ms.
2024-10-26 11:48:04.636 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 2424.8503ms
2024-10-26 11:48:04.637 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:48:04.639 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 2454.3566ms
2024-10-26 11:48:04.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:48:04.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:48:04.670 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.8278ms
2024-10-26 11:48:04.679 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.2464ms
2024-10-26 11:48:22.313 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:48:22.320 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:48:22.324 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:48:22.350 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:48:22.358 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:48:22.363 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 6.1175ms.
2024-10-26 11:48:22.364 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 34.0521ms
2024-10-26 11:48:22.366 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:48:22.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 56.1337ms
2024-10-26 11:48:22.408 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:48:22.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.2979ms
2024-10-26 11:48:22.450 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:48:22.491 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.2215ms
2024-10-26 11:48:23.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:48:23.396 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:48:23.397 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:48:23.402 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:48:23.412 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:48:23.419 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:48:23.428 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:48:23.431 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:48:23.434 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 2.9187ms.
2024-10-26 11:48:23.435 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 36.3991ms
2024-10-26 11:48:23.436 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:48:23.437 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 55.0536ms
2024-10-26 11:48:23.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:48:23.467 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.8439ms
2024-10-26 11:48:23.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:48:23.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.2534ms
2024-10-26 11:59:14.971 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 11:59:15.386 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 11:59:15.387 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 11:59:15.392 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 11:59:15.394 +02:00 [INF] Hosting environment: Development
2024-10-26 11:59:15.395 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 11:59:15.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:59:16.727 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:16.751 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:17.947 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:59:17.962 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:59:17.979 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 11:59:17.987 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 1224.047ms
2024-10-26 11:59:17.995 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:18.007 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 302 0 null 2307.7807ms
2024-10-26 11:59:18.035 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 11:59:18.049 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:18.062 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:20.332 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 11:59:21.788 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 11:59:21.927 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 11:59:21.929 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 11:59:21.937 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 11:59:21.939 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3875.5621ms
2024-10-26 11:59:21.941 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:21.949 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a3118908-1845-335a-a4dc-21c215db63d6
2024-10-26 11:59:21.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3926.527ms
2024-10-26 11:59:21.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 11:59:21.978 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:21.983 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:21.992 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 11:59:21.994 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 8.204ms
2024-10-26 11:59:21.997 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:21.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 35.405ms
2024-10-26 11:59:22.005 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 11:59:22.014 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:22.020 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:22.197 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:59:22.353 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 11:59:22.431 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 11:59:22.531 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:59:22.542 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:59:22.568 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:59:22.578 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 11:59:22.787 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 213.8617ms.
2024-10-26 11:59:22.791 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 767.5438ms
2024-10-26 11:59:22.792 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:22.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 790.1432ms
2024-10-26 11:59:22.883 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:59:22.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:59:22.903 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 20.2723ms
2024-10-26 11:59:22.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.3561ms
2024-10-26 11:59:28.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:59:28.777 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:28.781 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:28.789 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:59:28.884 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:59:28.918 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 126.1457ms.
2024-10-26 11:59:28.932 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 149.9021ms
2024-10-26 11:59:28.945 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:28.949 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 211.2877ms
2024-10-26 11:59:29.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:59:29.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:59:29.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 16.7019ms
2024-10-26 11:59:29.211 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.8034ms
2024-10-26 11:59:30.586 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 11:59:30.600 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:30.601 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:30.610 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:59:30.940 +02:00 [INF] Executed DbCommand (204ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:59:30.975 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:59:31.017 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 11:59:31.022 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 11:59:31.053 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 32.5105ms.
2024-10-26 11:59:31.055 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 451.7714ms
2024-10-26 11:59:31.056 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:31.057 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 470.9303ms
2024-10-26 11:59:31.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:59:31.101 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:59:31.108 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.0653ms
2024-10-26 11:59:31.121 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.3862ms
2024-10-26 11:59:32.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 11:59:32.881 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:32.886 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:32.901 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:59:32.945 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 11:59:32.970 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 25.3046ms.
2024-10-26 11:59:33.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:59:33.017 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 125.6223ms
2024-10-26 11:59:33.045 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:33.046 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 216.5184ms
2024-10-26 11:59:33.035 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 22.43ms
2024-10-26 11:59:33.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 11:59:33.748 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:33.763 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:33.774 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:59:33.784 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 11:59:33.799 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 17.1909ms.
2024-10-26 11:59:33.803 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 33.9598ms
2024-10-26 11:59:33.806 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:33.813 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 97.3343ms
2024-10-26 11:59:33.856 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:59:33.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:59:33.871 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.0231ms
2024-10-26 11:59:33.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 141.9712ms
2024-10-26 11:59:35.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 11:59:35.061 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:35.077 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 11:59:35.082 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 11:59:35.112 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 11:59:35.120 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 11:59:35.139 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 11:59:35.206 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 11:59:35.262 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 11:59:35.387 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 11:59:35.423 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 37.8859ms.
2024-10-26 11:59:35.426 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 347.556ms
2024-10-26 11:59:35.441 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 11:59:35.446 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 405.5978ms
2024-10-26 11:59:35.462 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 11:59:35.462 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 11:59:35.475 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.788ms
2024-10-26 11:59:35.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.9975ms
2024-10-26 12:00:01.955 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryfAA9Cyi08qURbdMH 78933
2024-10-26 12:00:01.969 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:00:01.983 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:00:01.986 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:00:02.017 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:00:02.017 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:00:02.032 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:00:02.039 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:00:02.050 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:00:02.053 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 2
2024-10-26 12:00:02.054 +02:00 [WRN] Student details:0
2024-10-26 12:00:02.675 +02:00 [INF] Executed DbCommand (498ms) [Parameters=[@p0='2' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='how do i apply for a remark for the PROG6112 exam' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T12:00:02.0628065+02:00' (Nullable = true), @p10='20241026-87737' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 12:00:02.711 +02:00 [INF] Query with ID 87 successfully created.
2024-10-26 12:00:02.716 +02:00 [INF] Uploading file: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png as 3f54b0dc-5a24-45f5-a295-0dd3d5d1185f_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png
2024-10-26 12:00:05.503 +02:00 [INF] File uploaded successfully: 3f54b0dc-5a24-45f5-a295-0dd3d5d1185f_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png
2024-10-26 12:00:05.518 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png' (Nullable = false) (Size = 4000), @p1='3f54b0dc-5a24-45f5-a295-0dd3d5d1185f_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png' (Nullable = false) (Size = 4000), @p2='87', @p3='2024-10-26T12:00:05.5044731+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 12:00:05.524 +02:00 [INF] Document associated with QueryID 87.
2024-10-26 12:00:05.533 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 12:00:05.555 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 12:00:05.595 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:00:05.600 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:00:05.653 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='87', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T12:00:05.6035521+02:00' (Nullable = true), @p3='20241026-94107' (Nullable = false) (Size = 4000), @p4='87' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 12:00:05.669 +02:00 [INF] Query assigned to Lecturer with StaffID 1.
2024-10-26 12:00:05.670 +02:00 [INF] Query submission process completed successfully for QueryID 87.
2024-10-26 12:00:05.676 +02:00 [ERR] An error occurred while submitting the query or sending email: Object reference not set to an instance of an object.
2024-10-26 12:00:05.678 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 12:00:05.678 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 12:00:05.679 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 12:00:05.682 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 3.2985ms.
2024-10-26 12:00:05.683 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 3698.6663ms
2024-10-26 12:00:05.684 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:00:05.686 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 3730.082ms
2024-10-26 12:00:05.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:00:05.729 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:00:05.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5159ms
2024-10-26 12:00:05.735 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.3763ms
2024-10-26 12:00:31.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:00:31.945 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:00:31.946 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:00:31.949 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:00:31.951 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:00:31.952 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:00:31.959 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:00:31.966 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:00:31.970 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:00:31.971 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 12:00:31.974 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 2.9896ms.
2024-10-26 12:00:31.975 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 27.8419ms
2024-10-26 12:00:31.976 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:00:31.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 39.9939ms
2024-10-26 12:00:32.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:00:32.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2543ms
2024-10-26 12:09:13.156 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 12:09:13.454 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 12:09:13.455 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 12:09:13.460 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 12:09:13.461 +02:00 [INF] Hosting environment: Development
2024-10-26 12:09:13.463 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 12:09:13.970 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:09:15.041 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:15.063 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:15.244 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:09:15.271 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:09:15.273 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:09:15.275 +02:00 [ERR] User not logged in.
2024-10-26 12:09:15.285 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 12:09:15.289 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 222.1275ms
2024-10-26 12:09:15.295 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:15.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 302 0 null 1335.2188ms
2024-10-26 12:09:15.320 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 12:09:15.332 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:15.337 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:17.109 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 12:09:18.173 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 12:09:18.283 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:09:18.285 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 12:09:18.289 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 12:09:18.291 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2951.5088ms
2024-10-26 12:09:18.292 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:18.296 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:56fce1f5-50af-a881-a5dc-4af9edad916a
2024-10-26 12:09:18.303 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2983.0282ms
2024-10-26 12:09:18.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 12:09:18.313 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:18.315 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:18.320 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 12:09:18.321 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 4.1913ms
2024-10-26 12:09:18.321 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:18.322 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.7442ms
2024-10-26 12:09:18.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 12:09:18.341 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:18.346 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:18.489 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:09:18.620 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 12:09:18.679 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 12:09:18.758 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:09:18.779 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:09:18.807 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:09:18.816 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 12:09:18.927 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 115.1226ms.
2024-10-26 12:09:18.929 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 581.6695ms
2024-10-26 12:09:18.930 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:18.933 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 606.6726ms
2024-10-26 12:09:19.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:09:19.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:09:19.202 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 41.0989ms
2024-10-26 12:09:19.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 177.2106ms
2024-10-26 12:09:26.061 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 12:09:26.073 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:26.075 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:26.081 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:09:26.084 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 12:09:26.103 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 19.6773ms.
2024-10-26 12:09:26.104 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 27.8037ms
2024-10-26 12:09:26.105 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:26.106 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 45.0889ms
2024-10-26 12:09:26.149 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:09:26.149 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:09:26.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.4292ms
2024-10-26 12:09:26.172 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.9521ms
2024-10-26 12:09:26.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 12:09:26.988 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:26.993 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:27.001 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:09:27.099 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:09:27.109 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:09:27.136 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 12:09:27.140 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 12:09:27.185 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 46.0172ms.
2024-10-26 12:09:27.186 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 191.6604ms
2024-10-26 12:09:27.187 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:27.188 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 208.6129ms
2024-10-26 12:09:27.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:09:27.269 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.679ms
2024-10-26 12:09:27.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:09:27.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.5909ms
2024-10-26 12:09:28.820 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 12:09:28.826 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:28.827 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:28.831 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:09:28.833 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 12:09:28.835 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 2.393ms.
2024-10-26 12:09:28.837 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 8.9498ms
2024-10-26 12:09:28.839 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:28.841 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 20.8293ms
2024-10-26 12:09:28.867 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:09:28.869 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1471ms
2024-10-26 12:09:29.694 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 12:09:29.705 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:29.712 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:29.718 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:09:29.721 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 12:09:29.733 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 13.1621ms.
2024-10-26 12:09:29.735 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 20.7327ms
2024-10-26 12:09:29.735 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:29.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 41.9817ms
2024-10-26 12:09:29.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:09:29.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:09:29.774 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3508ms
2024-10-26 12:09:29.781 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.2634ms
2024-10-26 12:09:30.782 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:09:30.791 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:30.793 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:30.797 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:09:30.800 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:09:30.805 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:09:30.809 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:09:30.855 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:09:30.894 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:09:30.979 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 12:09:31.014 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 35.4944ms.
2024-10-26 12:09:31.015 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 221.6226ms
2024-10-26 12:09:31.017 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:31.017 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 235.1367ms
2024-10-26 12:09:31.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:09:31.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:09:31.045 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9649ms
2024-10-26 12:09:31.057 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.5505ms
2024-10-26 12:09:45.072 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryVAZwp6GeVTWuhJGM 75018
2024-10-26 12:09:45.082 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:45.097 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:09:45.101 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:09:45.142 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:09:45.143 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:09:45.151 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:09:45.159 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:09:45.166 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:09:45.170 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 2
2024-10-26 12:09:45.171 +02:00 [WRN] Student details:0
2024-10-26 12:09:45.370 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='2' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='I need a remark' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T12:09:45.1843610+02:00' (Nullable = true), @p10='20241026-36752' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 12:09:45.407 +02:00 [INF] Query with ID 88 successfully created.
2024-10-26 12:09:45.413 +02:00 [INF] Uploading file: b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf as 0f1c5425-f32d-442b-8957-293ebbf7d384_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-10-26 12:09:47.319 +02:00 [INF] File uploaded successfully: 0f1c5425-f32d-442b-8957-293ebbf7d384_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-10-26 12:09:47.343 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf' (Nullable = false) (Size = 4000), @p1='0f1c5425-f32d-442b-8957-293ebbf7d384_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf' (Nullable = false) (Size = 4000), @p2='88', @p3='2024-10-26T12:09:47.3213521+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 12:09:47.348 +02:00 [INF] Document associated with QueryID 88.
2024-10-26 12:09:47.367 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 12:09:47.390 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 12:09:47.433 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:09:47.438 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:09:47.522 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p1='88', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T12:09:47.4423493+02:00' (Nullable = true), @p3='20241026-99952' (Nullable = false) (Size = 4000), @p4='88' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 12:09:47.548 +02:00 [INF] Query assigned to Lecturer with StaffID 2.
2024-10-26 12:09:47.550 +02:00 [INF] Query submission process completed successfully for QueryID 88.
2024-10-26 12:09:47.558 +02:00 [ERR] An error occurred while submitting the query or sending email: Object reference not set to an instance of an object.
2024-10-26 12:09:47.560 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 12:09:47.563 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 12:09:47.565 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 12:09:47.569 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 4.6816ms.
2024-10-26 12:09:47.570 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 2471.4752ms
2024-10-26 12:09:47.571 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:09:47.572 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 2500.1092ms
2024-10-26 12:09:47.603 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:09:47.606 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:09:47.609 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3587ms
2024-10-26 12:09:47.615 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.1621ms
2024-10-26 12:11:43.053 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 12:11:43.204 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 12:11:43.206 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 12:11:43.212 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 12:11:43.214 +02:00 [INF] Hosting environment: Development
2024-10-26 12:11:43.215 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 12:11:43.831 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryVAZwp6GeVTWuhJGM 75018
2024-10-26 12:11:44.350 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:44.385 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:11:44.573 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:11:44.624 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:11:44.625 +02:00 [ERR] User not logged in.
2024-10-26 12:11:44.636 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 12:11:44.641 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 250.5015ms
2024-10-26 12:11:44.654 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:44.665 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 836.7394ms
2024-10-26 12:11:44.679 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 12:11:44.691 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:44.698 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:11:46.308 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 12:11:47.030 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 12:11:47.111 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:11:47.114 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 12:11:47.117 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 12:11:47.118 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2418.7015ms
2024-10-26 12:11:47.120 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:47.123 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:8775eb9c-6c1f-6148-0df3-cbf91df09d4f
2024-10-26 12:11:47.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2451.9495ms
2024-10-26 12:11:47.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 12:11:47.144 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:47.148 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:11:47.152 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 12:11:47.154 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.5775ms
2024-10-26 12:11:47.155 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:47.156 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 21.6481ms
2024-10-26 12:11:47.165 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 12:11:47.170 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:47.175 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:11:47.266 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:11:47.338 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 12:11:47.388 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 12:11:47.454 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:11:47.467 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:11:47.491 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:11:47.502 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 12:11:47.589 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 91.4817ms.
2024-10-26 12:11:47.592 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 415.32ms
2024-10-26 12:11:47.594 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:47.599 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 434.3216ms
2024-10-26 12:11:47.711 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:11:47.714 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:11:47.723 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.5735ms
2024-10-26 12:11:47.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.265ms
2024-10-26 12:11:49.364 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 12:11:49.372 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:49.375 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:11:49.381 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:11:49.384 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 12:11:49.401 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 17.8517ms.
2024-10-26 12:11:49.402 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 26.3771ms
2024-10-26 12:11:49.403 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:49.404 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 40.8803ms
2024-10-26 12:11:49.430 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:11:49.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:11:49.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2247ms
2024-10-26 12:11:49.441 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.4469ms
2024-10-26 12:11:50.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-10-26 12:11:50.488 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:50.499 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:11:50.507 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:11:50.607 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:11:50.615 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:11:50.628 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__studentDetail_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-10-26 12:11:50.632 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-10-26 12:11:50.669 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 38.4974ms.
2024-10-26 12:11:50.670 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 169.522ms
2024-10-26 12:11:50.671 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:50.673 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 191.0727ms
2024-10-26 12:11:50.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:11:50.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:11:50.721 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1163ms
2024-10-26 12:11:50.731 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.3242ms
2024-10-26 12:11:53.740 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 12:11:53.745 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:53.751 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:11:53.756 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:11:53.758 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 12:11:53.766 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 8.6525ms.
2024-10-26 12:11:53.767 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 14.3419ms
2024-10-26 12:11:53.769 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:53.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 29.97ms
2024-10-26 12:11:53.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:11:53.795 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:11:53.799 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.9566ms
2024-10-26 12:11:53.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.2974ms
2024-10-26 12:11:54.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:11:54.703 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:54.708 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:11:54.715 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:11:54.728 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:11:54.735 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:11:54.745 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:11:54.783 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:11:54.816 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:11:54.896 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 12:11:54.921 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 26.3929ms.
2024-10-26 12:11:54.922 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 213.1728ms
2024-10-26 12:11:54.924 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:11:54.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 226.9677ms
2024-10-26 12:11:54.950 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:11:54.950 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:11:54.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.383ms
2024-10-26 12:11:54.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.0963ms
2024-10-26 12:12:04.516 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryGYyt2vkUDpAdUSbs 78890
2024-10-26 12:12:04.524 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:12:04.526 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:12:04.531 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:12:04.538 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:12:04.539 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:12:04.548 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:12:04.556 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:12:04.563 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:12:04.566 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 12:12:04.567 +02:00 [WRN] Student details:0
2024-10-26 12:12:04.567 +02:00 [INF] received email null
2024-10-26 12:12:04.718 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='1' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='iejnje' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T12:12:04.5792450+02:00' (Nullable = true), @p10='20241026-65535' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 12:12:04.747 +02:00 [INF] Query with ID 89 successfully created.
2024-10-26 12:12:04.751 +02:00 [INF] Uploading file: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png as 13decce3-d457-474c-8f5c-3ce3602fd60f_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png
2024-10-26 12:12:07.534 +02:00 [INF] File uploaded successfully: 13decce3-d457-474c-8f5c-3ce3602fd60f_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png
2024-10-26 12:12:07.553 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png' (Nullable = false) (Size = 4000), @p1='13decce3-d457-474c-8f5c-3ce3602fd60f_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png' (Nullable = false) (Size = 4000), @p2='89', @p3='2024-10-26T12:12:07.5376326+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 12:12:07.557 +02:00 [INF] Document associated with QueryID 89.
2024-10-26 12:12:07.566 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 12:12:07.582 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 12:12:07.607 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:12:07.613 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:12:07.663 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='89', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T12:12:07.6161201+02:00' (Nullable = true), @p3='20241026-78299' (Nullable = false) (Size = 4000), @p4='89' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 12:12:07.679 +02:00 [INF] Query assigned to Lecturer with StaffID 1.
2024-10-26 12:12:07.679 +02:00 [INF] Query submission process completed successfully for QueryID 89.
2024-10-26 12:12:07.680 +02:00 [INF] tyring for emial null
2024-10-26 12:12:07.685 +02:00 [ERR] An error occurred while submitting the query or sending email: Object reference not set to an instance of an object.
2024-10-26 12:12:07.688 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 12:12:07.689 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 12:12:07.691 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 12:12:07.694 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 4.1506ms.
2024-10-26 12:12:07.695 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 3167.4297ms
2024-10-26 12:12:07.696 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:12:07.697 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 3180.7839ms
2024-10-26 12:12:07.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:12:07.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:12:07.723 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7851ms
2024-10-26 12:12:07.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.4603ms
2024-10-26 12:13:05.949 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 12:13:06.111 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 12:13:06.114 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 12:13:06.119 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 12:13:06.121 +02:00 [INF] Hosting environment: Development
2024-10-26 12:13:06.123 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 12:13:06.415 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryGYyt2vkUDpAdUSbs 78890
2024-10-26 12:13:07.214 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:07.252 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:13:07.433 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:13:07.504 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:13:07.506 +02:00 [ERR] User not logged in.
2024-10-26 12:13:07.517 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 12:13:07.522 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 264.5377ms
2024-10-26 12:13:07.527 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:07.540 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1125.8403ms
2024-10-26 12:13:07.556 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 12:13:07.568 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:07.573 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:13:09.683 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 12:13:11.094 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 12:13:11.213 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:13:11.215 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 12:13:11.220 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 12:13:11.221 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3646.5127ms
2024-10-26 12:13:11.223 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:11.229 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:465b5b11-50d6-4d45-74cd-79ede33d33bb
2024-10-26 12:13:11.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3681.4723ms
2024-10-26 12:13:11.240 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 12:13:11.255 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:11.262 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:13:11.267 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 12:13:11.269 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 4.5661ms
2024-10-26 12:13:11.270 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:11.271 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 30.7543ms
2024-10-26 12:13:11.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 12:13:11.295 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:11.304 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:13:11.423 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:13:11.520 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 12:13:11.577 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 12:13:11.653 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:13:11.664 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:13:11.684 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:13:11.695 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 12:13:11.832 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 141.9071ms.
2024-10-26 12:13:11.835 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 528.8729ms
2024-10-26 12:13:11.836 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:11.839 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 554.3958ms
2024-10-26 12:13:11.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:13:11.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:13:11.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.7459ms
2024-10-26 12:13:12.017 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.0176ms
2024-10-26 12:13:15.388 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 12:13:15.400 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:15.403 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:13:15.413 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:13:15.418 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 12:13:15.449 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 33.3317ms.
2024-10-26 12:13:15.450 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 45.32ms
2024-10-26 12:13:15.452 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:15.454 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 65.4897ms
2024-10-26 12:13:15.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:13:15.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:13:15.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.8317ms
2024-10-26 12:13:15.518 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.073ms
2024-10-26 12:13:16.869 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 12:13:16.878 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:16.886 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:13:16.896 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:13:16.900 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 12:13:16.919 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 21.1812ms.
2024-10-26 12:13:16.920 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 32.0539ms
2024-10-26 12:13:16.921 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:16.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 53.7602ms
2024-10-26 12:13:16.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:13:16.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:13:16.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.711ms
2024-10-26 12:13:16.985 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.7171ms
2024-10-26 12:13:17.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:13:18.002 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:18.011 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:13:18.018 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:13:18.038 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:13:18.050 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:13:18.194 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:13:18.267 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:13:18.329 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:13:18.476 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 12:13:18.530 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 55.3958ms.
2024-10-26 12:13:18.531 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 518.4278ms
2024-10-26 12:13:18.533 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:18.534 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 550.6707ms
2024-10-26 12:13:18.578 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:13:18.578 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:13:18.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 44.7909ms
2024-10-26 12:13:18.639 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.7488ms
2024-10-26 12:13:27.185 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundarynq7rV6xLmAyxnejT 78888
2024-10-26 12:13:27.193 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:27.195 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:13:27.200 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:13:27.203 +02:00 [INF] tyring for email null
2024-10-26 12:13:27.209 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:13:27.210 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:13:27.223 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:13:27.235 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:13:27.243 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:13:27.249 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 12:13:27.250 +02:00 [WRN] Student details:0
2024-10-26 12:13:27.250 +02:00 [INF] received email null
2024-10-26 12:13:27.519 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='1' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='wfef' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T12:13:27.2686635+02:00' (Nullable = true), @p10='20241026-30719' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 12:13:27.559 +02:00 [INF] Query with ID 90 successfully created.
2024-10-26 12:13:27.563 +02:00 [INF] Uploading file: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png as 5f3c6b76-877b-464f-847d-11648bf014ae_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png
2024-10-26 12:13:29.516 +02:00 [INF] File uploaded successfully: 5f3c6b76-877b-464f-847d-11648bf014ae_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png
2024-10-26 12:13:29.533 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png' (Nullable = false) (Size = 4000), @p1='5f3c6b76-877b-464f-847d-11648bf014ae_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (6).png' (Nullable = false) (Size = 4000), @p2='90', @p3='2024-10-26T12:13:29.5186056+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 12:13:29.538 +02:00 [INF] Document associated with QueryID 90.
2024-10-26 12:13:29.553 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 12:13:29.581 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 12:13:29.799 +02:00 [INF] Executed DbCommand (184ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:13:29.804 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:13:29.878 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='90', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T12:13:29.8075064+02:00' (Nullable = true), @p3='20241026-12125' (Nullable = false) (Size = 4000), @p4='90' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 12:13:29.899 +02:00 [INF] Query assigned to Lecturer with StaffID 2.
2024-10-26 12:13:29.900 +02:00 [INF] Query submission process completed successfully for QueryID 90.
2024-10-26 12:13:29.901 +02:00 [INF] tyring for emial null
2024-10-26 12:13:29.906 +02:00 [ERR] An error occurred while submitting the query or sending email: Object reference not set to an instance of an object.
2024-10-26 12:13:29.908 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 12:13:29.909 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 12:13:29.912 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 12:13:29.920 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 9.8243ms.
2024-10-26 12:13:29.921 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 2724.9897ms
2024-10-26 12:13:29.923 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:13:29.928 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 2743.4394ms
2024-10-26 12:13:29.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:13:29.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:13:29.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.309ms
2024-10-26 12:13:29.965 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.1516ms
2024-10-26 12:26:31.382 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 12:26:31.774 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 12:26:31.780 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 12:26:31.790 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 12:26:31.805 +02:00 [INF] Hosting environment: Development
2024-10-26 12:26:31.806 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 12:26:32.501 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundarynq7rV6xLmAyxnejT 78888
2024-10-26 12:26:33.042 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:26:33.068 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:26:33.769 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:26:33.822 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:26:33.823 +02:00 [ERR] User not logged in.
2024-10-26 12:26:33.836 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 12:26:33.840 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 767.6951ms
2024-10-26 12:26:33.847 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:26:33.855 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1355.2299ms
2024-10-26 12:26:33.881 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 12:26:33.888 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:26:33.892 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:26:35.419 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 12:26:36.488 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 12:26:36.614 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:26:36.616 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 12:26:36.621 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 12:26:36.622 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2728.8706ms
2024-10-26 12:26:36.625 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:26:36.632 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:6efc3109-fcc0-f2c8-95cb-ba1f3f5b7ca1
2024-10-26 12:26:36.644 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2762.8441ms
2024-10-26 12:26:36.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 12:26:36.663 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:26:36.667 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:26:36.671 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 12:26:36.672 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.9088ms
2024-10-26 12:26:36.673 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:26:36.674 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 26.7616ms
2024-10-26 12:26:36.682 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 12:26:36.689 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:26:36.695 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:26:36.861 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:26:37.039 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 12:26:37.109 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 12:26:37.208 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:26:37.223 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:26:37.259 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:26:37.273 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 12:26:37.553 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 287.4837ms.
2024-10-26 12:26:37.556 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 859.1088ms
2024-10-26 12:26:37.558 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:26:37.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 879.6213ms
2024-10-26 12:26:37.758 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:26:37.776 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:26:37.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 27.4842ms
2024-10-26 12:26:37.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.4424ms
2024-10-26 12:27:09.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 12:27:09.965 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:27:09.968 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:27:09.971 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:27:09.974 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 12:27:10.002 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 29.2663ms.
2024-10-26 12:27:10.003 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 34.7229ms
2024-10-26 12:27:10.004 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:27:10.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 48.3847ms
2024-10-26 12:27:10.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:27:10.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:27:10.082 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3939ms
2024-10-26 12:27:10.101 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.8831ms
2024-10-26 12:27:11.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 12:27:11.349 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:27:11.352 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:27:11.359 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:27:11.361 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 12:27:11.368 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 8.3283ms.
2024-10-26 12:27:11.370 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 14.3663ms
2024-10-26 12:27:11.371 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:27:11.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 27.3717ms
2024-10-26 12:27:11.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:27:11.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:27:11.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3599ms
2024-10-26 12:27:11.413 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.1197ms
2024-10-26 12:27:12.278 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:27:12.283 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:27:12.287 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:27:12.291 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:27:12.298 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:27:12.301 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:27:12.378 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:27:12.426 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:27:12.458 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:27:12.529 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 12:27:12.565 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 35.5619ms.
2024-10-26 12:27:12.566 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 277.6898ms
2024-10-26 12:27:12.567 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:27:12.568 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 289.682ms
2024-10-26 12:27:12.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:27:12.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:27:12.593 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4016ms
2024-10-26 12:27:12.601 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.495ms
2024-10-26 12:27:31.399 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundary0nTSqtF2KKAMleJn 75009
2024-10-26 12:27:31.408 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:27:31.409 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:27:31.414 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:27:31.418 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:27:31.430 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:27:31.437 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 25.1364ms
2024-10-26 12:27:31.438 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:27:31.441 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'u.Email' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.QuerySubmissionService.GetStudentEmailAsync(String firebaseUid) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\QuerySubmissionService.cs:line 429
   at Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery(QueryDto model, IFormFile uploadedFile) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\QueryController.cs:line 151
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-26 12:27:31.565 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 500 null text/html; charset=utf-8 166.6731ms
2024-10-26 12:27:31.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:27:31.596 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:27:31.597 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.727ms
2024-10-26 12:27:31.600 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.2277ms
2024-10-26 12:30:13.622 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 12:30:13.800 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 12:30:13.802 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 12:30:13.805 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 12:30:13.806 +02:00 [INF] Hosting environment: Development
2024-10-26 12:30:13.807 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 12:30:14.322 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundary0nTSqtF2KKAMleJn 75009
2024-10-26 12:30:14.866 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:14.901 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:30:15.328 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:30:15.457 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:30:15.459 +02:00 [ERR] User not logged in.
2024-10-26 12:30:15.473 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 12:30:15.478 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 571.4772ms
2024-10-26 12:30:15.490 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:15.505 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1184.8924ms
2024-10-26 12:30:15.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 12:30:15.549 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:15.557 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:30:17.004 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 12:30:17.812 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 12:30:17.992 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:30:17.993 +02:00 [INF] Auto-login successful for user trentfisher64@gmail.com.
2024-10-26 12:30:17.998 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-10-26 12:30:18.000 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2441.8835ms
2024-10-26 12:30:18.001 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:18.007 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:aaa279c7-d141-2bf3-f661-7238246d7d69
2024-10-26 12:30:18.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2481.3084ms
2024-10-26 12:30:18.024 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-10-26 12:30:18.038 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:18.044 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:30:18.051 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 12:30:18.053 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 6.0015ms
2024-10-26 12:30:18.054 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:18.056 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 31.4001ms
2024-10-26 12:30:18.076 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 12:30:18.084 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:18.090 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:30:18.210 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:30:18.319 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 12:30:18.482 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 12:30:18.566 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:30:18.582 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:30:18.604 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:30:18.615 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 12:30:18.760 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 150.6301ms.
2024-10-26 12:30:18.763 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 670.6433ms
2024-10-26 12:30:18.765 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:18.768 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 692.5076ms
2024-10-26 12:30:19.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:30:19.030 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:30:19.059 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 39.4736ms
2024-10-26 12:30:19.097 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.3796ms
2024-10-26 12:30:22.820 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 12:30:22.829 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:22.832 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:30:22.838 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:30:22.841 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 12:30:22.864 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 24.0985ms.
2024-10-26 12:30:22.866 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 32.6217ms
2024-10-26 12:30:22.868 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:22.870 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 49.8474ms
2024-10-26 12:30:22.914 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:30:22.914 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:30:22.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.2531ms
2024-10-26 12:30:22.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.3497ms
2024-10-26 12:30:23.618 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 12:30:23.626 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:23.633 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:30:23.641 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:30:23.643 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 12:30:23.656 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 13.426ms.
2024-10-26 12:30:23.658 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 23.6751ms
2024-10-26 12:30:23.659 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:23.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 41.4357ms
2024-10-26 12:30:23.722 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:30:23.723 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:30:23.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.9544ms
2024-10-26 12:30:23.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.2216ms
2024-10-26 12:30:24.698 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:30:24.713 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:24.720 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:30:24.726 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:30:24.738 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:30:24.746 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:30:25.203 +02:00 [INF] Executed DbCommand (341ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:30:25.253 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:30:25.289 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:30:25.396 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 12:30:25.444 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 48.9793ms.
2024-10-26 12:30:25.446 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 724.0274ms
2024-10-26 12:30:25.447 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:25.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 750.5121ms
2024-10-26 12:30:25.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:30:25.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:30:25.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.5624ms
2024-10-26 12:30:25.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.9574ms
2024-10-26 12:30:35.030 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundary1rrUNZCwMdTNGNK4 78890
2024-10-26 12:30:35.037 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:35.038 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:30:35.042 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:30:35.046 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:30:35.051 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:30:35.065 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:30:35.069 +02:00 [INF] tyring for email trentfisher64@gmail.com
2024-10-26 12:30:35.074 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:30:35.074 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:30:35.078 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:30:35.088 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:30:35.094 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:30:35.098 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 12:30:35.099 +02:00 [WRN] Student details:0
2024-10-26 12:30:35.100 +02:00 [INF] received email trentfisher64@gmail.com
2024-10-26 12:30:35.287 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='1' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='Bradio' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T12:30:35.1127745+02:00' (Nullable = true), @p10='20241026-82608' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 12:30:35.314 +02:00 [INF] Query with ID 91 successfully created.
2024-10-26 12:30:35.317 +02:00 [INF] Uploading file: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png as dee6e911-c2ab-4de5-b7bd-1edde36bf6a6_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png
2024-10-26 12:30:37.345 +02:00 [INF] File uploaded successfully: dee6e911-c2ab-4de5-b7bd-1edde36bf6a6_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png
2024-10-26 12:30:37.363 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png' (Nullable = false) (Size = 4000), @p1='dee6e911-c2ab-4de5-b7bd-1edde36bf6a6_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (5).png' (Nullable = false) (Size = 4000), @p2='91', @p3='2024-10-26T12:30:37.3474076+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 12:30:37.368 +02:00 [INF] Document associated with QueryID 91.
2024-10-26 12:30:37.377 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 12:30:37.398 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 12:30:37.440 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:30:37.446 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:30:37.532 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='91', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T12:30:37.4477420+02:00' (Nullable = true), @p3='20241026-13864' (Nullable = false) (Size = 4000), @p4='91' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 12:30:37.558 +02:00 [INF] Query assigned to Lecturer with StaffID 1.
2024-10-26 12:30:37.560 +02:00 [INF] Query submission process completed successfully for QueryID 91.
2024-10-26 12:30:37.561 +02:00 [INF] tyring for emial trentfisher64@gmail.com
2024-10-26 12:30:37.564 +02:00 [INF] Attempting to send template email to trentfisher64@gmail.com with template ID 1
2024-10-26 12:30:37.567 +02:00 [ERR] Failed to send template email to trentfisher64@gmail.com with template ID 1
System.IO.InvalidDataException: email is a required property for SendSmtpEmailTo and cannot be null
   at sib_api_v3_sdk.Model.SendSmtpEmailTo..ctor(String email, String name)
   at Apptivate_UQMS_WebApp.Services.BrevoEmailService.SendTemplateEmailAsync(String to, Int64 templateId, Dictionary`2 templateData) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\BrevoEmailService.cs:line 67
2024-10-26 12:30:37.651 +02:00 [ERR] An error occurred while submitting the query or sending email: Failed to send template email
2024-10-26 12:30:37.652 +02:00 [ERR] An error occurred while submitting the query: Query submission failed.
2024-10-26 12:30:37.654 +02:00 [WRN] Model state is invalid for the query submission.
2024-10-26 12:30:37.656 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/QuerySubmitted.
2024-10-26 12:30:37.662 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/QuerySubmitted executed in 7.5163ms.
2024-10-26 12:30:37.666 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 2626.5428ms
2024-10-26 12:30:37.667 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:30:37.671 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 200 null text/html; charset=utf-8 2640.5723ms
2024-10-26 12:30:37.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:30:37.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:30:37.750 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3956ms
2024-10-26 12:30:37.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.3688ms
2024-10-26 12:48:31.566 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 12:48:31.817 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 12:48:31.819 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 12:48:31.827 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 12:48:31.828 +02:00 [INF] Hosting environment: Development
2024-10-26 12:48:31.829 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 12:48:32.711 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundary1rrUNZCwMdTNGNK4 78890
2024-10-26 12:48:32.950 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729938476. Expected to be greater than 1729939712.
2024-10-26 12:48:32.962 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-10-26 12:48:32.968 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-10-26 12:48:32.974 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 401 0 null 263.8776ms
2024-10-26 12:55:48.543 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-26 12:55:48.690 +02:00 [INF] Now listening on: https://localhost:7061
2024-10-26 12:55:48.691 +02:00 [INF] Now listening on: http://localhost:5042
2024-10-26 12:55:48.695 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-26 12:55:48.696 +02:00 [INF] Hosting environment: Development
2024-10-26 12:55:48.697 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-10-26 12:55:49.386 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 12:55:49.604 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729938476. Expected to be greater than 1729940149.
2024-10-26 12:55:49.609 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729938476. Expected to be greater than 1729940149.
2024-10-26 12:55:49.612 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:55:49.631 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:55:49.790 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1729938476. Expected to be greater than 1729940149.
2024-10-26 12:55:49.804 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 12:55:49.933 +02:00 [INF] Executed ViewResult - view Login executed in 133.2565ms.
2024-10-26 12:55:49.950 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 317.6302ms
2024-10-26 12:55:49.952 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:55:49.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 577.0317ms
2024-10-26 12:55:49.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:55:49.995 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:55:49.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.9742ms
2024-10-26 12:55:50.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0346ms
2024-10-26 12:56:04.843 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 232
2024-10-26 12:56:04.856 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729938476. Expected to be greater than 1729940164.
2024-10-26 12:56:04.857 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1729938476. Expected to be greater than 1729940164.
2024-10-26 12:56:04.858 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:04.882 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:56:04.944 +02:00 [INF] Attempting to log in user with email: trentfisher64@gmail.com
2024-10-26 12:56:04.974 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 12:56:04.982 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 12:56:05.584 +02:00 [INF] Received HTTP response headers after 597.3528ms - 200
2024-10-26 12:56:05.588 +02:00 [INF] End processing HTTP request after 617.6741ms - 200
2024-10-26 12:56:05.593 +02:00 [INF] User logged in successfully.
2024-10-26 12:56:07.606 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-26 12:56:09.055 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@__firebaseUser_Uid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 12:56:09.324 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='39', @p0='2024-10-26T10:56:09.1900226Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-10-26 12:56:09.347 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-10-26 12:56:09.348 +02:00 [INF] User trentfisher64@gmail.com logged in successfully.
2024-10-26 12:56:09.354 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 12:56:09.355 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4472.1785ms
2024-10-26 12:56:09.357 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:09.358 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:7647b3ed-a94a-01dd-f59c-88a14aa9474d
2024-10-26 12:56:09.369 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 4525.8577ms
2024-10-26 12:56:09.375 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 12:56:10.404 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:10.412 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:56:10.587 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:56:10.736 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 12:56:10.817 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__student_StudentID_0='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 12:56:10.930 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:56:10.947 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:56:10.979 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:56:10.985 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 12:56:11.071 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 88.2363ms.
2024-10-26 12:56:11.074 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 659.9448ms
2024-10-26 12:56:11.075 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:11.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 1704.7087ms
2024-10-26 12:56:11.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:56:11.124 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:56:11.126 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.6901ms
2024-10-26 12:56:11.159 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.944ms
2024-10-26 12:56:14.780 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 12:56:14.787 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:14.790 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:56:14.825 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:56:14.828 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 12:56:14.841 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 13.955ms.
2024-10-26 12:56:14.842 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 49.8292ms
2024-10-26 12:56:14.843 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:14.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 64.0339ms
2024-10-26 12:56:14.875 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:56:14.875 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:56:14.877 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6675ms
2024-10-26 12:56:14.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.472ms
2024-10-26 12:56:16.034 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 12:56:16.046 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:16.050 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:56:16.054 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:56:16.056 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 12:56:16.062 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 6.2746ms.
2024-10-26 12:56:16.063 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 12.6392ms
2024-10-26 12:56:16.065 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:16.066 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 31.7328ms
2024-10-26 12:56:16.087 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:56:16.087 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:56:16.091 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.8919ms
2024-10-26 12:56:16.098 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.3346ms
2024-10-26 12:56:17.331 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:56:17.339 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:17.347 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:56:17.356 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:56:17.378 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:56:17.385 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:56:17.498 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:56:17.568 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:56:17.625 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:56:17.763 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 12:56:17.815 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 52.9853ms.
2024-10-26 12:56:17.817 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 468.7123ms
2024-10-26 12:56:17.818 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:56:17.820 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 488.3305ms
2024-10-26 12:56:17.856 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:56:17.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:56:17.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.296ms
2024-10-26 12:56:17.875 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3322ms
2024-10-26 12:57:09.848 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundarylFs4wtxHRUL8USAP 70954
2024-10-26 12:57:09.872 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:57:09.902 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:57:09.912 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:57:09.956 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:57:09.970 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:57:09.983 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:57:09.986 +02:00 [INF] tyring for email trentfisher64@gmail.com
2024-10-26 12:57:09.992 +02:00 [INF] Query submission process started for FirebaseUID: cPysWfqfTiPqtqmpAuRLww2aliF3
2024-10-26 12:57:09.994 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:57:09.997 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='cPysWfqfTiPqtqmpAuRLww2aliF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:57:10.008 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='39'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:57:10.015 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:57:10.020 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 12:57:10.020 +02:00 [WRN] Student details:0
2024-10-26 12:57:10.021 +02:00 [INF] received email trentfisher64@gmail.com
2024-10-26 12:57:10.123 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='1' (Nullable = true), @p1='1' (Nullable = true), @p2='4' (Nullable = true), @p3='fff ra' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='25', @p9='2024-10-26T12:57:10.0343816+02:00' (Nullable = true), @p10='20241026-28922' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 12:57:10.134 +02:00 [INF] Query with ID 92 successfully created.
2024-10-26 12:57:10.139 +02:00 [INF] Uploading file: 47417232-3b21-48b4-be55-4dc79154e3bd_Timetable.pdf as e6e8bb1c-f284-4c6e-9a6c-6015345f1e16_47417232-3b21-48b4-be55-4dc79154e3bd_Timetable.pdf
2024-10-26 12:57:12.065 +02:00 [INF] File uploaded successfully: e6e8bb1c-f284-4c6e-9a6c-6015345f1e16_47417232-3b21-48b4-be55-4dc79154e3bd_Timetable.pdf
2024-10-26 12:57:12.077 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='47417232-3b21-48b4-be55-4dc79154e3bd_Timetable.pdf' (Nullable = false) (Size = 4000), @p1='e6e8bb1c-f284-4c6e-9a6c-6015345f1e16_47417232-3b21-48b4-be55-4dc79154e3bd_Timetable.pdf' (Nullable = false) (Size = 4000), @p2='92', @p3='2024-10-26T12:57:12.0662901+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 12:57:12.080 +02:00 [INF] Document associated with QueryID 92.
2024-10-26 12:57:12.087 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 12:57:12.103 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 12:57:12.129 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:57:12.132 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 12:57:12.182 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='92', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T12:57:12.1357274+02:00' (Nullable = true), @p3='20241026-13396' (Nullable = false) (Size = 4000), @p4='92' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 12:57:12.193 +02:00 [INF] Query assigned to Lecturer with StaffID 2.
2024-10-26 12:57:12.194 +02:00 [INF] Query submission process completed successfully for QueryID 92.
2024-10-26 12:57:12.195 +02:00 [INF] tyring for emial trentfisher64@gmail.com
2024-10-26 12:57:12.197 +02:00 [INF] Attempting to send template email to trentfisher64@gmail.com with template ID 1
2024-10-26 12:57:13.060 +02:00 [INF] Template email sent successfully to trentfisher64@gmail.com with template ID 1
2024-10-26 12:57:13.061 +02:00 [INF] Notification email sent to user trentfisher64@gmail.com
2024-10-26 12:57:13.063 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-10-26 12:57:13.064 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 3160.437ms
2024-10-26 12:57:13.065 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:57:13.067 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 3219.4729ms
2024-10-26 12:57:13.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 12:57:13.083 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:57:13.084 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:57:13.090 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:57:13.091 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 12:57:13.094 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 3.5899ms.
2024-10-26 12:57:13.095 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 9.9513ms
2024-10-26 12:57:13.102 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:57:13.108 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 31.4014ms
2024-10-26 12:57:13.143 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:57:13.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:57:13.147 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1498ms
2024-10-26 12:57:13.156 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.4662ms
2024-10-26 12:58:37.319 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-10-26 12:58:37.363 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:37.383 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:58:37.395 +02:00 [INF] User logged out.
2024-10-26 12:58:37.403 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-10-26 12:58:37.404 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 20.1692ms
2024-10-26 12:58:37.405 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:37.409 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 93.0065ms
2024-10-26 12:58:37.412 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-10-26 12:58:37.417 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:37.417 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:37.418 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:37.418 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:58:37.420 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 12:58:37.431 +02:00 [INF] Executed ViewResult - view Login executed in 10.8566ms.
2024-10-26 12:58:37.432 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 12.3163ms
2024-10-26 12:58:37.432 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:37.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 20.4727ms
2024-10-26 12:58:37.452 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-10-26 12:58:37.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:58:37.462 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:58:37.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7263ms
2024-10-26 12:58:37.463 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:37.471 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.7536ms
2024-10-26 12:58:37.503 +02:00 [INF] The file /css/Login.css was not modified
2024-10-26 12:58:37.505 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 53.2453ms
2024-10-26 12:58:41.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/SelectRole - null null
2024-10-26 12:58:41.644 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:41.645 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:41.646 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:41.652 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:58:41.666 +02:00 [INF] Executing ViewResult, running view SelectRole.
2024-10-26 12:58:41.695 +02:00 [INF] Executed ViewResult - view SelectRole executed in 39.4124ms.
2024-10-26 12:58:41.697 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 43.6755ms
2024-10-26 12:58:41.698 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:41.700 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/SelectRole - 200 null text/html; charset=utf-8 63.7934ms
2024-10-26 12:58:41.742 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:58:41.746 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:58:41.760 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 17.3361ms
2024-10-26 12:58:41.790 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.1417ms
2024-10-26 12:58:43.101 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/SelectRole - application/x-www-form-urlencoded 195
2024-10-26 12:58:43.106 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:43.107 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:43.108 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:43.113 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole(System.String) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:58:43.123 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Register.
2024-10-26 12:58:43.133 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 19.09ms
2024-10-26 12:58:43.134 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:43.134 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/SelectRole - 302 0 null 33.0466ms
2024-10-26 12:58:43.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Register - null null
2024-10-26 12:58:43.142 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:43.143 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:58:43.144 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:43.150 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:58:43.160 +02:00 [INF] Register page loaded.
2024-10-26 12:58:43.237 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [d].[DepartmentID]) AS [Value], [d].[DepartmentName] AS [Text]
FROM [Departments] AS [d]
2024-10-26 12:58:43.260 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CourseID]) AS [Value], [c].[CourseName] AS [Text]
FROM [Courses] AS [c]
2024-10-26 12:58:43.273 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [p].[PositionID]) AS [Value], [p].[PositionName] AS [Text]
FROM [Positions] AS [p]
2024-10-26 12:58:43.282 +02:00 [INF] Executing ViewResult, running view Register.
2024-10-26 12:58:43.347 +02:00 [INF] Executed ViewResult - view Register executed in 65.767ms.
2024-10-26 12:58:43.348 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 192.0968ms
2024-10-26 12:58:43.350 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-10-26 12:58:43.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Register - 200 null text/html; charset=utf-8 216.1414ms
2024-10-26 12:58:43.387 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:58:43.387 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:58:43.389 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4062ms
2024-10-26 12:58:43.395 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.9859ms
2024-10-26 12:59:30.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/GetCoursesByDepartment?departmentId=4 - null null
2024-10-26 12:59:30.239 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:59:30.240 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:59:30.240 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:30.246 +02:00 [INF] Route matched with {action = "GetCoursesByDepartment", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByDepartment(Int32) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:59:30.255 +02:00 [INF] GetDepartmentWithCourses hit !! : 4
2024-10-26 12:59:30.257 +02:00 [INF] GetDepartmentWithCoursesAsync hit : 4
2024-10-26 12:59:30.287 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__departmentId_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CourseID], [c].[CourseCode]
FROM [DepartmentCourses] AS [d]
INNER JOIN [Courses] AS [c] ON [d].[CourseID] = [c].[CourseID]
WHERE [d].[DepartmentID] = @__departmentId_0
2024-10-26 12:59:30.300 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.DTOs.AccountDto+CourseDto, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-26 12:59:30.368 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp) in 119.9282ms
2024-10-26 12:59:30.369 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GetCoursesByDepartment (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:30.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/GetCoursesByDepartment?departmentId=4 - 200 null application/json; charset=utf-8 134.1652ms
2024-10-26 12:59:37.927 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Register - multipart/form-data; boundary=----WebKitFormBoundaryA06VUGJMaZyhHTB4 1239
2024-10-26 12:59:37.931 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:59:37.932 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:59:37.934 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:37.942 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:59:37.961 +02:00 [INF] Attempting to register user with email: mcebomthembu9@gmail.com
2024-10-26 12:59:37.969 +02:00 [INF] Attempting to register user with email: mcebomthembu9@gmail.com
2024-10-26 12:59:39.977 +02:00 [INF] Assigned role 'Student' to user with UID: aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2
2024-10-26 12:59:39.978 +02:00 [INF] User registered successfully with UID: aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2
2024-10-26 12:59:40.122 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='mcebomthembu9@gmail.com' (Nullable = false) (Size = 4000), @p1='aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2' (Size = 4000), @p2=NULL (DbType = DateTime2), @p3='mcebo' (Nullable = false) (Size = 4000), @p4='Uzu6s0EUvyMOq6MERv0w+VcoDMhFUMSpwy74ExLvf1Tbt6qa' (Nullable = false) (Size = 4000), @p5='2024-10-26T12:59:40.0982218+02:00', @p6='Student' (Nullable = false) (Size = 4000), @p7='Mthembu' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirebaseUID], [LastSeen], [Name], [PasswordHash], [RegistrationDate], [Role], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-10-26 12:59:40.158 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__model_SelectedDepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__model_SelectedDepartmentID_0
2024-10-26 12:59:40.181 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_SelectedCourseID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseCode], [c].[CourseName]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__model_SelectedCourseID_0
2024-10-26 12:59:40.232 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='BCNE0701' (Nullable = false) (Size = 4000), @p1='School of Information Technology' (Nullable = false) (Size = 4000), @p2='40', @p3='3' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [StudentDetails] ([Course], [Department], [UserID], [Year])
OUTPUT INSERTED.[StudentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 12:59:40.238 +02:00 [INF] User registered successfully with email: mcebomthembu9@gmail.com
2024-10-26 12:59:40.240 +02:00 [INF] User registered successfully.
2024-10-26 12:59:40.244 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-26 12:59:40.255 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 2310.7643ms
2024-10-26 12:59:40.257 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:40.259 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Register - 200 null application/json; charset=utf-8 2331.4603ms
2024-10-26 12:59:42.277 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-10-26 12:59:42.284 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:59:42.287 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:59:42.288 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:42.290 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:59:42.292 +02:00 [INF] Executing ViewResult, running view Login.
2024-10-26 12:59:42.297 +02:00 [INF] Executed ViewResult - view Login executed in 4.6125ms.
2024-10-26 12:59:42.298 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 6.4379ms
2024-10-26 12:59:42.299 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:42.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 22.6444ms
2024-10-26 12:59:42.342 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:59:42.342 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:59:42.345 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1745ms
2024-10-26 12:59:42.362 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.9752ms
2024-10-26 12:59:48.889 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 232
2024-10-26 12:59:48.895 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:59:48.896 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-10-26 12:59:48.898 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:48.914 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-10-26 12:59:48.919 +02:00 [INF] Attempting to log in user with email: mcebomthembu9@gmail.com
2024-10-26 12:59:48.921 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 12:59:48.923 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-10-26 12:59:49.424 +02:00 [INF] Received HTTP response headers after 499.8767ms - 200
2024-10-26 12:59:49.426 +02:00 [INF] End processing HTTP request after 504.3128ms - 200
2024-10-26 12:59:49.428 +02:00 [INF] User logged in successfully.
2024-10-26 12:59:49.740 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUser_Uid_0='aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-10-26 12:59:49.750 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='40', @p0='2024-10-26T10:59:49.7438155Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-10-26 12:59:49.753 +02:00 [INF] User mcebomthembu9@gmail.com logged in successfully.
2024-10-26 12:59:49.754 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-10-26 12:59:49.755 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 838.1976ms
2024-10-26 12:59:49.756 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:49.758 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 868.6278ms
2024-10-26 12:59:49.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-10-26 12:59:49.777 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:49.780 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-10-26 12:59:49.789 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:59:49.797 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__student_StudentID_0='26'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-10-26 12:59:49.809 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__student_StudentID_0='26'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-10-26 12:59:49.817 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:59:49.823 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='40'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:59:49.842 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_UserID_0='40'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:59:49.847 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-10-26 12:59:49.854 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 9.3692ms.
2024-10-26 12:59:49.858 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 77.5071ms
2024-10-26 12:59:49.860 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:49.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 98.2293ms
2024-10-26 12:59:49.910 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:59:49.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:59:49.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.8742ms
2024-10-26 12:59:49.933 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3533ms
2024-10-26 12:59:54.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-10-26 12:59:54.471 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:54.472 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:59:54.481 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:59:54.482 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-10-26 12:59:54.485 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 3.1187ms.
2024-10-26 12:59:54.486 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 11.5636ms
2024-10-26 12:59:54.486 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:54.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 23.5741ms
2024-10-26 12:59:54.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:59:54.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:59:54.507 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3043ms
2024-10-26 12:59:54.513 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.7256ms
2024-10-26 12:59:55.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 12:59:55.640 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:55.641 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:59:55.648 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:59:55.649 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 12:59:55.654 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 4.6301ms.
2024-10-26 12:59:55.655 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 11.8112ms
2024-10-26 12:59:55.656 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:55.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 24.139ms
2024-10-26 12:59:55.696 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:59:55.700 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:59:55.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1804ms
2024-10-26 12:59:55.713 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.2863ms
2024-10-26 12:59:56.654 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-10-26 12:59:56.659 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:56.660 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 12:59:56.665 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 12:59:56.667 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-10-26 12:59:56.669 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 12:59:56.677 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 12:59:56.875 +02:00 [INF] Executed DbCommand (191ms) [Parameters=[@__user_UserID_0='40'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 12:59:56.893 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 12:59:56.900 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-10-26 12:59:56.907 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 7.7706ms.
2024-10-26 12:59:56.922 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 260.7191ms
2024-10-26 12:59:56.923 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 12:59:56.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 270.1333ms
2024-10-26 12:59:56.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 12:59:56.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 12:59:56.943 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.8693ms
2024-10-26 12:59:56.953 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.44ms
2024-10-26 13:00:30.234 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryJpUb9KriNSEGjpoA 75037
2024-10-26 13:00:30.239 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 13:00:30.240 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 13:00:30.245 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 13:00:30.251 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2
2024-10-26 13:00:30.259 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 13:00:30.262 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 13:00:30.263 +02:00 [INF] tyring for email mcebomthembu9@gmail.com
2024-10-26 13:00:30.264 +02:00 [INF] Query submission process started for FirebaseUID: aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2
2024-10-26 13:00:30.264 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-10-26 13:00:30.265 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUid_0='aEzAJ4gAzUTlTdlLs0Z2PRz4WtO2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[FirebaseUID], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-10-26 13:00:30.272 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='40'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-10-26 13:00:30.277 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-10-26 13:00:30.278 +02:00 [WRN] Received QueryTypeID: 1, CategoryID: 1
2024-10-26 13:00:30.279 +02:00 [WRN] Student details:0
2024-10-26 13:00:30.279 +02:00 [INF] received email mcebomthembu9@gmail.com
2024-10-26 13:00:30.288 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='1' (Nullable = true), @p1='2' (Nullable = true), @p2='4' (Nullable = true), @p3='Sup dude the email feature works!!' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='26', @p9='2024-10-26T13:00:30.2805533+02:00' (Nullable = true), @p10='20241026-26183' (Nullable = false) (Size = 20), @p11='3' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-10-26 13:00:30.290 +02:00 [INF] Query with ID 93 successfully created.
2024-10-26 13:00:30.291 +02:00 [INF] Uploading file: b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf as 36f26fa2-91b9-4415-9483-a9b6e825168d_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-10-26 13:00:32.384 +02:00 [INF] File uploaded successfully: 36f26fa2-91b9-4415-9483-a9b6e825168d_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-10-26 13:00:32.391 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf' (Nullable = false) (Size = 4000), @p1='36f26fa2-91b9-4415-9483-a9b6e825168d_b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf' (Nullable = false) (Size = 4000), @p2='93', @p3='2024-10-26T13:00:32.3864338+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-10-26 13:00:32.393 +02:00 [INF] Document associated with QueryID 93.
2024-10-26 13:00:32.397 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__query_DepartmentID_0='4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-10-26 13:00:32.405 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__departmentName_0='School of Information Technology' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-10-26 13:00:32.412 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__s_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 13:00:32.416 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__s_StaffID_0='2' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-10-26 13:00:32.427 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='93', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-10-26T13:00:32.4189034+02:00' (Nullable = true), @p3='20241026-65108' (Nullable = false) (Size = 4000), @p4='93' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-10-26 13:00:32.431 +02:00 [INF] Query assigned to Lecturer with StaffID 1.
2024-10-26 13:00:32.432 +02:00 [INF] Query submission process completed successfully for QueryID 93.
2024-10-26 13:00:32.433 +02:00 [INF] tyring for emial mcebomthembu9@gmail.com
2024-10-26 13:00:32.434 +02:00 [INF] Attempting to send template email to mcebomthembu9@gmail.com with template ID 1
2024-10-26 13:00:33.148 +02:00 [INF] Template email sent successfully to mcebomthembu9@gmail.com with template ID 1
2024-10-26 13:00:33.152 +02:00 [INF] Notification email sent to user mcebomthembu9@gmail.com
2024-10-26 13:00:33.153 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-10-26 13:00:33.154 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 2912.3223ms
2024-10-26 13:00:33.154 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-10-26 13:00:33.156 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 2922.1301ms
2024-10-26 13:00:33.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-10-26 13:00:33.164 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 13:00:33.165 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-10-26 13:00:33.168 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-10-26 13:00:33.168 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-10-26 13:00:33.169 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.2748ms.
2024-10-26 13:00:33.170 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 4.4099ms
2024-10-26 13:00:33.171 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-10-26 13:00:33.171 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 10.1721ms
2024-10-26 13:00:33.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-10-26 13:00:33.194 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-10-26 13:00:33.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.7751ms
2024-10-26 13:00:33.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.5177ms
