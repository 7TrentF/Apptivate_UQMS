2024-11-11 09:50:30.805 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 09:50:31.517 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 09:50:31.652 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 09:50:31.687 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 09:50:31.703 +02:00 [INF] Hosting environment: Development
2024-11-11 09:50:31.720 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 09:50:33.471 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 09:50:38.536 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311438.
2024-11-11 09:50:38.544 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311438.
2024-11-11 09:50:38.548 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:50:38.573 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 09:50:39.098 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.120 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 09:50:39.621 +02:00 [INF] Executed ViewResult - view Login executed in 513.8341ms.
2024-11-11 09:50:39.661 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1084.6415ms
2024-11-11 09:50:39.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 09:50:39.702 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:50:39.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 09:50:39.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 09:50:39.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-11 09:50:39.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-11 09:50:39.719 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 19.0649ms
2024-11-11 09:50:39.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 09:50:39.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 6266.3204ms
2024-11-11 09:50:39.744 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.744 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.746 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.753 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.781 +02:00 [INF] The file /css/site.css was not modified
2024-11-11 09:50:39.781 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-11 09:50:39.783 +02:00 [INF] The file /css/Login.css was not modified
2024-11-11 09:50:39.784 +02:00 [INF] The file /js/login.js was not modified
2024-11-11 09:50:39.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 97.6956ms
2024-11-11 09:50:39.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 304 null text/css 83.3094ms
2024-11-11 09:50:39.788 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 84.864ms
2024-11-11 09:50:39.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 304 null text/css 82.4205ms
2024-11-11 09:50:39.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 164.1788ms
2024-11-11 09:54:32.339 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 09:54:32.806 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 09:54:32.828 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 09:54:32.835 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 09:54:32.839 +02:00 [INF] Hosting environment: Development
2024-11-11 09:54:32.840 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 09:54:34.950 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 09:54:35.510 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311675.
2024-11-11 09:54:35.519 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311675.
2024-11-11 09:54:35.523 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:54:35.559 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 09:54:35.861 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731065791. Expected to be greater than 1731311675.
2024-11-11 09:54:35.881 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 09:54:36.118 +02:00 [INF] Executed ViewResult - view Login executed in 245.9ms.
2024-11-11 09:54:36.130 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 565.3503ms
2024-11-11 09:54:36.133 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:54:36.150 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1204.3482ms
2024-11-11 09:54:36.151 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-11 09:54:36.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 09:54:36.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-11 09:54:36.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-11 09:54:36.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 09:54:36.167 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 09:54:36.187 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-11 09:54:36.214 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-11 09:54:36.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-11 09:54:36.219 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.228 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.231 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 09:54:36.237 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.248 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.251 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.298 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-11 09:54:36.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 98.6057ms
2024-11-11 09:54:36.268 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-11 09:54:36.261 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-11 09:54:36.361 +02:00 [INF] Sending file. Request path: '/js/login.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\login.js'
2024-11-11 09:54:36.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 200 5413 text/javascript 202.063ms
2024-11-11 09:54:36.363 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 200 10213 text/css 196.1329ms
2024-11-11 09:54:36.364 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-11 09:54:36.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 225.1736ms
2024-11-11 09:54:36.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 142.3133ms
2024-11-11 09:54:36.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 201.243ms
2024-11-11 09:54:36.378 +02:00 [INF] Sending file. Request path: '/css/Login.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Login.css'
2024-11-11 09:54:36.410 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-11 09:54:36.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-11 09:54:36.563 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 325.9509ms
2024-11-11 09:54:36.564 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-11 09:54:36.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 381.577ms
2024-11-11 09:54:36.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 200 7241 text/css 431.266ms
2024-11-11 09:54:36.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 401.4592ms
2024-11-11 09:54:36.603 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.647 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-11 09:54:36.649 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 230.1603ms
2024-11-11 09:54:36.692 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Aptivate_background.png - null null
2024-11-11 09:54:36.701 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.926 +02:00 [INF] Sending file. Request path: '/Images/Aptivate_background.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Aptivate_background.png'
2024-11-11 09:54:37.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Aptivate_background.png - 200 77509 image/png 337.7243ms
2024-11-11 09:55:42.788 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-11 09:55:42.799 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311742.
2024-11-11 09:55:42.802 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311742.
2024-11-11 09:55:42.804 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:42.831 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 09:55:42.875 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-11 09:55:42.895 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-11 09:55:42.899 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-11 09:55:43.615 +02:00 [INF] Received HTTP response headers after 711.4389ms - 200
2024-11-11 09:55:43.618 +02:00 [INF] End processing HTTP request after 723.651ms - 200
2024-11-11 09:55:43.621 +02:00 [INF] User logged in successfully.
2024-11-11 09:55:45.591 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 09:55:46.548 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 09:55:46.800 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p1='5', @p0='2024-11-11T07:55:46.6932145Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-11 09:55:46.821 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 09:55:46.822 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-11 09:55:46.826 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 09:55:46.828 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3994.2194ms
2024-11-11 09:55:46.829 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:46.831 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a519b21f-1860-0a7d-3876-7cf439422d6e
2024-11-11 09:55:46.840 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 09:55:46.840 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 4052.3579ms
2024-11-11 09:55:47.202 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:47.210 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 09:55:47.332 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 09:55:47.364 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 09:55:47.382 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 09:55:47.417 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 09:55:47.455 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 09:55:47.482 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 09:55:47.496 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 09:55:47.513 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 09:55:47.525 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 09:55:47.535 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 09:55:47.604 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 09:55:47.644 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:47.652 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:47.665 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:47.722 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 09:55:47.776 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__startDate_0='2024-10-12T07:55:47.7390536Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:47.798 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 09:55:47.921 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 123.7996ms.
2024-11-11 09:55:47.922 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 709.1523ms
2024-11-11 09:55:47.923 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:47.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1083.9039ms
2024-11-11 09:55:47.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-11 09:55:47.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-11 09:55:47.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-11 09:55:47.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-11 09:55:47.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-11 09:55:47.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-11 09:55:47.980 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 09:55:47.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Users.png - null null
2024-11-11 09:55:47.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - null null
2024-11-11 09:55:47.986 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - null null
2024-11-11 09:55:47.986 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 09:55:47.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/notification.js - null null
2024-11-11 09:55:47.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/toast.js - null null
2024-11-11 09:55:47.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 09:55:47.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-11 09:55:48.079 +02:00 [INF] Sending file. Request path: '/js/resolutionRateChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\resolutionRateChart.js'
2024-11-11 09:55:47.991 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/log.png - null null
2024-11-11 09:55:47.991 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - null null
2024-11-11 09:55:47.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-11 09:55:47.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-11 09:55:47.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 09:55:47.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 09:55:47.993 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-11 09:55:47.995 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-11 09:55:47.997 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-11 09:55:48.013 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-11 09:55:48.021 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-11 09:55:48.022 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-11 09:55:48.030 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-11 09:55:48.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 200 1605 text/css 140.2569ms
2024-11-11 09:55:48.049 +02:00 [INF] Sending file. Request path: '/Images/Users.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Users.png'
2024-11-11 09:55:48.073 +02:00 [INF] Sending file. Request path: '/js/responseTimeChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\responseTimeChart.js'
2024-11-11 09:55:48.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 90.5902ms
2024-11-11 09:55:47.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pie-chart.png - null null
2024-11-11 09:55:48.081 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-11 09:55:48.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - 200 5754 text/javascript 96.9108ms
2024-11-11 09:55:48.089 +02:00 [INF] Sending file. Request path: '/js/notification.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\notification.js'
2024-11-11 09:55:48.140 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/notification.js - 200 2580 text/javascript 152.8363ms
2024-11-11 09:55:48.111 +02:00 [INF] Sending file. Request path: '/svgs/table-alt.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\table-alt.svg'
2024-11-11 09:55:48.111 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-11 09:55:48.111 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-11 09:55:48.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 120.8082ms
2024-11-11 09:55:48.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 156.9147ms
2024-11-11 09:55:48.115 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 151.3268ms
2024-11-11 09:55:48.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 137.8742ms
2024-11-11 09:55:48.116 +02:00 [INF] Sending file. Request path: '/js/toast.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\toast.js'
2024-11-11 09:55:48.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 139.3571ms
2024-11-11 09:55:48.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 139.5755ms
2024-11-11 09:55:48.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 140.6091ms
2024-11-11 09:55:48.040 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 53.9576ms
2024-11-11 09:55:48.124 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Users.png - 200 874 image/png 139.0789ms
2024-11-11 09:55:48.128 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - 200 3518 text/javascript 144.0353ms
2024-11-11 09:55:48.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 138.4304ms
2024-11-11 09:55:48.133 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 144.6984ms
2024-11-11 09:55:48.104 +02:00 [INF] Sending file. Request path: '/Images/log.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\log.png'
2024-11-11 09:55:48.143 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - 200 827 image/svg+xml 152.0113ms
2024-11-11 09:55:48.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 152.539ms
2024-11-11 09:55:48.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 153.5369ms
2024-11-11 09:55:48.148 +02:00 [INF] Sending file. Request path: '/Images/pie-chart.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pie-chart.png'
2024-11-11 09:55:48.151 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 09:55:48.159 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/toast.js - 200 2875 text/javascript 171.626ms
2024-11-11 09:55:48.167 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 09:55:48.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/log.png - 200 424 image/png 188.1499ms
2024-11-11 09:55:48.188 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pie-chart.png - 200 898 image/png 197.352ms
2024-11-11 09:55:48.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-11 09:55:48.228 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-11 09:55:48.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 6.5853ms
2024-11-11 09:55:48.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 09:55:48.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 09:55:48.383 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:48.383 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:48.394 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 09:55:48.397 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 09:55:48.467 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T07:55:48.4031697Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:48.472 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 09:55:48.484 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T07:55:48.4072489Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 09:55:48.495 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 09:55:48.495 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 100.0581ms
2024-11-11 09:55:48.497 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:48.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 121.179ms
2024-11-11 09:55:48.500 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 100.6319ms
2024-11-11 09:55:48.502 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:48.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 126.5411ms
2024-11-11 10:06:18.955 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:06:19.400 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:06:19.401 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:06:19.405 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:06:19.406 +02:00 [INF] Hosting environment: Development
2024-11-11 10:06:19.407 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:06:19.644 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:06:20.277 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:20.294 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:20.471 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:06:20.473 +02:00 [ERR] User not logged in.
2024-11-11 10:06:20.496 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:06:20.504 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 200.875ms
2024-11-11 10:06:20.512 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:20.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 878.1093ms
2024-11-11 10:06:20.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:06:20.546 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:20.553 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:22.646 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:06:24.100 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:06:24.363 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:06:24.369 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:06:24.380 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:06:24.386 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3830.9466ms
2024-11-11 10:06:24.390 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:24.404 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:009a15e8-573d-f81b-c7c7-f648417de7e2
2024-11-11 10:06:24.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3885.5429ms
2024-11-11 10:06:24.423 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:06:24.446 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:24.451 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:24.466 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:06:24.468 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 12.7829ms
2024-11-11 10:06:24.470 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:24.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 49.9878ms
2024-11-11 10:06:24.480 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:06:24.489 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:24.491 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:25.910 +02:00 [INF] Executed DbCommand (1,168ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:06:26.070 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:06:26.376 +02:00 [INF] Executed DbCommand (283ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:06:26.918 +02:00 [INF] Executed DbCommand (495ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:06:26.998 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:06:27.034 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:06:27.050 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:06:27.081 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:06:27.100 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:06:27.118 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:06:27.316 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:06:27.387 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:27.630 +02:00 [INF] Executed DbCommand (229ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:28.720 +02:00 [INF] Executed DbCommand (1,074ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:28.920 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:06:29.914 +02:00 [INF] Executed DbCommand (926ms) [Parameters=[@__startDate_0='2024-10-12T08:06:28.9536989Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:29.955 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:06:30.424 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 479.5524ms.
2024-11-11 10:06:30.434 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 5938.581ms
2024-11-11 10:06:30.435 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:30.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 5958.8208ms
2024-11-11 10:06:30.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:06:30.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:06:30.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:06:30.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:06:30.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 39.3205ms
2024-11-11 10:06:30.568 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 46.1482ms
2024-11-11 10:06:30.577 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 41.6859ms
2024-11-11 10:06:30.580 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:06:30.584 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:06:30.631 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.7496ms
2024-11-11 10:06:30.742 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:06:30.742 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:06:30.749 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:30.751 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:30.766 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:30.766 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:30.972 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__startDate_0='2024-10-12T08:06:30.7912613Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:30.980 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T08:06:30.7968768Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:06:30.981 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:06:30.991 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:06:31.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 240.0857ms
2024-11-11 10:06:31.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 238.8632ms
2024-11-11 10:06:31.011 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:31.013 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:31.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-11 10:06:31.014 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 271.9117ms
2024-11-11 10:06:31.015 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 272.9362ms
2024-11-11 10:06:31.055 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-11 10:06:31.058 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 45ms
2024-11-11 10:07:46.450 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:07:46.615 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:07:46.617 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:07:46.621 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:07:46.623 +02:00 [INF] Hosting environment: Development
2024-11-11 10:07:46.625 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:07:47.095 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:07:47.647 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:47.672 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:47.862 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:07:47.866 +02:00 [ERR] User not logged in.
2024-11-11 10:07:47.890 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:07:47.902 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 220.7453ms
2024-11-11 10:07:47.913 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:47.928 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 833.7641ms
2024-11-11 10:07:47.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:07:47.952 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:47.963 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:50.287 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:07:51.441 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:07:51.654 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:07:51.657 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:07:51.663 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:07:51.667 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3696.8596ms
2024-11-11 10:07:51.670 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:51.681 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a8872688-a092-0a42-7f22-985666e166f3
2024-11-11 10:07:51.695 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:07:51.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3757.6804ms
2024-11-11 10:07:51.709 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:51.712 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:51.716 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:07:51.717 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.7323ms
2024-11-11 10:07:51.719 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:51.720 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 25.6649ms
2024-11-11 10:07:51.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:07:51.732 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:51.733 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:51.906 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:07:51.946 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:07:51.972 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:07:52.000 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:07:52.075 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:07:52.110 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:07:52.130 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:07:52.155 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:07:52.168 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:07:52.181 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:07:52.276 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:07:52.330 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.352 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.382 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.465 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:07:52.506 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [d].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
    WHERE [q0].[DepartmentID] IS NOT NULL AND [q].[DepartmentID] = [q0].[DepartmentID]) AS [DepartmentName], COUNT(*) AS [QueryCount]
FROM [Queries] AS [q]
WHERE [q].[DepartmentID] IS NOT NULL
GROUP BY [q].[DepartmentID]
2024-11-11 10:07:52.541 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2024-10-12T08:07:52.5175712Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.565 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:07:52.757 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 196.6672ms.
2024-11-11 10:07:52.763 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 1027.6161ms
2024-11-11 10:07:52.769 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:52.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1048.6252ms
2024-11-11 10:07:52.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:07:52.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:07:52.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:07:52.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:07:52.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.783ms
2024-11-11 10:07:52.817 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 22.8349ms
2024-11-11 10:07:52.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 20.7153ms
2024-11-11 10:07:52.828 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:07:52.830 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:07:52.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:07:52.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:07:52.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.3834ms
2024-11-11 10:07:52.869 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:52.870 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:52.886 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:52.886 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:52.974 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T08:07:52.9014637Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.979 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:07:52.987 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-12T08:07:52.9031831Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:07:52.994 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 102.1632ms
2024-11-11 10:07:52.995 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:52.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 135.7126ms
2024-11-11 10:07:52.996 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:07:53.002 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 111.8801ms
2024-11-11 10:07:53.003 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:53.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 143.8021ms
2024-11-11 10:17:17.589 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:17:17.882 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:17:17.883 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:17:17.886 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:17:17.887 +02:00 [INF] Hosting environment: Development
2024-11-11 10:17:17.887 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:17:18.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:17:18.873 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:18.891 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:19.089 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:17:19.092 +02:00 [ERR] User not logged in.
2024-11-11 10:17:19.121 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:17:19.131 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 231.3616ms
2024-11-11 10:17:19.140 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:19.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 853.514ms
2024-11-11 10:17:19.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:17:19.177 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:19.186 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:21.400 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:17:22.831 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:17:22.945 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:17:22.948 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:17:22.953 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:17:22.956 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3766.0278ms
2024-11-11 10:17:22.958 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:22.966 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:1a63043f-4ae4-d366-1485-5bac5599f0f7
2024-11-11 10:17:22.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3814.1364ms
2024-11-11 10:17:22.977 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:17:22.993 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:22.997 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:23.007 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:17:23.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 7.7353ms
2024-11-11 10:17:23.011 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:23.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 35.6398ms
2024-11-11 10:17:23.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:17:23.026 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:23.028 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:23.170 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:17:23.226 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:17:23.254 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:17:23.296 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:17:23.357 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:17:23.388 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:17:23.401 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:17:23.433 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:17:23.449 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:17:23.465 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:17:23.520 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:17:23.558 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:23.573 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:23.588 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:23.652 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:17:23.747 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-12T08:17:23.6951755Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:23.777 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:17:23.975 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 206.1726ms.
2024-11-11 10:17:23.983 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 951.6939ms
2024-11-11 10:17:23.985 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:23.992 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 971.8286ms
2024-11-11 10:17:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:17:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:17:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:17:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:17:24.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 22.2998ms
2024-11-11 10:17:24.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 22.9375ms
2024-11-11 10:17:24.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 23.12ms
2024-11-11 10:17:24.104 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:17:24.106 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:17:24.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.6263ms
2024-11-11 10:17:24.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/AdminDashboard/GetDepartmentQueryData - null null
2024-11-11 10:17:24.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:17:24.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:17:24.294 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:24.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/AdminDashboard/GetDepartmentQueryData - 404 0 null 6.918ms
2024-11-11 10:17:24.295 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:24.300 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/AdminDashboard/GetDepartmentQueryData, Response status code: 404
2024-11-11 10:17:24.307 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:24.307 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:24.397 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:17:24.3246490Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:24.406 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:17:24.3262754Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:17:24.406 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:17:24.419 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:17:24.445 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 135.5886ms
2024-11-11 10:17:24.445 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 133.9514ms
2024-11-11 10:17:24.448 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:24.449 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:24.450 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 162.7012ms
2024-11-11 10:17:24.451 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 163.3286ms
2024-11-11 10:18:35.402 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:18:35.649 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:18:35.650 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:18:35.653 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:18:35.655 +02:00 [INF] Hosting environment: Development
2024-11-11 10:18:35.656 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:18:36.056 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:18:36.744 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:36.770 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:36.982 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:18:36.985 +02:00 [ERR] User not logged in.
2024-11-11 10:18:37.002 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:18:37.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 231.782ms
2024-11-11 10:18:37.017 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:37.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 974.1317ms
2024-11-11 10:18:37.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:18:37.058 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:37.072 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:39.262 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:18:40.271 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:18:40.353 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:18:40.355 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:18:40.359 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:18:40.362 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3285.2417ms
2024-11-11 10:18:40.365 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:40.370 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:fff55881-e762-bdaf-31cf-0d5f96b2f2bc
2024-11-11 10:18:40.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3333.3655ms
2024-11-11 10:18:40.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:18:40.389 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:40.393 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:40.399 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:18:40.404 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 7.6628ms
2024-11-11 10:18:40.407 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:40.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 29.2397ms
2024-11-11 10:18:40.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:18:40.424 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:40.426 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:40.567 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:18:40.628 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:18:40.652 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:18:40.698 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:18:40.773 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:18:40.801 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:18:40.816 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:18:40.836 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:18:40.851 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:18:40.868 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:18:40.953 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:18:41.012 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:41.034 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:41.059 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:41.137 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:18:41.197 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2024-10-12T08:18:41.1586479Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:41.229 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:18:41.445 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 223.557ms.
2024-11-11 10:18:41.452 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 1020.4315ms
2024-11-11 10:18:41.455 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:41.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1044.5378ms
2024-11-11 10:18:41.546 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:18:41.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:18:41.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:18:41.560 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:18:41.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 25.8424ms
2024-11-11 10:18:41.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 25.928ms
2024-11-11 10:18:41.584 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:18:41.584 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 38.0193ms
2024-11-11 10:18:41.587 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:18:41.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1567ms
2024-11-11 10:18:41.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:18:41.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:18:41.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:18:41.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:41.960 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:41.964 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:41.969 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:41.972 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:41.972 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:42.072 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:18:41.9851689Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:42.078 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:18:42.092 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:18:41.9874606Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:18:42.102 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount]
FROM [Queries] AS [q]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
GROUP BY [d].[DepartmentName]
ORDER BY COUNT(*) DESC
2024-11-11 10:18:42.105 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:18:42.108 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType9`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:18:42.110 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 136.7912ms
2024-11-11 10:18:42.114 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 139.8242ms
2024-11-11 10:18:42.116 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:42.118 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:42.119 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 165.8961ms
2024-11-11 10:18:42.120 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 148.8349ms
2024-11-11 10:18:42.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 168.07ms
2024-11-11 10:18:42.126 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:42.132 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 178.5891ms
2024-11-11 10:22:45.025 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:22:45.306 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:22:45.309 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:22:45.316 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:22:45.318 +02:00 [INF] Hosting environment: Development
2024-11-11 10:22:45.320 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:22:45.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:22:46.421 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:46.452 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:46.681 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:22:46.684 +02:00 [ERR] User not logged in.
2024-11-11 10:22:46.710 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:22:46.720 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 259.2085ms
2024-11-11 10:22:46.732 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:46.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 957.3444ms
2024-11-11 10:22:46.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:22:46.783 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:46.792 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:48.623 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:22:49.580 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:22:49.740 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:22:49.745 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:22:49.756 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:22:49.761 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2962.6215ms
2024-11-11 10:22:49.764 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:49.773 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:196f749b-39b5-4f00-c849-b7c8d3a7590f
2024-11-11 10:22:49.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3030.0483ms
2024-11-11 10:22:49.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:22:49.806 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:49.810 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:49.816 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:22:49.817 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 5.0804ms
2024-11-11 10:22:49.819 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:49.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 27.8816ms
2024-11-11 10:22:49.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:22:49.838 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:49.840 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:50.024 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:22:50.061 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:22:50.075 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:22:50.112 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:22:50.155 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:22:50.174 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:22:50.184 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:22:50.199 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:22:50.210 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:22:50.221 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:22:50.270 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:22:50.306 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:50.314 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:50.326 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:50.405 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:22:50.480 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-12T08:22:50.4317922Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:50.516 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:22:50.745 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 238.5143ms.
2024-11-11 10:22:50.751 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 908.6996ms
2024-11-11 10:22:50.754 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:50.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 932.6125ms
2024-11-11 10:22:50.834 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:22:50.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:22:50.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:22:50.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:22:50.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.0402ms
2024-11-11 10:22:50.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 14.3196ms
2024-11-11 10:22:50.864 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 15.1729ms
2024-11-11 10:22:50.869 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:22:50.871 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:22:50.900 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.258ms
2024-11-11 10:22:51.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:22:51.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:22:51.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:22:51.293 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.296 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.299 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.308 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:51.316 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:51.316 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:51.396 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2024-10-12T08:22:51.3343473Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:51.400 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:22:51.404 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:22:51.3360634Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:22:51.414 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:22:51.418 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount]
FROM [Queries] AS [q]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
GROUP BY [d].[DepartmentName]
ORDER BY COUNT(*) DESC
2024-11-11 10:22:51.420 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 99.3185ms
2024-11-11 10:22:51.422 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.424 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType9`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:22:51.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 136.7611ms
2024-11-11 10:22:51.424 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 105.3202ms
2024-11-11 10:22:51.432 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.433 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 121.5492ms
2024-11-11 10:22:51.434 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 146.3618ms
2024-11-11 10:22:51.435 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.440 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 152.7356ms
2024-11-11 10:23:16.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Analytics/AnalyticsReporting - null null
2024-11-11 10:23:16.784 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AnalyticsController.AnalyticsReporting (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:16.790 +02:00 [INF] Route matched with {action = "AnalyticsReporting", controller = "Analytics"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult AnalyticsReporting() on controller Apptivate_UQMS_WebApp.Controllers.AnalyticsController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:16.800 +02:00 [INF] Executing ViewResult, running view AnalyticsReporting.
2024-11-11 10:23:16.822 +02:00 [INF] Executed ViewResult - view AnalyticsReporting executed in 25.445ms.
2024-11-11 10:23:16.826 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AnalyticsController.AnalyticsReporting (Apptivate_UQMS_WebApp) in 30.9772ms
2024-11-11 10:23:16.829 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AnalyticsController.AnalyticsReporting (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:16.832 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Analytics/AnalyticsReporting - 200 null text/html; charset=utf-8 65.0552ms
2024-11-11 10:23:16.866 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:23:16.868 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:23:16.871 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.4532ms
2024-11-11 10:23:16.898 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.2855ms
2024-11-11 10:23:19.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:23:19.967 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:19.969 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:19.987 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:23:19.998 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:23:20.015 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:23:20.027 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:23:20.034 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:23:20.044 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:23:20.056 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:23:20.067 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:23:20.080 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:23:20.094 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:23:20.108 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:23:20.121 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:20.130 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:20.142 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:20.168 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:23:20.188 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:23:20.1750652Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:20.194 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:23:20.203 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 9.2504ms.
2024-11-11 10:23:20.207 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 234.2394ms
2024-11-11 10:23:20.211 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:20.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 254.4538ms
2024-11-11 10:23:20.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:23:20.263 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.9702ms
2024-11-11 10:23:52.662 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:23:52.810 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:23:52.811 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:23:52.815 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:23:52.816 +02:00 [INF] Hosting environment: Development
2024-11-11 10:23:52.817 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:23:53.429 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:23:54.112 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:54.138 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:54.274 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:23:54.278 +02:00 [ERR] User not logged in.
2024-11-11 10:23:54.309 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:23:54.319 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 171.1727ms
2024-11-11 10:23:54.331 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:54.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 919.9891ms
2024-11-11 10:23:54.360 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:23:54.383 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:54.397 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:56.602 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:23:57.612 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:23:57.728 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:23:57.731 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:23:57.735 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:23:57.738 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3335.7488ms
2024-11-11 10:23:57.739 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:57.745 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:044c4896-b6a1-d424-6064-494fb57e3d9d
2024-11-11 10:23:57.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3392.7304ms
2024-11-11 10:23:57.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:23:57.771 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:57.774 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:57.781 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:23:57.783 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 6.2936ms
2024-11-11 10:23:57.785 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:57.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 31.5609ms
2024-11-11 10:23:57.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:23:57.799 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:57.800 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:57.909 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:23:57.944 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:23:57.956 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:23:57.986 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:23:58.038 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:23:58.066 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:23:58.079 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:23:58.096 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:23:58.105 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:23:58.117 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:23:58.209 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:23:58.271 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.288 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.304 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.372 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:23:58.447 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='2024-10-12T08:23:58.4043807Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.485 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:23:58.619 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 141.3345ms.
2024-11-11 10:23:58.622 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 820.1053ms
2024-11-11 10:23:58.625 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 834.7513ms
2024-11-11 10:23:58.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:23:58.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:23:58.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:23:58.654 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.2496ms
2024-11-11 10:23:58.662 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 15.4538ms
2024-11-11 10:23:58.662 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 15.3178ms
2024-11-11 10:23:58.666 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:23:58.669 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:23:58.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:23:58.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.2654ms
2024-11-11 10:23:58.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:23:58.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:23:58.771 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:23:58.776 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.777 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.779 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.784 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:58.790 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:58.791 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:58.908 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__startDate_0='2024-10-12T08:23:58.8044580Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.943 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:23:58.946 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount]
FROM [Queries] AS [q]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
GROUP BY [d].[DepartmentName]
ORDER BY COUNT(*) DESC
2024-11-11 10:23:58.946 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:23:58.8073024Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:23:58.950 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType9`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:23:58.964 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:23:58.966 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 169.0234ms
2024-11-11 10:23:58.978 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 192.7665ms
2024-11-11 10:23:58.981 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.982 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 213.372ms
2024-11-11 10:23:58.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 213.3353ms
2024-11-11 10:23:58.985 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 193.226ms
2024-11-11 10:23:58.991 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.993 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 222.7023ms
2024-11-11 10:24:10.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-11 10:24:10.681 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:10.687 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:10.697 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 10:24:10.727 +02:00 [INF] Executed ViewResult - view Index executed in 34.2322ms.
2024-11-11 10:24:10.732 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 41.6812ms
2024-11-11 10:24:10.737 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:10.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 73.1077ms
2024-11-11 10:24:10.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/reports.js - null null
2024-11-11 10:24:10.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:24:10.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:24:10.780 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.336ms
2024-11-11 10:24:10.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.7085ms
2024-11-11 10:24:10.914 +02:00 [INF] Sending file. Request path: '/js/reports.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\reports.js'
2024-11-11 10:24:10.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/reports.js - 200 7849 text/javascript 147.7818ms
2024-11-11 10:24:11.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:11.232 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:11.248 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:11.352 +02:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-11 10:24:11.432 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:11.448 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 193.1127ms
2024-11-11 10:24:11.451 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:11.457 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:11.539 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 320.4567ms
2024-11-11 10:24:12.910 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:12.916 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:12.928 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:12.963 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-11 10:24:13.018 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 87.0804ms
2024-11-11 10:24:13.021 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:13.024 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-11 10:24:13.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 169.5901ms
2024-11-11 10:24:13.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-11 10:24:13.601 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:13.611 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:13.790 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__overdueDate_0='2024-11-10T08:24:13.6512345Z' (Nullable = true), @__currentDate_2='2024-11-11T08:24:13.6512345Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-11 10:24:13.820 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-11 10:24:13.840 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 225.6244ms
2024-11-11 10:24:13.844 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:13.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 252.3713ms
2024-11-11 10:24:15.439 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:15.446 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:15.457 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:15.614 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-11 10:24:15.623 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:24:15.632 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 171.7836ms
2024-11-11 10:24:15.635 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:15.637 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-12&endDate=2024-11-11 - 200 null application/json; charset=utf-8 197.6512ms
2024-11-11 10:24:22.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-11 10:24:22.449 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:22.451 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:22.517 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__overdueDate_0='2024-11-10T08:24:22.4546597Z' (Nullable = true), @__currentDate_2='2024-11-11T08:24:22.4546597Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-11 10:24:22.529 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-11 10:24:22.532 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 78.4231ms
2024-11-11 10:24:22.534 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:22.536 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 91.027ms
2024-11-11 10:24:26.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:26.752 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:26.755 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:26.765 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-11 10:24:26.778 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 20.1924ms
2024-11-11 10:24:26.781 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:26.784 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-11 10:24:26.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 83.0946ms
2024-11-11 10:24:27.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:27.312 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:27.314 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:27.327 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-11 10:24:27.333 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:27.343 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 26.3559ms
2024-11-11 10:24:27.346 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:27.348 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:27.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 63.5612ms
2024-11-11 10:24:27.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:27.972 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:27.974 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:27.986 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-11 10:24:27.999 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 22.0899ms
2024-11-11 10:24:28.003 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:28.006 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-11 10:24:28.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 99.5862ms
2024-11-11 10:24:28.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:28.491 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:28.493 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:28.507 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-11 10:24:28.514 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:28.531 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 34.539ms
2024-11-11 10:24:28.534 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:28.537 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:28.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 91.8799ms
2024-11-11 10:24:29.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:29.407 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:29.409 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:29.420 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-11 10:24:29.431 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 20.2588ms
2024-11-11 10:24:29.434 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:29.439 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-11 10:24:29.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 80.3299ms
2024-11-11 10:28:47.880 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:28:48.043 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:28:48.044 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:28:48.048 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:28:48.050 +02:00 [INF] Hosting environment: Development
2024-11-11 10:28:48.051 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:28:48.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-11 10:28:48.849 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:48.858 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:48.992 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 10:28:49.090 +02:00 [INF] Executed ViewResult - view Index executed in 98.5944ms.
2024-11-11 10:28:49.098 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 238.119ms
2024-11-11 10:28:49.101 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:49.108 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 743.4937ms
2024-11-11 10:28:49.190 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:28:49.198 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.198ms
2024-11-11 10:28:49.210 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:28:49.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:28:49.228 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:49.243 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:49.246 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.538ms
2024-11-11 10:28:50.119 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:28:51.144 +02:00 [ERR] Failed executing DbCommand (48ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-11 10:28:51.179 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2044e1fd-887b-432d-94bf-8b654f745e84
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2044e1fd-887b-432d-94bf-8b654f745e84
Error Number:162,State:1,Class:15
2024-11-11 10:28:51.189 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 1943.9479ms
2024-11-11 10:28:51.190 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:51.193 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:2044e1fd-887b-432d-94bf-8b654f745e84
Error Number:162,State:1,Class:15
2024-11-11 10:28:51.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 2082.8316ms
2024-11-11 10:28:52.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:28:52.387 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:52.389 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:52.391 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:28:52.392 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.0995ms
2024-11-11 10:28:52.393 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:52.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 16.4602ms
2024-11-11 10:28:52.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:28:52.404 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:52.409 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:52.417 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:28:52.418 +02:00 [ERR] User not logged in.
2024-11-11 10:28:52.420 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:28:52.421 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 9.9727ms
2024-11-11 10:28:52.422 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:52.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 24.3674ms
2024-11-11 10:28:52.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:28:52.433 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:52.439 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:53.447 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:28:53.503 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:28:53.506 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:28:53.508 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:28:53.509 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1069.3984ms
2024-11-11 10:28:53.510 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:53.512 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:39ecb96d-0069-2391-1e59-f14bf1d0744c
2024-11-11 10:28:53.514 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1085.2753ms
2024-11-11 10:28:53.519 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:28:53.521 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:53.522 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:53.525 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:28:53.526 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.2917ms
2024-11-11 10:28:53.526 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:53.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 8.6732ms
2024-11-11 10:28:53.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:28:53.535 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:53.537 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:53.595 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:28:53.619 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:28:53.631 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:28:53.648 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:28:53.661 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:28:53.669 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:28:53.676 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:28:53.684 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:28:53.691 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:28:53.697 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:28:53.708 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:28:53.721 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:28:53.726 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:28:53.734 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:28:53.762 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:28:53.784 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:28:53.7731495Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:28:53.796 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:28:53.812 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 17.8662ms.
2024-11-11 10:28:53.813 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 275.6398ms
2024-11-11 10:28:53.814 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:53.815 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 284.0411ms
2024-11-11 10:28:53.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:28:53.853 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.2712ms
2024-11-11 10:28:53.854 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:28:53.855 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:28:53.855 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:28:53.867 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 12.7236ms
2024-11-11 10:28:53.867 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 12.4484ms
2024-11-11 10:28:53.874 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:28:53.876 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:28:53.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.5586ms
2024-11-11 10:28:54.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:28:54.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:28:54.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:28:54.010 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:54.013 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:54.016 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:54.021 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:54.021 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:54.021 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:28:54.051 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__startDate_0='2024-10-12T08:28:54.0279094Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:28:54.057 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:28:54.062 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-12T08:28:54.0463856Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:28:54.070 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2023-12-11T10:28:54.0277579+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:28:54.0277579+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [Department], [t].[Month] - 1 AS [Month], COUNT(*) AS [QueryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) AS [Month], DATEPART(year, [q].[SubmissionDate]) AS [Year0]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month], [t].[Year0]
2024-11-11 10:28:54.073 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:28:54.081 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 56.4802ms
2024-11-11 10:28:54.082 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:28:54.082 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:54.084 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 42.2584ms
2024-11-11 10:28:54.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 78.7788ms
2024-11-11 10:28:54.085 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType11`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType10`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:28:54.087 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:54.092 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 85.7289ms
2024-11-11 10:28:54.098 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 74.7356ms
2024-11-11 10:28:54.099 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:28:54.100 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 93.8258ms
2024-11-11 10:29:48.251 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:29:48.257 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:48.258 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:29:48.264 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:29:48.270 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:29:48.273 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:29:48.276 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:29:48.279 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:29:48.281 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:29:48.285 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:29:48.290 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:29:48.293 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:29:48.295 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:29:48.298 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:29:48.302 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:48.305 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:48.308 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:48.313 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:29:48.318 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-12T08:29:48.3145508Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:48.320 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:29:48.323 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 2.862ms.
2024-11-11 10:29:48.324 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 65.0048ms
2024-11-11 10:29:48.325 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:48.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 74.178ms
2024-11-11 10:29:48.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-11 10:29:48.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 10:29:48.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 10:29:48.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-11 10:29:48.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-11 10:29:48.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-11 10:29:48.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-11 10:29:48.346 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-11 10:29:48.364 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-11 10:29:48.364 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-11 10:29:48.364 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-11 10:29:48.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 200 10213 text/css 22.2617ms
2024-11-11 10:29:48.370 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 25.4573ms
2024-11-11 10:29:48.373 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-11 10:29:48.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 26.5879ms
2024-11-11 10:29:48.374 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Users.png - null null
2024-11-11 10:29:48.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 10:29:48.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - null null
2024-11-11 10:29:48.389 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-11 10:29:48.389 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-11 10:29:48.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - null null
2024-11-11 10:29:48.390 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:29:48.392 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-11 10:29:48.392 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 47.2251ms
2024-11-11 10:29:48.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 48.6002ms
2024-11-11 10:29:48.398 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 24.9345ms
2024-11-11 10:29:48.399 +02:00 [INF] Sending file. Request path: '/Images/Users.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Users.png'
2024-11-11 10:29:48.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/notification.js - null null
2024-11-11 10:29:48.401 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 11.3999ms
2024-11-11 10:29:48.402 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/toast.js - null null
2024-11-11 10:29:48.404 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:29:48.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Users.png - 200 874 image/png 31.2691ms
2024-11-11 10:29:48.407 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-11 10:29:48.408 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:29:48.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-11 10:29:48.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-11 10:29:48.413 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 200 1605 text/css 36.1636ms
2024-11-11 10:29:48.415 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-11 10:29:48.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-11 10:29:48.423 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pie-chart.png - null null
2024-11-11 10:29:48.424 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-11 10:29:48.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 12.1565ms
2024-11-11 10:29:48.429 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-11 10:29:48.430 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 9.2556ms
2024-11-11 10:29:48.430 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/log.png - null null
2024-11-11 10:29:48.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - null null
2024-11-11 10:29:48.432 +02:00 [INF] Sending file. Request path: '/js/responseTimeChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\responseTimeChart.js'
2024-11-11 10:29:48.437 +02:00 [INF] Sending file. Request path: '/Images/pie-chart.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pie-chart.png'
2024-11-11 10:29:48.438 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - 200 3518 text/javascript 48.7279ms
2024-11-11 10:29:48.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pie-chart.png - 200 898 image/png 15.3996ms
2024-11-11 10:29:48.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-11 10:29:48.445 +02:00 [INF] Sending file. Request path: '/js/notification.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\notification.js'
2024-11-11 10:29:48.445 +02:00 [INF] Sending file. Request path: '/js/toast.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\toast.js'
2024-11-11 10:29:48.445 +02:00 [INF] Sending file. Request path: '/Images/log.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\log.png'
2024-11-11 10:29:48.446 +02:00 [INF] Sending file. Request path: '/svgs/table-alt.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\table-alt.svg'
2024-11-11 10:29:48.446 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-11 10:29:48.448 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/notification.js - 200 2580 text/javascript 48.474ms
2024-11-11 10:29:48.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/toast.js - 200 2875 text/javascript 47.2372ms
2024-11-11 10:29:48.451 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/log.png - 200 424 image/png 20.1819ms
2024-11-11 10:29:48.451 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - 200 827 image/svg+xml 19.6327ms
2024-11-11 10:29:48.459 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-11 10:29:48.455 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:29:48.458 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-11 10:29:48.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:29:48.460 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-11 10:29:48.463 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 118.1332ms
2024-11-11 10:29:48.464 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-11 10:29:48.478 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 74.1944ms
2024-11-11 10:29:48.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 133.0594ms
2024-11-11 10:29:48.482 +02:00 [INF] Sending file. Request path: '/js/resolutionRateChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\resolutionRateChart.js'
2024-11-11 10:29:48.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 39.7502ms
2024-11-11 10:29:48.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 28.5008ms
2024-11-11 10:29:48.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 39.4472ms
2024-11-11 10:29:48.488 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-11 10:29:48.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.3751ms
2024-11-11 10:29:48.492 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-11 10:29:48.493 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - 200 5754 text/javascript 103.1533ms
2024-11-11 10:29:48.497 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:29:48.499 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 86.3455ms
2024-11-11 10:29:48.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 159.0731ms
2024-11-11 10:29:48.510 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-11 10:29:48.530 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-11 10:29:48.531 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 20.6521ms
2024-11-11 10:29:48.539 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-11 10:29:48.547 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-11 10:29:48.548 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 8.2096ms
2024-11-11 10:29:48.556 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-11 10:29:48.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 146.8006ms
2024-11-11 10:29:48.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:29:48.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:29:48.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:29:48.664 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:48.664 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:48.666 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:48.666 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:29:48.667 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:29:48.668 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:29:48.685 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__startDate_0='2024-10-12T08:29:48.6705839Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:29:48.685 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2023-12-11T10:29:48.6712174+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:29:48.6712174+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [Department], [t].[Month] - 1 AS [Month], COUNT(*) AS [QueryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) AS [Month], DATEPART(year, [q].[SubmissionDate]) AS [Year0]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month], [t].[Year0]
2024-11-11 10:29:48.686 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-12T08:29:48.6701313Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:48.687 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:29:48.690 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:29:48.691 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 21.1312ms
2024-11-11 10:29:48.691 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 22.3651ms
2024-11-11 10:29:48.693 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:48.693 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:29:48.694 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:48.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 34.0707ms
2024-11-11 10:29:48.697 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType11`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType10`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:29:48.697 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 36.3475ms
2024-11-11 10:29:48.699 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 28.8973ms
2024-11-11 10:29:48.704 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:48.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 43.8204ms
2024-11-11 10:29:48.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-11 10:29:48.837 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-11 10:29:48.838 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 8.8032ms
2024-11-11 10:29:53.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:29:53.199 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:53.200 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:29:53.206 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:29:53.210 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:29:53.214 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:29:53.219 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:29:53.222 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:29:53.225 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:29:53.228 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:29:53.231 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:29:53.234 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:29:53.239 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:29:53.243 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:29:53.249 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:53.256 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:53.260 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:53.266 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:29:53.273 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-12T08:29:53.2682931Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:53.275 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:29:53.278 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 2.8228ms.
2024-11-11 10:29:53.279 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 77.8968ms
2024-11-11 10:29:53.279 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:53.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 84.6012ms
2024-11-11 10:29:53.297 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-11 10:29:53.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 10:29:53.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 10:29:53.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-11 10:29:53.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-11 10:29:53.309 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-11 10:29:53.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-11 10:29:53.302 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-11 10:29:53.305 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-11 10:29:53.305 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-11 10:29:53.308 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-11 10:29:53.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 9.4359ms
2024-11-11 10:29:53.310 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-11 10:29:53.311 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-11 10:29:53.312 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-11 10:29:53.312 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 15.1163ms
2024-11-11 10:29:53.315 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-11 10:29:53.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 15.671ms
2024-11-11 10:29:53.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 200 10213 text/css 16.4246ms
2024-11-11 10:29:53.319 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-11 10:29:53.320 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 19.4541ms
2024-11-11 10:29:53.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 22.1049ms
2024-11-11 10:29:53.323 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-11 10:29:53.324 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Users.png - null null
2024-11-11 10:29:53.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 20.2558ms
2024-11-11 10:29:53.327 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 10:29:53.328 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - null null
2024-11-11 10:29:53.329 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-11 10:29:53.330 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - null null
2024-11-11 10:29:53.331 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:29:53.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 21.2166ms
2024-11-11 10:29:53.334 +02:00 [INF] Sending file. Request path: '/Images/Users.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Users.png'
2024-11-11 10:29:53.336 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/notification.js - null null
2024-11-11 10:29:53.337 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-11 10:29:53.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 19.4631ms
2024-11-11 10:29:53.339 +02:00 [INF] Sending file. Request path: '/js/responseTimeChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\responseTimeChart.js'
2024-11-11 10:29:53.341 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/toast.js - null null
2024-11-11 10:29:53.342 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 10.5165ms
2024-11-11 10:29:53.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:29:53.343 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Users.png - 200 874 image/png 18.7792ms
2024-11-11 10:29:53.344 +02:00 [INF] Sending file. Request path: '/js/notification.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\notification.js'
2024-11-11 10:29:53.345 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 200 1605 text/css 17.8812ms
2024-11-11 10:29:53.346 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-11 10:29:53.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - 200 3518 text/javascript 18.7137ms
2024-11-11 10:29:53.348 +02:00 [INF] Sending file. Request path: '/js/toast.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\toast.js'
2024-11-11 10:29:53.349 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:29:53.352 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-11 10:29:53.353 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-11 10:29:53.354 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/notification.js - 200 2580 text/javascript 18.4841ms
2024-11-11 10:29:53.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-11 10:29:53.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pie-chart.png - null null
2024-11-11 10:29:53.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/log.png - null null
2024-11-11 10:29:53.359 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/toast.js - 200 2875 text/javascript 18.133ms
2024-11-11 10:29:53.360 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - null null
2024-11-11 10:29:53.362 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-11 10:29:53.362 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-11 10:29:53.364 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-11 10:29:53.365 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-11 10:29:53.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:29:53.367 +02:00 [INF] Sending file. Request path: '/Images/pie-chart.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pie-chart.png'
2024-11-11 10:29:53.368 +02:00 [INF] Sending file. Request path: '/Images/log.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\log.png'
2024-11-11 10:29:53.370 +02:00 [INF] Sending file. Request path: '/svgs/table-alt.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\table-alt.svg'
2024-11-11 10:29:53.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 17.438ms
2024-11-11 10:29:53.371 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-11 10:29:53.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 16.4026ms
2024-11-11 10:29:53.372 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-11 10:29:53.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 7.7244ms
2024-11-11 10:29:53.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pie-chart.png - 200 898 image/png 16.4164ms
2024-11-11 10:29:53.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/log.png - 200 424 image/png 16.194ms
2024-11-11 10:29:53.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - 200 827 image/svg+xml 14.8481ms
2024-11-11 10:29:53.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:29:53.377 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 15.1231ms
2024-11-11 10:29:53.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 15.1673ms
2024-11-11 10:29:53.380 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:29:53.382 +02:00 [INF] Sending file. Request path: '/js/resolutionRateChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\resolutionRateChart.js'
2024-11-11 10:29:53.382 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 39.6232ms
2024-11-11 10:29:53.384 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-11 10:29:53.392 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-11 10:29:53.399 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-11 10:29:53.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.886ms
2024-11-11 10:29:53.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - 200 5754 text/javascript 75.0963ms
2024-11-11 10:29:53.410 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 57.5328ms
2024-11-11 10:29:53.410 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-11 10:29:53.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 64.5362ms
2024-11-11 10:29:53.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 32.5854ms
2024-11-11 10:29:53.467 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-11 10:29:53.470 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-11 10:29:53.472 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 4.6056ms
2024-11-11 10:29:53.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:29:53.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:29:53.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:29:53.536 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:53.539 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:53.539 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:53.540 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:29:53.540 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:29:53.541 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:29:53.548 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-12T08:29:53.5448597Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:29:53.548 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:29:53.5429378Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:29:53.550 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:29:53.551 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2023-12-11T10:29:53.5438716+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:29:53.5438716+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [Department], [t].[Month] - 1 AS [Month], COUNT(*) AS [QueryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) AS [Month], DATEPART(year, [q].[SubmissionDate]) AS [Year0]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month], [t].[Year0]
2024-11-11 10:29:53.552 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:29:53.552 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 8.1807ms
2024-11-11 10:29:53.555 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 12.7175ms
2024-11-11 10:29:53.556 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:29:53.555 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:53.556 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:53.557 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType11`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType10`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:29:53.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 25.3284ms
2024-11-11 10:29:53.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 25.8658ms
2024-11-11 10:29:53.559 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 16.3112ms
2024-11-11 10:29:53.563 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:29:53.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 31.3758ms
2024-11-11 10:29:53.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-11 10:29:53.627 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-11 10:29:53.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 9.2046ms
2024-11-11 10:32:58.878 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:32:59.016 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:32:59.019 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:32:59.023 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:32:59.025 +02:00 [INF] Hosting environment: Development
2024-11-11 10:32:59.026 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:32:59.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:32:59.845 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:32:59.862 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:32:59.969 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:32:59.971 +02:00 [ERR] User not logged in.
2024-11-11 10:32:59.986 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:32:59.990 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 123.7538ms
2024-11-11 10:32:59.994 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:00.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 646.2746ms
2024-11-11 10:33:00.009 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:33:00.024 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:00.029 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:33:01.485 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:33:02.030 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:33:02.103 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:33:02.106 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:33:02.109 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:33:02.110 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2078.3177ms
2024-11-11 10:33:02.112 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:02.116 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:54390559-8d85-ddb8-7e56-cfa533f2c958
2024-11-11 10:33:02.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2112.8331ms
2024-11-11 10:33:02.123 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:33:02.132 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:02.134 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:33:02.138 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:33:02.139 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.0661ms
2024-11-11 10:33:02.139 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:02.140 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.4078ms
2024-11-11 10:33:02.145 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:33:02.149 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:02.150 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:33:02.218 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:33:02.245 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:33:02.258 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:33:02.291 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:33:02.335 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:33:02.350 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:33:02.357 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:33:02.373 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:33:02.384 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:33:02.391 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:33:02.430 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:33:02.456 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:33:02.463 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:33:02.475 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:33:02.513 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:33:02.553 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T08:33:02.5296318Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:33:02.571 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:33:02.667 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 101.188ms.
2024-11-11 10:33:02.671 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 519.7062ms
2024-11-11 10:33:02.672 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:02.674 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 529.4773ms
2024-11-11 10:33:02.710 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:33:02.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:33:02.721 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:33:02.729 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:33:02.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 28.5133ms
2024-11-11 10:33:02.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 29.434ms
2024-11-11 10:33:02.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 34.4985ms
2024-11-11 10:33:02.755 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:33:02.758 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:33:02.788 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.9866ms
2024-11-11 10:33:02.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:33:02.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:33:02.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:33:02.962 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:02.967 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:02.963 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:02.973 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:33:02.980 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:33:02.980 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:33:03.085 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__startDate_0='2024-10-12T08:33:02.9977767Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:33:03.100 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:33:03.104 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:33:03.0011139Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:33:03.118 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:33:03.126 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__startDate_0='2023-12-11T10:33:02.9782962+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:33:02.9782962+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 10:33:03.139 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 155.3076ms
2024-11-11 10:33:03.140 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 158.8803ms
2024-11-11 10:33:03.142 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:03.143 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:03.144 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:33:03.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 186.0143ms
2024-11-11 10:33:03.146 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 187.1185ms
2024-11-11 10:33:03.153 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:33:03.171 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 197.0778ms
2024-11-11 10:33:03.173 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:33:03.174 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 215.1533ms
2024-11-11 10:36:00.190 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:36:00.396 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:36:00.397 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:36:00.400 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:36:00.401 +02:00 [INF] Hosting environment: Development
2024-11-11 10:36:00.401 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:36:00.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:36:01.467 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:01.492 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:36:01.623 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:36:01.624 +02:00 [ERR] User not logged in.
2024-11-11 10:36:01.639 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:36:01.647 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 147.9514ms
2024-11-11 10:36:01.653 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:01.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 709.7637ms
2024-11-11 10:36:01.677 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:36:01.692 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:01.712 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:36:03.995 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:36:04.857 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:36:05.061 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:36:05.063 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:36:05.070 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:36:05.081 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3366.8958ms
2024-11-11 10:36:05.086 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:05.133 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:47f172b6-88d1-baec-4d4c-210b35a70864
2024-11-11 10:36:05.162 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3484.9771ms
2024-11-11 10:36:05.178 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:36:05.209 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:05.212 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:36:05.259 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:36:05.294 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 79.7322ms
2024-11-11 10:36:05.297 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:05.299 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 120.9902ms
2024-11-11 10:36:05.332 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:36:05.469 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:05.486 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:36:05.748 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:36:05.810 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:36:05.844 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:36:05.893 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:36:05.948 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:36:05.977 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:36:05.997 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:36:06.019 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:36:06.033 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:36:06.048 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:36:06.253 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:36:06.303 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:36:06.348 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:36:06.384 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:36:06.497 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:36:06.566 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-12T08:36:06.5266531Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:36:06.611 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:36:06.845 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 242.9098ms.
2024-11-11 10:36:06.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:36:06.899 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 1402.0278ms
2024-11-11 10:36:06.907 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:36:06.908 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:36:06.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:36:06.995 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:07.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 96.323ms
2024-11-11 10:36:07.016 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 153.0419ms
2024-11-11 10:36:07.016 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1684.5173ms
2024-11-11 10:36:07.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 119.3202ms
2024-11-11 10:36:07.148 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.021ms
2024-11-11 10:36:07.335 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:36:07.335 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:36:07.335 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:36:07.353 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:36:07.532 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:36:07.544 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:07.551 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:07.552 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:07.589 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:36:07.595 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:36:07.596 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:36:07.784 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__startDate_0='2024-10-12T08:36:07.6299388Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:36:07.801 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:36:07.808 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2024-10-12T08:36:07.6321601Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:36:07.811 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2023-12-11T10:36:07.6030046+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:36:07.6030046+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 10:36:07.830 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:36:07.848 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:36:07.865 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 265.2905ms
2024-11-11 10:36:07.867 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 264.3409ms
2024-11-11 10:36:07.890 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:36:07.897 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:07.909 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:07.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 583.4024ms
2024-11-11 10:36:07.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 588.4638ms
2024-11-11 10:36:07.934 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 337.1527ms
2024-11-11 10:36:07.992 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:36:07.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 658.2738ms
2024-11-11 10:51:43.141 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/clear-browser-cache - null null
2024-11-11 10:51:43.141 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:51:43.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/clear-browser-cache - 200 0 null 16.3577ms
2024-11-11 10:51:43.209 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:51:43.217 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:51:43.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css?nonce=1731315103258 - null null
2024-11-11 10:51:43.297 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:51:43.313 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:51:43.317 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:51:43.325 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:51:43.329 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:51:43.335 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:51:43.336 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-11 10:51:43.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css?nonce=1731315103258 - 200 2584 text/css 76.5776ms
2024-11-11 10:51:43.341 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:51:43.345 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:51:43.350 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:51:43.354 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:51:43.365 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:51:43.370 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:51:43.374 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:51:43.378 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:51:43.392 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:51:43.399 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-12T08:51:43.3941798Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:51:43.408 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:51:43.426 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 22.0102ms.
2024-11-11 10:51:43.427 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 208.7974ms
2024-11-11 10:51:43.428 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:51:43.430 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 293.1064ms
2024-11-11 10:51:43.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 10:51:43.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 10:51:43.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-11 10:51:43.600 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-11 10:51:43.604 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 9.6117ms
2024-11-11 10:51:43.611 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-11 10:51:43.611 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-11 10:51:43.612 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 200 10213 text/css 19.5818ms
2024-11-11 10:51:43.613 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 20.4582ms
2024-11-11 10:51:43.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-11 10:51:43.629 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-11 10:51:43.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-11 10:51:43.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-11 10:51:43.634 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-11 10:51:43.634 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-11 10:51:43.637 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 7.6619ms
2024-11-11 10:51:43.637 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-11 10:51:43.639 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 10.166ms
2024-11-11 10:51:43.639 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-11 10:51:43.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 10.1164ms
2024-11-11 10:51:43.645 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 12.6471ms
2024-11-11 10:51:43.651 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-11 10:51:43.651 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Users.png - null null
2024-11-11 10:51:43.654 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-11 10:51:43.657 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-11 10:51:43.658 +02:00 [INF] Sending file. Request path: '/Images/Users.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Users.png'
2024-11-11 10:51:43.659 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-11 10:51:43.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 9.3126ms
2024-11-11 10:51:43.661 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Users.png - 200 874 image/png 9.5243ms
2024-11-11 10:51:43.662 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 7.7867ms
2024-11-11 10:51:43.678 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-11 10:51:43.683 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-11 10:51:43.684 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 6.0669ms
2024-11-11 10:51:43.691 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 10:51:43.694 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-11 10:51:43.696 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 200 2584 text/css 5.3238ms
2024-11-11 10:51:43.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - null null
2024-11-11 10:51:43.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - null null
2024-11-11 10:51:43.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:51:43.816 +02:00 [INF] Sending file. Request path: '/js/responseTimeChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\responseTimeChart.js'
2024-11-11 10:51:43.817 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 6.5809ms
2024-11-11 10:51:43.817 +02:00 [INF] Sending file. Request path: '/js/resolutionRateChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\resolutionRateChart.js'
2024-11-11 10:51:43.818 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - 200 3518 text/javascript 8.0123ms
2024-11-11 10:51:43.822 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:51:43.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - 200 5754 text/javascript 12.5525ms
2024-11-11 10:51:43.826 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/notification.js - null null
2024-11-11 10:51:43.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/toast.js - null null
2024-11-11 10:51:43.832 +02:00 [INF] Sending file. Request path: '/js/notification.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\notification.js'
2024-11-11 10:51:43.834 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/notification.js - 200 2580 text/javascript 7.2206ms
2024-11-11 10:51:43.834 +02:00 [INF] Sending file. Request path: '/js/toast.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\toast.js'
2024-11-11 10:51:43.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:51:43.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/toast.js - 200 2875 text/javascript 13.645ms
2024-11-11 10:51:43.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-11 10:51:43.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.5641ms
2024-11-11 10:51:43.859 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-11 10:51:43.859 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-11 10:51:43.859 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-11 10:51:43.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 67.1912ms
2024-11-11 10:51:43.911 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-11 10:51:43.914 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 55.2754ms
2024-11-11 10:51:43.914 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-11 10:51:43.919 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 59.546ms
2024-11-11 10:51:43.997 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-11 10:51:43.997 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:51:44.006 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-11 10:51:44.007 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 9.4161ms
2024-11-11 10:51:44.008 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 11.2218ms
2024-11-11 10:51:44.010 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:51:44.019 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pie-chart.png - null null
2024-11-11 10:51:44.027 +02:00 [INF] Sending file. Request path: '/Images/pie-chart.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pie-chart.png'
2024-11-11 10:51:44.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pie-chart.png - 200 898 image/png 9.7902ms
2024-11-11 10:51:44.034 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/log.png - null null
2024-11-11 10:51:44.039 +02:00 [INF] Sending file. Request path: '/Images/log.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\log.png'
2024-11-11 10:51:44.041 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/log.png - 200 424 image/png 6.8777ms
2024-11-11 10:51:44.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - null null
2024-11-11 10:51:44.049 +02:00 [INF] Sending file. Request path: '/svgs/table-alt.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\table-alt.svg'
2024-11-11 10:51:44.049 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-11 10:51:44.056 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - 200 827 image/svg+xml 13.2135ms
2024-11-11 10:51:44.061 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-11 10:51:44.063 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 13.6805ms
2024-11-11 10:51:44.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-11 10:51:44.082 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-11 10:51:44.082 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-11 10:51:44.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 6.6947ms
2024-11-11 10:51:44.092 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-11 10:51:44.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 10.5632ms
2024-11-11 10:51:44.102 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:51:44.112 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.2947ms
2024-11-11 10:51:44.124 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:51:44.124 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:51:44.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:51:44.126 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:51:44.129 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:51:44.130 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:51:44.130 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:51:44.131 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:51:44.133 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:51:44.149 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:51:44.1356156Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:51:44.155 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:51:44.155 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T08:51:44.1356172Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:51:44.158 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:51:44.163 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 29.3048ms
2024-11-11 10:51:44.163 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 31.4669ms
2024-11-11 10:51:44.164 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:51:44.166 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:51:44.166 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 42.1681ms
2024-11-11 10:51:44.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 43.5727ms
2024-11-11 10:51:44.168 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__startDate_0='2023-12-11T10:51:44.1372731+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:51:44.1372731+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 10:51:44.177 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:51:44.178 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:51:44.180 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 44.7406ms
2024-11-11 10:51:44.181 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:51:44.182 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 57.1435ms
2024-11-11 10:51:44.712 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-11 10:51:44.717 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-11 10:51:44.718 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 5.6343ms
2024-11-11 10:52:14.231 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:52:14.240 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:52:14.241 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:52:14.248 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:52:14.251 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:52:14.257 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:52:14.262 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:52:14.265 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:52:14.268 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:52:14.271 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:52:14.274 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:52:14.277 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:52:14.280 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:52:14.284 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:52:14.289 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:52:14.291 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:52:14.297 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:52:14.305 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:52:14.316 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T08:52:14.3093103Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:52:14.318 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:52:14.323 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 4.9086ms.
2024-11-11 10:52:14.324 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 82.0071ms
2024-11-11 10:52:14.325 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:52:14.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 94.8332ms
2024-11-11 10:52:14.373 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 10:52:14.378 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-11 10:52:14.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 5.9893ms
2024-11-11 10:52:14.484 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:52:14.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 3.7283ms
2024-11-11 10:52:14.489 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:52:14.492 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:52:14.495 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6469ms
2024-11-11 10:52:14.577 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:52:14.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 3.4194ms
2024-11-11 10:52:14.584 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:52:14.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:52:14.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:52:14.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:52:14.618 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:52:14.621 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.6444ms
2024-11-11 10:52:14.621 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:52:14.623 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:52:14.625 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:52:14.626 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:52:14.627 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:52:14.627 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:52:14.631 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='2024-10-12T08:52:14.6296203Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:52:14.633 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:52:14.633 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-12T08:52:14.6290518Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:52:14.634 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 5.0122ms
2024-11-11 10:52:14.637 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:52:14.637 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:52:14.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 20.7965ms
2024-11-11 10:52:14.639 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 10.6617ms
2024-11-11 10:52:14.641 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:52:14.641 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2023-12-11T10:52:14.6310652+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:52:14.6310652+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 10:52:14.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 24.4924ms
2024-11-11 10:52:14.645 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:52:14.647 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:52:14.648 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 17.7504ms
2024-11-11 10:52:14.649 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:52:14.649 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 30.9451ms
2024-11-11 10:56:47.341 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:56:47.350 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:47.352 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:56:47.365 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:56:47.372 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:56:47.379 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:56:47.384 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:56:47.387 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:56:47.390 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:56:47.395 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:56:47.400 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:56:47.406 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:56:47.410 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:56:47.414 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:56:47.418 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:56:47.419 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:56:47.422 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:56:47.429 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:56:47.438 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__startDate_0='2024-10-12T08:56:47.4312608Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:56:47.442 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:56:47.448 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 5.3636ms.
2024-11-11 10:56:47.451 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 96.5781ms
2024-11-11 10:56:47.453 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:47.454 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 113.6812ms
2024-11-11 10:56:47.510 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 10:56:47.514 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-11 10:56:47.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 5.579ms
2024-11-11 10:56:47.634 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:56:47.637 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 2.4936ms
2024-11-11 10:56:47.641 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:56:47.642 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:56:47.645 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7888ms
2024-11-11 10:56:47.712 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:56:47.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 2.8502ms
2024-11-11 10:56:47.718 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:56:47.730 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:56:47.733 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:56:47.733 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:56:47.734 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:56:47.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.549ms
2024-11-11 10:56:47.736 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:47.738 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:47.741 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:47.743 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:56:47.743 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:56:47.744 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:56:47.749 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='2024-10-12T08:56:47.7461428Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:56:47.751 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:56:47.751 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-12T08:56:47.7475586Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:56:47.753 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 7.3868ms
2024-11-11 10:56:47.754 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2023-12-11T10:56:47.7481696+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:56:47.7481696+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 10:56:47.755 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:47.755 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:56:47.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 23.6945ms
2024-11-11 10:56:47.758 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 11.8382ms
2024-11-11 10:56:47.759 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:56:47.761 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:47.763 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:56:47.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 30.9165ms
2024-11-11 10:56:47.765 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 17.6936ms
2024-11-11 10:56:47.768 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:47.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 34.6823ms
2024-11-11 10:56:58.159 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:56:58.335 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:56:58.336 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:56:58.340 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:56:58.342 +02:00 [INF] Hosting environment: Development
2024-11-11 10:56:58.342 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:56:59.021 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:56:59.498 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:59.511 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:56:59.610 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:56:59.611 +02:00 [ERR] User not logged in.
2024-11-11 10:56:59.622 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:56:59.626 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 111.7479ms
2024-11-11 10:56:59.629 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:59.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 613.0321ms
2024-11-11 10:56:59.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:56:59.644 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:56:59.648 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:57:01.433 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:57:01.952 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:57:02.019 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:57:02.023 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:57:02.027 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:57:02.029 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2380.3195ms
2024-11-11 10:57:02.030 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.032 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:03ea855b-057c-2484-5376-228c3ab62369
2024-11-11 10:57:02.037 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2398.5542ms
2024-11-11 10:57:02.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:57:02.052 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.053 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:57:02.057 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:57:02.059 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 4.4774ms
2024-11-11 10:57:02.059 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.060 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.7794ms
2024-11-11 10:57:02.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:57:02.066 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.067 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:57:02.125 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:57:02.146 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:57:02.154 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:57:02.171 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:57:02.197 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:57:02.211 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:57:02.216 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:57:02.229 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:57:02.236 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:57:02.244 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:57:02.279 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:57:02.299 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:57:02.314 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:57:02.325 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:57:02.355 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:57:02.384 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:57:02.3680251Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:57:02.398 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:57:02.476 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 80.724ms.
2024-11-11 10:57:02.481 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 413.5915ms
2024-11-11 10:57:02.483 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 422.4848ms
2024-11-11 10:57:02.504 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:57:02.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:57:02.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:57:02.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 10:57:02.512 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:57:02.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 11.6448ms
2024-11-11 10:57:02.519 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.846ms
2024-11-11 10:57:02.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 15.8536ms
2024-11-11 10:57:02.534 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:57:02.540 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:57:02.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.5118ms
2024-11-11 10:57:02.649 +02:00 [INF] Sending file. Request path: '/js/AdminCharts.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\AdminCharts.js'
2024-11-11 10:57:02.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 200 4242 text/javascript 138.2365ms
2024-11-11 10:57:02.681 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:57:02.681 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:57:02.681 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:57:02.684 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.686 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.687 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.692 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:57:02.696 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:57:02.696 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:57:02.756 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T08:57:02.7096208Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:57:02.760 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:57:02.764 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='2024-10-12T08:57:02.7119680Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:57:02.768 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__startDate_0='2023-12-11T10:57:02.6963396+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:57:02.6963396+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 10:57:02.774 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:57:02.784 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:57:02.784 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 85.0461ms
2024-11-11 10:57:02.788 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 90.3515ms
2024-11-11 10:57:02.795 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.795 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:57:02.796 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 115.6077ms
2024-11-11 10:57:02.799 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 118.0648ms
2024-11-11 10:57:02.811 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 116.9572ms
2024-11-11 10:57:02.813 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:57:02.822 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 140.8971ms
2024-11-11 10:58:16.250 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:58:16.344 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:58:16.346 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:58:16.349 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:58:16.350 +02:00 [INF] Hosting environment: Development
2024-11-11 10:58:16.350 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:58:16.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:58:17.331 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:17.343 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:58:17.416 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:58:17.419 +02:00 [ERR] User not logged in.
2024-11-11 10:58:17.429 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:58:17.434 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 84.4205ms
2024-11-11 10:58:17.439 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:17.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 493.5474ms
2024-11-11 10:58:17.446 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:58:17.454 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:17.457 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:58:18.740 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:58:19.150 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:58:19.211 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:58:19.214 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:58:19.216 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:58:19.218 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1759.9418ms
2024-11-11 10:58:19.220 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.223 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:1ee61036-2fe9-d73b-265e-d990089807bc
2024-11-11 10:58:19.227 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1781.0494ms
2024-11-11 10:58:19.228 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:58:19.237 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.242 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:58:19.245 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:58:19.246 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.552ms
2024-11-11 10:58:19.246 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.247 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 18.6611ms
2024-11-11 10:58:19.250 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:58:19.254 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.255 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:58:19.312 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:58:19.335 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:58:19.347 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:58:19.365 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:58:19.388 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:58:19.400 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:58:19.406 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:58:19.415 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:58:19.422 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:58:19.427 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:58:19.454 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:58:19.474 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:58:19.480 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:58:19.492 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:58:19.518 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:58:19.542 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__startDate_0='2024-10-12T08:58:19.5268142Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:58:19.554 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:58:19.615 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 63.5398ms.
2024-11-11 10:58:19.618 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 362.8985ms
2024-11-11 10:58:19.620 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 372.5692ms
2024-11-11 10:58:19.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 10:58:19.637 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:58:19.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:58:19.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 10:58:19.639 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:58:19.639 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:58:19.647 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-11 10:58:19.647 +02:00 [INF] The file /js/AdminCharts.js was not modified
2024-11-11 10:58:19.648 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.4135ms
2024-11-11 10:58:19.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 12.4622ms
2024-11-11 10:58:19.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 13.5227ms
2024-11-11 10:58:19.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 10.9158ms
2024-11-11 10:58:19.651 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 304 null text/javascript 12.6575ms
2024-11-11 10:58:19.658 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:58:19.663 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:58:19.677 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.7772ms
2024-11-11 10:58:19.704 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:58:19.704 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:58:19.704 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:58:19.708 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.709 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.711 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.715 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:58:19.720 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:58:19.720 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:58:19.791 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='2024-10-12T08:58:19.7330146Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:58:19.795 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:58:19.801 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-12T08:58:19.7343907Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:58:19.814 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:58:19.817 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2023-12-11T10:58:19.7201178+02:00' (Nullable = true), @__endDate_1='2024-11-11T10:58:19.7201178+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 10:58:19.823 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 101.6346ms
2024-11-11 10:58:19.826 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 103.055ms
2024-11-11 10:58:19.829 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.830 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 126.9833ms
2024-11-11 10:58:19.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 126.996ms
2024-11-11 10:58:19.842 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 10:58:19.844 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:58:19.852 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 134.7722ms
2024-11-11 10:58:19.855 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:58:19.856 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 152.1872ms
2024-11-11 11:00:18.501 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:00:18.596 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:00:18.598 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:00:18.601 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:00:18.602 +02:00 [INF] Hosting environment: Development
2024-11-11 11:00:18.602 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:00:19.124 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:00:19.523 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:19.536 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:00:19.621 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:00:19.623 +02:00 [ERR] User not logged in.
2024-11-11 11:00:19.634 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 11:00:19.638 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 99.2343ms
2024-11-11 11:00:19.641 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:19.644 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 521.4376ms
2024-11-11 11:00:19.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:00:19.656 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:19.659 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:00:21.083 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 11:00:21.508 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 11:00:21.590 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:00:21.591 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 11:00:21.595 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 11:00:21.597 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1936.692ms
2024-11-11 11:00:21.599 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:21.602 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:16b9a7d3-9ec6-5743-b79a-882141276e45
2024-11-11 11:00:21.608 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1957.3943ms
2024-11-11 11:00:21.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 11:00:21.618 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:21.620 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:00:21.624 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 11:00:21.625 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.4247ms
2024-11-11 11:00:21.626 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:21.626 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.8026ms
2024-11-11 11:00:21.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:00:21.638 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:21.639 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:00:21.707 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:00:21.738 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:00:21.748 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:00:21.763 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:00:21.785 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 11:00:21.798 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 11:00:21.802 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 11:00:21.809 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 11:00:21.814 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 11:00:21.820 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 11:00:21.847 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 11:00:21.865 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:00:21.870 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:00:21.876 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:00:21.918 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 11:00:21.957 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T09:00:21.9345460Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:00:21.974 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 11:00:22.059 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 89.7646ms.
2024-11-11 11:00:22.062 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 422.3763ms
2024-11-11 11:00:22.064 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:22.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 434.6618ms
2024-11-11 11:00:22.231 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 11:00:22.237 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-11 11:00:22.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 8.9068ms
2024-11-11 11:00:22.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 11:00:22.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 11:00:22.303 +02:00 [INF] The file /js/AdminCharts.js was not modified
2024-11-11 11:00:22.304 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 304 null text/javascript 4.4998ms
2024-11-11 11:00:22.307 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:00:22.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 9.7961ms
2024-11-11 11:00:22.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.8118ms
2024-11-11 11:00:22.323 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 11:00:22.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 11:00:22.401 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 7.6227ms
2024-11-11 11:00:22.404 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 11:00:22.415 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:00:22.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 11:00:22.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 11:00:22.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 11:00:22.421 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:22.422 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:22.424 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:22.428 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:00:22.434 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:00:22.434 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:00:22.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.3109ms
2024-11-11 11:00:22.575 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__startDate_0='2024-10-12T09:00:22.4474443Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:00:22.585 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:00:22.619 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 182.2792ms
2024-11-11 11:00:22.626 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__startDate_0='2024-10-12T09:00:22.4503359Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 11:00:22.628 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:22.631 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 212.6535ms
2024-11-11 11:00:22.637 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:00:22.645 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 209.2349ms
2024-11-11 11:00:22.683 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:22.698 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2023-12-11T11:00:22.4337597+02:00' (Nullable = true), @__endDate_1='2024-11-11T11:00:22.4337597+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 11:00:22.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 326.721ms
2024-11-11 11:00:22.765 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 11:00:22.776 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 11:00:22.789 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 359.0855ms
2024-11-11 11:00:22.790 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:00:22.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 373.2168ms
2024-11-11 11:02:23.439 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:02:23.538 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:02:23.540 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:02:23.543 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:02:23.544 +02:00 [INF] Hosting environment: Development
2024-11-11 11:02:23.544 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:02:24.057 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:02:24.155 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315744.
2024-11-11 11:02:24.165 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-11 11:02:24.168 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:02:24.171 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 401 0 null 114.5377ms
2024-11-11 11:02:29.019 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-11 11:02:29.028 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315749.
2024-11-11 11:02:29.030 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-11 11:02:29.031 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:02:29.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 401 0 null 13.3966ms
2024-11-11 11:02:29.586 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:02:29.592 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315749.
2024-11-11 11:02:29.594 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-11 11:02:29.595 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:02:29.597 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 401 0 null 11.3651ms
2024-11-11 11:02:30.115 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:02:30.118 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315750.
2024-11-11 11:02:30.119 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-11 11:02:30.119 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:02:30.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 401 0 null 5.3265ms
2024-11-11 11:02:33.047 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:02:33.051 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315753.
2024-11-11 11:02:33.052 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315753.
2024-11-11 11:02:33.055 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:33.067 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:02:33.159 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731315343. Expected to be greater than 1731315753.
2024-11-11 11:02:33.166 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 11:02:33.239 +02:00 [INF] Executed ViewResult - view Login executed in 73.9957ms.
2024-11-11 11:02:33.243 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 174.383ms
2024-11-11 11:02:33.245 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:33.250 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 203.6785ms
2024-11-11 11:02:33.265 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-11 11:02:33.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-11 11:02:33.269 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315753.
2024-11-11 11:02:33.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:02:33.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:02:33.275 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315753.
2024-11-11 11:02:33.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.761ms
2024-11-11 11:02:33.289 +02:00 [INF] Sending file. Request path: '/css/Login.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Login.css'
2024-11-11 11:02:33.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 200 7241 text/css 25.8546ms
2024-11-11 11:02:33.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.2496ms
2024-11-11 11:02:33.314 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Aptivate_background.png - null null
2024-11-11 11:02:33.318 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315753.
2024-11-11 11:02:33.325 +02:00 [INF] Sending file. Request path: '/Images/Aptivate_background.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Aptivate_background.png'
2024-11-11 11:02:33.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Aptivate_background.png - 200 77509 image/png 13.3715ms
2024-11-11 11:02:33.348 +02:00 [INF] Sending file. Request path: '/js/login.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\login.js'
2024-11-11 11:02:33.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 200 5413 text/javascript 82.1272ms
2024-11-11 11:02:38.620 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-11 11:02:38.627 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315758.
2024-11-11 11:02:38.628 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731315343. Expected to be greater than 1731315758.
2024-11-11 11:02:38.628 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:38.642 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:02:38.678 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-11 11:02:38.698 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-11 11:02:38.702 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-11 11:02:39.224 +02:00 [INF] Received HTTP response headers after 516.9563ms - 200
2024-11-11 11:02:39.227 +02:00 [INF] End processing HTTP request after 530.9262ms - 200
2024-11-11 11:02:39.228 +02:00 [INF] User logged in successfully.
2024-11-11 11:02:40.823 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 11:02:41.601 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 11:02:41.841 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p1='5', @p0='2024-11-11T09:02:41.7282881Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-11 11:02:41.858 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:02:41.860 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-11 11:02:41.864 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 11:02:41.866 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3222.6098ms
2024-11-11 11:02:41.867 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:41.869 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:85da45e9-d0de-10e4-9b71-c1621bebf7b5
2024-11-11 11:02:41.876 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 3255.6838ms
2024-11-11 11:02:41.877 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:02:42.140 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:42.145 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:02:42.545 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:02:42.583 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:02:42.599 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:02:42.626 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:02:42.668 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 11:02:42.690 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 11:02:42.701 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 11:02:42.711 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 11:02:42.718 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 11:02:42.728 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 11:02:42.782 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 11:02:42.816 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:02:42.828 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:02:42.835 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:02:42.881 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 11:02:42.918 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-12T09:02:42.8946703Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:02:42.934 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 11:02:42.993 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 60.6044ms.
2024-11-11 11:02:42.994 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 847.1086ms
2024-11-11 11:02:42.996 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:42.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1120.9208ms
2024-11-11 11:02:43.048 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 11:02:43.048 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:02:43.053 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.2745ms
2024-11-11 11:02:43.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 11:02:43.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 11:02:43.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 11:02:43.061 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-11 11:02:43.062 +02:00 [INF] The file /js/AdminCharts.js was not modified
2024-11-11 11:02:43.065 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:02:43.069 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 11.0896ms
2024-11-11 11:02:43.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 18.5763ms
2024-11-11 11:02:43.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 28.6449ms
2024-11-11 11:02:43.077 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 304 null text/javascript 19.4678ms
2024-11-11 11:02:43.083 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 11:02:43.085 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 11:02:43.092 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.4472ms
2024-11-11 11:02:43.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 11:02:43.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 11:02:43.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 11:02:43.269 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:43.271 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:43.273 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:43.281 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:02:43.281 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:02:43.281 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:02:43.380 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2024-10-12T09:02:43.2911568Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:02:43.384 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:02:43.388 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='2024-10-12T09:02:43.2939224Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 11:02:43.393 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2023-12-11T11:02:43.2857232+02:00' (Nullable = true), @__endDate_1='2024-11-11T11:02:43.2857232+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 11:02:43.398 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:02:43.401 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 11:02:43.402 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 118.1863ms
2024-11-11 11:02:43.402 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:43.403 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 11:02:43.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 136.8343ms
2024-11-11 11:02:43.405 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 119.7437ms
2024-11-11 11:02:43.406 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:43.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 142.8236ms
2024-11-11 11:02:43.411 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 129.1421ms
2024-11-11 11:02:43.412 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:02:43.413 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 146.9807ms
2024-11-11 11:03:15.330 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=7 - null null
2024-11-11 11:03:15.333 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:03:15.333 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:03:15.341 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-11-04T09:03:15.3349971Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:03:15.344 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:03:15.345 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 10.7286ms
2024-11-11 11:03:15.347 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:03:15.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=7 - 200 null application/json; charset=utf-8 18.3482ms
2024-11-11 11:03:16.590 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 11:03:16.593 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:03:16.594 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:03:16.598 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='2024-10-12T09:03:16.5965451Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:03:16.601 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:03:16.602 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 6.2692ms
2024-11-11 11:03:16.604 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:03:16.605 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 14.199ms
2024-11-11 11:04:20.106 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:04:20.243 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:04:20.244 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:04:20.247 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:04:20.247 +02:00 [INF] Hosting environment: Development
2024-11-11 11:04:20.248 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:04:20.623 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:04:21.000 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:21.011 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:04:21.093 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:04:21.096 +02:00 [ERR] User not logged in.
2024-11-11 11:04:21.106 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 11:04:21.110 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 94.3717ms
2024-11-11 11:04:21.112 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:21.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 494.0431ms
2024-11-11 11:04:21.121 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:04:21.129 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:21.132 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:04:22.461 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 11:04:22.879 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 11:04:22.942 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:04:22.945 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 11:04:22.948 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 11:04:22.949 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1815.5427ms
2024-11-11 11:04:22.950 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:22.952 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:b06fe528-3438-d42f-21cc-27ac035555fa
2024-11-11 11:04:22.958 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1836.2228ms
2024-11-11 11:04:22.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 11:04:22.966 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:22.968 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:04:22.973 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 11:04:22.973 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.9246ms
2024-11-11 11:04:22.974 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:22.975 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 15.1377ms
2024-11-11 11:04:22.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:04:22.981 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:22.982 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:04:23.037 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:04:23.059 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:04:23.070 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:04:23.085 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:04:23.110 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 11:04:23.122 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 11:04:23.128 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 11:04:23.136 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 11:04:23.141 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 11:04:23.146 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 11:04:23.172 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 11:04:23.194 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:04:23.201 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:04:23.211 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:04:23.237 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 11:04:23.262 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T09:04:23.2456436Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:04:23.274 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 11:04:23.342 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 70.1075ms.
2024-11-11 11:04:23.347 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 364.028ms
2024-11-11 11:04:23.348 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:23.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 371.9069ms
2024-11-11 11:04:23.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:04:23.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 11:04:23.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 11:04:23.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 11:04:23.382 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.1508ms
2024-11-11 11:04:23.387 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-11 11:04:23.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:04:23.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 11:04:23.390 +02:00 [INF] The file /js/AdminCharts.js was not modified
2024-11-11 11:04:23.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 15.3674ms
2024-11-11 11:04:23.395 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 16.6656ms
2024-11-11 11:04:23.399 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 304 null text/javascript 20.9585ms
2024-11-11 11:04:23.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 13.7782ms
2024-11-11 11:04:23.404 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 11:04:23.408 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 11:04:23.419 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.4084ms
2024-11-11 11:04:23.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 11:04:23.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 11:04:23.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 11:04:23.535 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:23.539 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:23.540 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:23.544 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:04:23.549 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:04:23.549 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:04:23.610 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__startDate_0='2024-10-12T09:04:23.5638327Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:04:23.613 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:04:23.616 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-12T09:04:23.5660404Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 11:04:23.620 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2023-12-11T11:04:23.5489877+02:00' (Nullable = true), @__endDate_1='2024-11-11T11:04:23.5489877+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 11:04:23.623 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:04:23.626 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 11:04:23.627 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 77.1899ms
2024-11-11 11:04:23.628 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 11:04:23.628 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:23.629 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 77.3899ms
2024-11-11 11:04:23.630 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 98.2176ms
2024-11-11 11:04:23.630 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:23.632 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 100.4756ms
2024-11-11 11:04:23.634 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 88.0387ms
2024-11-11 11:04:23.634 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:04:23.635 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 103.758ms
2024-11-11 11:05:11.163 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:05:11.261 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:05:11.263 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:05:11.265 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:05:11.266 +02:00 [INF] Hosting environment: Development
2024-11-11 11:05:11.266 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:05:11.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:05:11.781 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:11.792 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:11.863 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:05:11.866 +02:00 [ERR] User not logged in.
2024-11-11 11:05:11.875 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 11:05:11.877 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 81.3198ms
2024-11-11 11:05:11.880 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:11.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 463.6773ms
2024-11-11 11:05:11.889 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:05:11.894 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:11.897 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:13.204 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 11:05:13.639 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 11:05:13.700 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:05:13.702 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 11:05:13.705 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 11:05:13.707 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1808.5757ms
2024-11-11 11:05:13.708 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:13.710 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:e740a2fa-99e1-355d-b115-96d8b8fc07dd
2024-11-11 11:05:13.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1826.3651ms
2024-11-11 11:05:13.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 11:05:13.724 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:13.726 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:13.729 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 11:05:13.730 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.8199ms
2024-11-11 11:05:13.730 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:13.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 15.0924ms
2024-11-11 11:05:13.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:05:13.740 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:13.740 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:13.798 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:05:13.823 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:05:13.833 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:05:13.849 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:05:13.871 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 11:05:13.882 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 11:05:13.890 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 11:05:13.897 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 11:05:13.904 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 11:05:13.910 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 11:05:13.937 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 11:05:13.958 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:05:13.963 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:05:13.972 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:05:13.997 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 11:05:14.021 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T09:05:14.0064172Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:05:14.033 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 11:05:14.090 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 59.5205ms.
2024-11-11 11:05:14.095 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 353.277ms
2024-11-11 11:05:14.097 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:14.099 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 362.1834ms
2024-11-11 11:05:14.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 11:05:14.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 11:05:14.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 11:05:14.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:05:14.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:05:14.124 +02:00 [INF] The file /js/AdminCharts.js was not modified
2024-11-11 11:05:14.127 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 304 null text/javascript 10.8241ms
2024-11-11 11:05:14.127 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 14.279ms
2024-11-11 11:05:14.127 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.3082ms
2024-11-11 11:05:14.127 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 10.839ms
2024-11-11 11:05:14.138 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 11:05:14.144 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 11:05:14.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1912ms
2024-11-11 11:05:14.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 11:05:14.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 11:05:14.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 11:05:14.216 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:14.218 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:14.220 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:14.224 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:14.228 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:14.228 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:14.278 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='2024-10-12T09:05:14.2406249Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:05:14.282 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:14.287 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T09:05:14.2417559Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 11:05:14.295 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:14.298 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2023-12-11T11:05:14.2280804+02:00' (Nullable = true), @__endDate_1='2024-11-11T11:05:14.2280804+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 11:05:14.302 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 70.9562ms
2024-11-11 11:05:14.303 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 74.2521ms
2024-11-11 11:05:14.304 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:14.305 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:14.306 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 93.4366ms
2024-11-11 11:05:14.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 94.7801ms
2024-11-11 11:05:14.311 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 11:05:14.314 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 11:05:14.321 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 95.4201ms
2024-11-11 11:05:14.322 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:14.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 110.4409ms
2024-11-11 11:05:28.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/Chats - null null
2024-11-11 11:05:28.538 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:28.542 +02:00 [INF] Route matched with {action = "Chats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Chats() on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:28.565 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:28.618 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__currentUserId_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[Name], [u].[Surname], [u].[IsOnline], [u].[LastSeen], (
    SELECT COUNT(*)
    FROM [Messages] AS [m]
    WHERE [m].[ReceiverId] = @__currentUserId_0 AND [m].[IsRead] = CAST(0 AS bit) AND [u].[UserID] = [m].[SenderId]) AS [UnreadCount]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__currentUserId_0
2024-11-11 11:05:28.625 +02:00 [INF] Executing ViewResult, running view Chats.
2024-11-11 11:05:28.711 +02:00 [INF] Executed ViewResult - view Chats executed in 87.744ms.
2024-11-11 11:05:28.712 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp) in 169.6197ms
2024-11-11 11:05:28.715 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:28.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/Chats - 200 null text/html; charset=utf-8 184.9978ms
2024-11-11 11:05:28.730 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Chats.css - null null
2024-11-11 11:05:28.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/chat.js - null null
2024-11-11 11:05:28.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/chat-enhanced.js - null null
2024-11-11 11:05:28.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:05:28.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:05:28.743 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.8657ms
2024-11-11 11:05:28.745 +02:00 [INF] Sending file. Request path: '/css/Chats.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Chats.css'
2024-11-11 11:05:28.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Chats.css - 200 8830 text/css 26.8589ms
2024-11-11 11:05:28.762 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.7451ms
2024-11-11 11:05:28.827 +02:00 [INF] Sending file. Request path: '/js/chat-enhanced.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\chat-enhanced.js'
2024-11-11 11:05:28.828 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/chat-enhanced.js - 200 8476 text/javascript 90.782ms
2024-11-11 11:05:28.831 +02:00 [INF] Sending file. Request path: '/js/chat.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\chat.js'
2024-11-11 11:05:28.832 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/chat.js - 200 5912 text/javascript 99.5341ms
2024-11-11 11:05:28.838 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-11 11:05:28.842 +02:00 [INF] Executing endpoint '/chatHub/negotiate'
2024-11-11 11:05:28.849 +02:00 [INF] Executed endpoint '/chatHub/negotiate'
2024-11-11 11:05:28.850 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 11.2163ms
2024-11-11 11:05:28.913 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/chatHub?id=dCCjZ3JDGtJ9gq9J_UktEA - null null
2024-11-11 11:05:28.917 +02:00 [INF] Executing endpoint '/chatHub'
2024-11-11 11:05:28.955 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/users/statuses - null null
2024-11-11 11:05:28.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:28.958 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:28.963 +02:00 [INF] Route matched with {action = "GetUserStatuses", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStatuses() on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:29.325 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID] AS [userId], [u].[IsOnline] AS [isOnline]
FROM [Users] AS [u]
2024-11-11 11:05:29.332 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:29.349 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp) in 383.4638ms
2024-11-11 11:05:29.350 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:29.351 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/users/statuses - 200 null application/json; charset=utf-8 396.3075ms
2024-11-11 11:05:29.415 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='5', @p0='True', @p1='2024-11-11T09:05:28.9613048Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsOnline] = @p0, [LastSeen] = @p1
OUTPUT 1
WHERE [UserID] = @p2;
2024-11-11 11:05:31.245 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=1 - null null
2024-11-11 11:05:31.251 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:31.256 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:31.258 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:31.262 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:31.271 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__senderId_0='1', @__currentUserId_1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[ConversationID], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__senderId_0 AND [m].[ReceiverId] = @__currentUserId_1 AND [m].[IsRead] = CAST(0 AS bit)
2024-11-11 11:05:31.280 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__currentUserId_0='5', @__userId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-11 11:05:31.282 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:31.285 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 28.2818ms
2024-11-11 11:05:31.286 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:31.287 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=1 - 200 null application/json; charset=utf-8 41.8497ms
2024-11-11 11:05:31.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=1 - null null
2024-11-11 11:05:31.845 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:31.846 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:31.851 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:31.857 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='5', @__userId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-11 11:05:31.859 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:31.860 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 13.037ms
2024-11-11 11:05:31.861 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:31.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=1 - null null
2024-11-11 11:05:31.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=1 - 200 null application/json; charset=utf-8 19.2743ms
2024-11-11 11:05:31.864 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:31.866 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:31.872 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:31.878 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='5', @__userId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-11 11:05:31.879 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:31.880 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 11.2338ms
2024-11-11 11:05:31.881 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:31.882 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=1 - 200 null application/json; charset=utf-8 20.9642ms
2024-11-11 11:05:33.346 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=1 - null null
2024-11-11 11:05:33.353 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:33.354 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:33.360 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:33.370 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__currentUserId_0='5', @__userId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-11 11:05:33.373 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:33.374 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 17.4432ms
2024-11-11 11:05:33.374 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:33.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=1 - 200 null application/json; charset=utf-8 29.0285ms
2024-11-11 11:05:34.751 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=2 - null null
2024-11-11 11:05:34.754 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:34.755 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:34.755 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:34.758 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:34.763 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='5', @__userId_1='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-11 11:05:34.763 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__senderId_0='2', @__currentUserId_1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[ConversationID], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__senderId_0 AND [m].[ReceiverId] = @__currentUserId_1 AND [m].[IsRead] = CAST(0 AS bit)
2024-11-11 11:05:34.766 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:34.768 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 11.7558ms
2024-11-11 11:05:34.769 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:34.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=2 - 200 null application/json; charset=utf-8 18.5641ms
2024-11-11 11:05:34.840 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=2 - null null
2024-11-11 11:05:34.845 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:34.847 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:34.849 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:34.851 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='5', @__userId_1='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-11 11:05:34.852 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:34.853 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 5.4488ms
2024-11-11 11:05:34.854 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:34.854 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=2 - null null
2024-11-11 11:05:34.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=2 - 200 null application/json; charset=utf-8 14.364ms
2024-11-11 11:05:34.856 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:34.857 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:34.859 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:34.861 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='5', @__userId_1='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-11 11:05:34.862 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:34.862 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 4.583ms
2024-11-11 11:05:34.863 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:34.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=2 - 200 null application/json; charset=utf-8 9.3547ms
2024-11-11 11:05:36.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=2 - null null
2024-11-11 11:05:36.341 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:36.342 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:36.346 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:36.354 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__currentUserId_0='5', @__userId_1='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-11 11:05:36.356 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:05:36.356 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 13.2408ms
2024-11-11 11:05:36.357 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:36.357 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=2 - 200 null application/json; charset=utf-8 18.0251ms
2024-11-11 11:05:37.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs/Index - null null
2024-11-11 11:05:37.068 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:37.069 +02:00 [INF] Route matched with {action = "Index", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:37.082 +02:00 [INF] Found 31 log files
2024-11-11 11:05:37.085 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:05:37.092 +02:00 [INF] Executed ViewResult - view Index executed in 7.0421ms.
2024-11-11 11:05:37.093 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp) in 22.0593ms
2024-11-11 11:05:37.094 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:37.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs/Index - 200 null text/html; charset=utf-8 30.5549ms
2024-11-11 11:05:37.108 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-11 11:05:37.113 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='5', @p0='False', @p1='2024-11-11T09:05:37.1102961Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsOnline] = @p0, [LastSeen] = @p1
OUTPUT 1
WHERE [UserID] = @p2;
2024-11-11 11:05:37.118 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:05:37.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:05:37.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0414ms
2024-11-11 11:05:37.123 +02:00 [INF] Executed endpoint '/chatHub'
2024-11-11 11:05:37.127 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.422ms
2024-11-11 11:05:37.128 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/chatHub?id=dCCjZ3JDGtJ9gq9J_UktEA - 200 null null 8214.5893ms
2024-11-11 11:05:43.514 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs/Index - null null
2024-11-11 11:05:43.519 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:43.520 +02:00 [INF] Route matched with {action = "Index", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-11 11:05:43.522 +02:00 [INF] Found 31 log files
2024-11-11 11:05:43.523 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:05:43.525 +02:00 [INF] Executed ViewResult - view Index executed in 2.8045ms.
2024-11-11 11:05:43.526 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp) in 5.4618ms
2024-11-11 11:05:43.527 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:05:43.528 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs/Index - 200 null text/html; charset=utf-8 13.8576ms
2024-11-11 11:05:43.546 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:05:43.547 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:05:43.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1351ms
2024-11-11 11:05:43.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1367ms
2024-11-11 11:10:39.748 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs/ViewLog?logFileName=log-20241111.txt - null null
2024-11-11 11:10:39.826 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.ViewLog (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:39.863 +02:00 [INF] Route matched with {action = "ViewLog", controller = "Logs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewLog(System.String) on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-11 11:10:40.127 +02:00 [INF] Executing ViewResult, running view LogDetail.
2024-11-11 11:10:40.150 +02:00 [INF] Executed ViewResult - view LogDetail executed in 30.4431ms.
2024-11-11 11:10:40.151 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.ViewLog (Apptivate_UQMS_WebApp) in 285.9979ms
2024-11-11 11:10:40.151 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.ViewLog (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:40.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs/ViewLog?logFileName=log-20241111.txt - 200 null text/html; charset=utf-8 405.3981ms
2024-11-11 11:10:40.263 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:10:40.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:10:40.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.3734ms
2024-11-11 11:10:40.384 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 116.1889ms
2024-11-11 11:10:42.936 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 11:10:42.944 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:42.946 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:10:42.953 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 11:10:42.955 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 8.5044ms
2024-11-11 11:10:42.956 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:42.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 20.3653ms
2024-11-11 11:10:42.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:10:42.968 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:42.969 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:10:43.051 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:10:43.068 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:10:43.074 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:10:43.081 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:10:43.087 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 11:10:43.094 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 11:10:43.097 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 11:10:43.102 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 11:10:43.107 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 11:10:43.113 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 11:10:43.129 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 11:10:43.139 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:10:43.145 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:10:43.154 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:10:43.177 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 11:10:43.191 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T09:10:43.1812077Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:10:43.195 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 11:10:43.199 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 4.1444ms.
2024-11-11 11:10:43.200 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 230.2581ms
2024-11-11 11:10:43.201 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:43.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 240.4842ms
2024-11-11 11:10:43.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:10:43.327 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 11:10:43.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9602ms
2024-11-11 11:10:43.336 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 11:10:43.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 11:10:43.342 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 11:10:43.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:10:43.345 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-11 11:10:43.348 +02:00 [INF] The file /js/AdminCharts.js was not modified
2024-11-11 11:10:43.353 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 25.5822ms
2024-11-11 11:10:43.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 13.1228ms
2024-11-11 11:10:43.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 15.9789ms
2024-11-11 11:10:43.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 304 null text/javascript 19.6616ms
2024-11-11 11:10:43.361 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 11:10:43.363 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 11:10:43.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.8441ms
2024-11-11 11:10:43.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 11:10:43.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 11:10:43.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 11:10:43.625 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:43.627 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:43.628 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:10:43.628 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:43.629 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:10:43.632 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:10:43.647 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='2024-10-12T09:10:43.6322982Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:10:43.652 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:10:43.652 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-12T09:10:43.6345164Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 11:10:43.660 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:10:43.661 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 29.6986ms
2024-11-11 11:10:43.662 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 28.8714ms
2024-11-11 11:10:43.663 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:43.664 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:43.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 45.5607ms
2024-11-11 11:10:43.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 46.4804ms
2024-11-11 11:10:43.709 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='2023-12-11T11:10:43.6362690+02:00' (Nullable = true), @__endDate_1='2024-11-11T11:10:43.6362690+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 11:10:43.717 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 11:10:43.719 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 11:10:43.723 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 87.6918ms
2024-11-11 11:10:43.725 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:10:43.726 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 106.1742ms
2024-11-11 11:15:25.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/clear-browser-cache - null null
2024-11-11 11:15:25.782 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/clear-browser-cache - 200 0 null 5.3454ms
2024-11-11 11:15:25.905 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css?nonce=1731316525898 - null null
2024-11-11 11:15:25.905 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?nonce=1731316525898 - null null
2024-11-11 11:15:25.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?nonce=1731316525898 - null null
2024-11-11 11:15:25.913 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-11 11:15:25.914 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-11 11:15:25.914 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?nonce=1731316525898 - 200 998 text/css 9.2524ms
2024-11-11 11:15:25.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?nonce=1731316525898 - 200 10213 text/css 9.308ms
2024-11-11 11:15:25.917 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-11 11:15:25.919 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css?nonce=1731316525898 - null null
2024-11-11 11:15:25.919 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css?nonce=1731316525900 - null null
2024-11-11 11:15:25.919 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css?nonce=1731316525898 - 200 162726 text/css 14.3511ms
2024-11-11 11:15:25.923 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-11 11:15:25.924 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-11 11:15:25.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css?nonce=1731316525898 - 200 4416 text/css 6.4888ms
2024-11-11 11:15:25.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css?nonce=1731316525900 - 200 404 text/css 7.0453ms
2024-11-11 11:15:25.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css?nonce=1731316525902 - null null
2024-11-11 11:15:25.983 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-11 11:15:25.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css?nonce=1731316525902 - 200 2584 text/css 4.1679ms
2024-11-11 11:15:25.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css?nonce=1731316525902 - null null
2024-11-11 11:15:25.990 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-11 11:15:25.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css?nonce=1731316525902 - 200 404 text/css 3.9649ms
2024-11-11 11:17:31.663 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:17:31.843 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:17:31.844 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:17:31.847 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:17:31.848 +02:00 [INF] Hosting environment: Development
2024-11-11 11:17:31.848 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:17:32.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:17:32.473 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:32.487 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:32.645 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:17:32.646 +02:00 [ERR] User not logged in.
2024-11-11 11:17:32.656 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-11 11:17:32.660 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 167.6397ms
2024-11-11 11:17:32.676 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:32.685 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 646.7472ms
2024-11-11 11:17:32.748 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-11 11:17:32.786 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:32.797 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:34.214 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 11:17:34.839 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 11:17:34.901 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:17:34.904 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 11:17:34.907 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-11 11:17:34.909 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2088.4056ms
2024-11-11 11:17:34.910 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:34.912 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:5271650f-f16c-9226-39c9-d2d4a86f6fed
2024-11-11 11:17:34.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2169.5518ms
2024-11-11 11:17:34.918 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-11 11:17:34.923 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:34.925 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:34.928 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 11:17:34.929 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.6365ms
2024-11-11 11:17:34.930 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:34.930 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 11.7134ms
2024-11-11 11:17:34.934 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:17:34.938 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:34.939 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:35.010 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:17:35.032 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:17:35.046 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:17:35.072 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:17:35.103 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 11:17:35.124 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 11:17:35.130 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 11:17:35.141 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 11:17:35.147 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 11:17:35.154 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 11:17:35.201 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 11:17:35.226 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:17:35.232 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:17:35.241 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:17:35.275 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 11:17:35.308 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T09:17:35.2882765Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:17:35.320 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 11:17:35.394 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 76.9615ms.
2024-11-11 11:17:35.397 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 456.9329ms
2024-11-11 11:17:35.398 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:35.400 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 465.6916ms
2024-11-11 11:17:35.451 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-11 11:17:35.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 11:17:35.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 11:17:35.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-11 11:17:35.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-11 11:17:35.456 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-11 11:17:35.457 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-11 11:17:35.479 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-11 11:17:35.479 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-11 11:17:35.479 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-11 11:17:35.479 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-11 11:17:35.479 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-11 11:17:35.481 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 26.4444ms
2024-11-11 11:17:35.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 27.7202ms
2024-11-11 11:17:35.482 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-11 11:17:35.482 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-11 11:17:35.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 30.8844ms
2024-11-11 11:17:35.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 200 10213 text/css 32.1461ms
2024-11-11 11:17:35.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 30.8555ms
2024-11-11 11:17:35.493 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 36.0641ms
2024-11-11 11:17:35.493 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-11 11:17:35.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 43.093ms
2024-11-11 11:17:35.497 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Users.png - null null
2024-11-11 11:17:35.497 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 11:17:35.498 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-11 11:17:35.508 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-11 11:17:35.510 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - null null
2024-11-11 11:17:35.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - null null
2024-11-11 11:17:35.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 11:17:35.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 11:17:35.512 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/notification.js - null null
2024-11-11 11:17:35.513 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/toast.js - null null
2024-11-11 11:17:35.519 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-11 11:17:35.519 +02:00 [INF] Sending file. Request path: '/Images/Users.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Users.png'
2024-11-11 11:17:35.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 26.6961ms
2024-11-11 11:17:35.525 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-11 11:17:35.525 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:17:35.527 +02:00 [INF] Sending file. Request path: '/js/responseTimeChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\responseTimeChart.js'
2024-11-11 11:17:35.542 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - 200 3518 text/javascript 30.8385ms
2024-11-11 11:17:35.532 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 20.4384ms
2024-11-11 11:17:35.532 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 200 2584 text/css 34.515ms
2024-11-11 11:17:35.532 +02:00 [INF] Sending file. Request path: '/js/toast.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\toast.js'
2024-11-11 11:17:35.533 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Users.png - 200 874 image/png 36.4299ms
2024-11-11 11:17:35.536 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 38.125ms
2024-11-11 11:17:35.537 +02:00 [INF] Sending file. Request path: '/js/resolutionRateChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\resolutionRateChart.js'
2024-11-11 11:17:35.530 +02:00 [INF] Sending file. Request path: '/js/notification.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\notification.js'
2024-11-11 11:17:35.544 +02:00 [INF] Sending file. Request path: '/js/AdminCharts.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\AdminCharts.js'
2024-11-11 11:17:35.545 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-11 11:17:35.546 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 11:17:35.548 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-11 11:17:35.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/toast.js - 200 2875 text/javascript 35.8702ms
2024-11-11 11:17:35.550 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-11 11:17:35.552 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-11 11:17:35.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - 200 5754 text/javascript 42.6024ms
2024-11-11 11:17:35.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/notification.js - 200 2580 text/javascript 41.5488ms
2024-11-11 11:17:35.554 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 200 4242 text/javascript 42.9397ms
2024-11-11 11:17:35.558 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/log.png - null null
2024-11-11 11:17:35.559 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-11 11:17:35.560 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-11 11:17:35.560 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 11:17:35.564 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-11 11:17:35.565 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-11 11:17:35.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:17:35.567 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-11 11:17:35.570 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 44.2089ms
2024-11-11 11:17:35.577 +02:00 [INF] Sending file. Request path: '/Images/log.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\log.png'
2024-11-11 11:17:35.578 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-11 11:17:35.582 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-11 11:17:35.582 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 32.115ms
2024-11-11 11:17:35.583 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 30.4437ms
2024-11-11 11:17:35.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 24.0934ms
2024-11-11 11:17:35.587 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-11 11:17:35.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/log.png - 200 424 image/png 32.2386ms
2024-11-11 11:17:35.593 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 33.4402ms
2024-11-11 11:17:35.594 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 33.7205ms
2024-11-11 11:17:35.596 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-11 11:17:35.599 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-11 11:17:35.601 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 11:17:35.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 34.5018ms
2024-11-11 11:17:35.609 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 61.0811ms
2024-11-11 11:17:35.610 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 64.9324ms
2024-11-11 11:17:35.619 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.5235ms
2024-11-11 11:17:35.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-11 11:17:35.692 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-11 11:17:35.694 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 8.3802ms
2024-11-11 11:17:35.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 11:17:35.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 11:17:35.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 11:17:35.816 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:35.818 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:35.819 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:35.826 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:35.830 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:35.830 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:35.889 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__startDate_0='2024-10-12T09:17:35.8454894Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:17:35.893 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:17:35.898 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-12T09:17:35.8473429Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 11:17:35.904 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:17:35.906 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2023-12-11T11:17:35.8321605+02:00' (Nullable = true), @__endDate_1='2024-11-11T11:17:35.8321605+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 11:17:35.913 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 11:17:35.914 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 82.0808ms
2024-11-11 11:17:35.914 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 81.0772ms
2024-11-11 11:17:35.915 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:35.915 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 11:17:35.915 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:35.916 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 103.1079ms
2024-11-11 11:17:35.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 104.326ms
2024-11-11 11:17:35.924 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 95.2761ms
2024-11-11 11:17:35.925 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:35.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 113.1848ms
2024-11-11 11:17:36.173 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-11 11:17:36.180 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-11 11:17:36.181 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 8.4339ms
2024-11-11 11:17:38.937 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-11 11:17:38.944 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:38.947 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:38.950 +02:00 [INF] User logged out.
2024-11-11 11:17:38.952 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-11 11:17:38.952 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 3.7458ms
2024-11-11 11:17:38.953 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:38.954 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 17.8324ms
2024-11-11 11:17:38.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-11 11:17:38.964 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:17:38.965 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:17:38.965 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:38.966 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:17:38.969 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 11:17:38.990 +02:00 [INF] Executed ViewResult - view Login executed in 21.5463ms.
2024-11-11 11:17:38.992 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 25.0133ms
2024-11-11 11:17:38.993 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:17:38.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 33.4584ms
2024-11-11 11:17:39.022 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-11 11:17:39.026 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:17:39.030 +02:00 [INF] Sending file. Request path: '/css/Login.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Login.css'
2024-11-11 11:17:39.031 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-11 11:17:39.031 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:17:39.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 200 7241 text/css 9.4599ms
2024-11-11 11:17:39.034 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:17:39.034 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:17:39.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.1623ms
2024-11-11 11:17:39.042 +02:00 [INF] Sending file. Request path: '/js/login.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\login.js'
2024-11-11 11:17:39.047 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 200 5413 text/javascript 16.1046ms
2024-11-11 11:17:39.054 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.4928ms
2024-11-11 11:17:39.065 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Aptivate_background.png - null null
2024-11-11 11:17:39.067 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:17:39.070 +02:00 [INF] Sending file. Request path: '/Images/Aptivate_background.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Aptivate_background.png'
2024-11-11 11:17:39.071 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Aptivate_background.png - 200 77509 image/png 6.1347ms
2024-11-11 11:17:43.701 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:17:43.708 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:17:43.712 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-11 11:17:43.716 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:17:43.718 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 401 0 null 16.7855ms
2024-11-11 11:17:50.154 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:17:50.209 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:17:50.211 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-11 11:17:50.213 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:17:50.214 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 401 0 null 60.5945ms
2024-11-11 11:18:36.001 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:18:36.100 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:18:36.102 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:18:36.105 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:18:36.106 +02:00 [INF] Hosting environment: Development
2024-11-11 11:18:36.108 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:18:36.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:18:36.849 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:36.853 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:36.856 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:36.863 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:18:36.869 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:18:36.951 +02:00 [INF] Executed ViewResult - view Index executed in 82.081ms.
2024-11-11 11:18:36.961 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 96.733ms
2024-11-11 11:18:36.963 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:36.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 210.6442ms
2024-11-11 11:18:36.986 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:18:36.986 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:18:36.986 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - null null
2024-11-11 11:18:36.993 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.283ms
2024-11-11 11:18:36.997 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:37.020 +02:00 [INF] Sending file. Request path: '/css/LnadingPageStyles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\LnadingPageStyles.css'
2024-11-11 11:18:37.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - 200 3263 text/css 35.6267ms
2024-11-11 11:18:37.031 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.1229ms
2024-11-11 11:18:37.046 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - null null
2024-11-11 11:18:37.054 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:37.062 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:37.063 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - 404 0 null 17.6242ms
2024-11-11 11:18:37.066 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/1920/1080, Response status code: 404
2024-11-11 11:18:49.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-11 11:18:49.231 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:49.239 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-11 11:18:49.241 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:18:49.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 401 0 null 15.3658ms
2024-11-11 11:18:50.487 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:18:50.491 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:50.492 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:50.493 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:50.494 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:18:50.498 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:18:50.501 +02:00 [INF] Executed ViewResult - view Index executed in 3.2983ms.
2024-11-11 11:18:50.504 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 6.2188ms
2024-11-11 11:18:50.505 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:50.506 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 19.3427ms
2024-11-11 11:18:50.533 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:18:50.535 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2313ms
2024-11-11 11:18:51.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/Chats - null null
2024-11-11 11:18:51.447 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:51.449 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-11 11:18:51.450 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:18:51.450 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/Chats - 401 0 null 7.6442ms
2024-11-11 11:18:52.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:18:52.196 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:52.197 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:52.198 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:52.198 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:18:52.199 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:18:52.201 +02:00 [INF] Executed ViewResult - view Index executed in 2.2662ms.
2024-11-11 11:18:52.202 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 3.2143ms
2024-11-11 11:18:52.205 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:52.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 14.3547ms
2024-11-11 11:18:52.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:18:52.276 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0015ms
2024-11-11 11:18:53.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/UserProfile - null null
2024-11-11 11:18:53.672 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:53.674 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:53.675 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.UserProfile (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:53.680 +02:00 [INF] Route matched with {action = "UserProfile", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserProfile() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:18:53.759 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:18:53.761 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-11 11:18:53.762 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.UserProfile (Apptivate_UQMS_WebApp) in 80.276ms
2024-11-11 11:18:53.763 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.UserProfile (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:53.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/UserProfile - 302 0 null 98.5081ms
2024-11-11 11:18:53.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-11 11:18:53.771 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:53.771 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:53.772 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:53.775 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:18:53.782 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 11:18:53.802 +02:00 [INF] Executed ViewResult - view Login executed in 20.702ms.
2024-11-11 11:18:53.804 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 28.401ms
2024-11-11 11:18:53.805 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:53.807 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 39.8836ms
2024-11-11 11:18:53.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:18:53.832 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.9386ms
2024-11-11 11:18:53.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:18:53.848 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.3554ms
2024-11-11 11:18:55.385 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:18:55.390 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:55.391 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:18:55.392 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:55.393 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:18:55.394 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:18:55.398 +02:00 [INF] Executed ViewResult - view Index executed in 3.8545ms.
2024-11-11 11:18:55.399 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 4.5904ms
2024-11-11 11:18:55.400 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:18:55.401 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 16.4285ms
2024-11-11 11:18:55.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:18:55.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7328ms
2024-11-11 11:20:19.363 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:20:19.495 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:20:19.497 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:20:19.500 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:20:19.502 +02:00 [INF] Hosting environment: Development
2024-11-11 11:20:19.504 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:20:19.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:20:19.928 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:20:19.932 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:20:19.935 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:20:19.943 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:20:19.952 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:20:20.040 +02:00 [INF] Executed ViewResult - view Index executed in 90.9966ms.
2024-11-11 11:20:20.047 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 102.2123ms
2024-11-11 11:20:20.049 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:20:20.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 228.6728ms
2024-11-11 11:20:20.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - null null
2024-11-11 11:20:20.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:20:20.065 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:20:20.072 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:20:20.073 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.4998ms
2024-11-11 11:20:20.078 +02:00 [INF] The file /css/LnadingPageStyles.css was not modified
2024-11-11 11:20:20.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - 304 null text/css 17.0462ms
2024-11-11 11:20:20.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.0896ms
2024-11-11 11:21:03.263 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:21:03.360 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:21:03.361 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:21:03.363 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:21:03.364 +02:00 [INF] Hosting environment: Development
2024-11-11 11:21:03.364 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:21:03.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:21:03.964 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:03.969 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:03.971 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:21:03.977 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:21:03.983 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:21:04.032 +02:00 [INF] Executed ViewResult - view Index executed in 48.5088ms.
2024-11-11 11:21:04.039 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 60.9718ms
2024-11-11 11:21:04.041 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:21:04.047 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 156.9503ms
2024-11-11 11:21:04.052 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - null null
2024-11-11 11:21:04.052 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:21:04.059 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:04.060 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.0615ms
2024-11-11 11:21:04.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:21:04.065 +02:00 [INF] The file /css/LnadingPageStyles.css was not modified
2024-11-11 11:21:04.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - 304 null text/css 15.4144ms
2024-11-11 11:21:04.081 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - null null
2024-11-11 11:21:04.086 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:04.088 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.695ms
2024-11-11 11:21:04.090 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:04.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - 404 0 null 11.9989ms
2024-11-11 11:21:04.095 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/1920/1080, Response status code: 404
2024-11-11 11:21:11.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/login - null null
2024-11-11 11:21:11.823 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:11.825 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:11.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/login - 404 0 null 10.4537ms
2024-11-11 11:21:11.828 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/login, Response status code: 404
2024-11-11 11:21:13.115 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:21:13.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3065ms
2024-11-11 11:21:24.649 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/register - null null
2024-11-11 11:21:24.656 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:24.658 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:21:24.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/register - 404 0 null 9.7709ms
2024-11-11 11:21:24.661 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/register, Response status code: 404
2024-11-11 11:21:26.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:21:26.236 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.729ms
2024-11-11 11:23:16.663 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-11 11:23:16.679 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:23:16.691 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Staff)
2024-11-11 11:23:16.701 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-11 11:23:16.704 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 401 0 null 41.2822ms
2024-11-11 11:23:18.183 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:23:18.186 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.265ms
2024-11-11 11:28:30.626 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css?__browserLink_refresh=ed3439cca5e645cb8c0e5f0bdbd9e982 - null null
2024-11-11 11:28:30.637 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:28:30.745 +02:00 [INF] Sending file. Request path: '/css/LnadingPageStyles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\LnadingPageStyles.css'
2024-11-11 11:28:30.746 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css?__browserLink_refresh=ed3439cca5e645cb8c0e5f0bdbd9e982 - 200 3413 text/css 120.3356ms
2024-11-11 11:28:34.072 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - null null
2024-11-11 11:28:34.080 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:28:34.086 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:28:34.089 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - 404 0 null 17.1418ms
2024-11-11 11:28:34.094 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/1920/1080, Response status code: 404
2024-11-11 11:29:37.177 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:29:37.294 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:29:37.295 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:29:37.300 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:29:37.302 +02:00 [INF] Hosting environment: Development
2024-11-11 11:29:37.303 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:29:37.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:29:37.913 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:37.918 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:37.921 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:29:37.928 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:29:37.936 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:29:37.996 +02:00 [INF] Executed ViewResult - view Index executed in 61.9517ms.
2024-11-11 11:29:38.004 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 74.6464ms
2024-11-11 11:29:38.006 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:29:38.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 186.0099ms
2024-11-11 11:29:38.021 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - null null
2024-11-11 11:29:38.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:29:38.025 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:29:38.029 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:38.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.8539ms
2024-11-11 11:29:38.039 +02:00 [INF] Sending file. Request path: '/css/LnadingPageStyles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\LnadingPageStyles.css'
2024-11-11 11:29:38.040 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - 200 3413 text/css 19.0867ms
2024-11-11 11:29:38.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - null null
2024-11-11 11:29:38.059 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.5564ms
2024-11-11 11:29:38.062 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:38.067 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:38.070 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - 404 0 null 15.7662ms
2024-11-11 11:29:38.073 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/1920/1080, Response status code: 404
2024-11-11 11:29:49.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:29:49.078 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.080 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.082 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:29:49.084 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:29:49.087 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:29:49.090 +02:00 [INF] Executed ViewResult - view Index executed in 4.185ms.
2024-11-11 11:29:49.092 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 6.2254ms
2024-11-11 11:29:49.093 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:29:49.095 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 25.0847ms
2024-11-11 11:29:49.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-11 11:29:49.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 11:29:49.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 11:29:49.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - null null
2024-11-11 11:29:49.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:29:49.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-11 11:29:49.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-11 11:29:49.118 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-11 11:29:49.118 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.120 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.122 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.125 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:29:49.127 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.129 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.130 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 18.6435ms
2024-11-11 11:29:49.137 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-11 11:29:49.144 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-11 11:29:49.137 +02:00 [INF] Sending file. Request path: '/css/LnadingPageStyles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\LnadingPageStyles.css'
2024-11-11 11:29:49.137 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-11 11:29:49.137 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-11 11:29:49.144 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-11 11:29:49.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 27.2318ms
2024-11-11 11:29:49.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.9364ms
2024-11-11 11:29:49.146 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 28.1321ms
2024-11-11 11:29:49.146 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - 200 3413 text/css 29.1235ms
2024-11-11 11:29:49.147 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-11 11:29:49.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 200 10213 text/css 31.4999ms
2024-11-11 11:29:49.150 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 32.6401ms
2024-11-11 11:29:49.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 34.7801ms
2024-11-11 11:29:49.159 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-11 11:29:49.162 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 48.8522ms
2024-11-11 11:29:49.170 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.172 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-11 11:29:49.173 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 14.3025ms
2024-11-11 11:29:49.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - null null
2024-11-11 11:29:49.468 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.472 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/1920/1080 - 404 0 null 10.3507ms
2024-11-11 11:29:49.476 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/1920/1080, Response status code: 404
2024-11-11 11:29:49.521 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-11 11:29:49.525 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:29:49.528 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-11 11:29:49.530 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 8.1845ms
2024-11-11 11:31:14.320 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:31:14.416 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:31:14.419 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:31:14.422 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:31:14.422 +02:00 [INF] Hosting environment: Development
2024-11-11 11:31:14.423 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:31:14.490 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:31:14.562 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:31:14.567 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:31:14.569 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:31:14.576 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:31:14.583 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:31:14.625 +02:00 [INF] Executed ViewResult - view Index executed in 43.8737ms.
2024-11-11 11:31:14.631 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 54.6778ms
2024-11-11 11:31:14.633 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:31:14.637 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 147.593ms
2024-11-11 11:31:14.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:31:14.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - null null
2024-11-11 11:31:14.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:31:14.652 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.5039ms
2024-11-11 11:31:14.655 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:31:14.659 +02:00 [INF] The file /css/LnadingPageStyles.css was not modified
2024-11-11 11:31:14.661 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - 304 null text/css 12.8818ms
2024-11-11 11:31:14.675 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0052ms
2024-11-11 11:31:29.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/login - null null
2024-11-11 11:31:29.387 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:31:29.391 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:31:29.391 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/login - 404 0 null 11.6297ms
2024-11-11 11:31:29.394 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/login, Response status code: 404
2024-11-11 11:31:30.741 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:31:30.746 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.4942ms
2024-11-11 11:33:59.896 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 11:33:59.999 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 11:34:00.001 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 11:34:00.005 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 11:34:00.007 +02:00 [INF] Hosting environment: Development
2024-11-11 11:34:00.008 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 11:34:00.669 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 11:34:00.780 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:00.785 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:00.788 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:00.799 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-11 11:34:00.808 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 11:34:00.874 +02:00 [INF] Executed ViewResult - view Index executed in 67.8736ms.
2024-11-11 11:34:00.882 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 81.6508ms
2024-11-11 11:34:00.883 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:00.890 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 221.6695ms
2024-11-11 11:34:00.897 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:34:00.897 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - null null
2024-11-11 11:34:00.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.4254ms
2024-11-11 11:34:00.905 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:00.909 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:34:00.912 +02:00 [INF] The file /css/LnadingPageStyles.css was not modified
2024-11-11 11:34:00.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - 304 null text/css 18.1594ms
2024-11-11 11:34:00.958 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.9028ms
2024-11-11 11:34:07.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-11 11:34:07.516 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:07.517 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:07.518 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:07.526 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:34:07.668 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 11:34:07.713 +02:00 [INF] Executed ViewResult - view Login executed in 46.1716ms.
2024-11-11 11:34:07.715 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 187.6652ms
2024-11-11 11:34:07.716 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:07.719 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 211.3502ms
2024-11-11 11:34:07.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:34:07.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:34:07.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5115ms
2024-11-11 11:34:07.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.3664ms
2024-11-11 11:34:11.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:34:11.401 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6578ms
2024-11-11 11:34:13.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-11 11:34:13.417 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:13.418 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:13.418 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:13.419 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:34:13.428 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 11:34:13.430 +02:00 [INF] Executed ViewResult - view Login executed in 2.1649ms.
2024-11-11 11:34:13.431 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 11.3301ms
2024-11-11 11:34:13.433 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:13.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 22.7204ms
2024-11-11 11:34:13.451 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:34:13.452 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:34:13.453 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7684ms
2024-11-11 11:34:13.468 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.9976ms
2024-11-11 11:34:15.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:34:15.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.9055ms
2024-11-11 11:34:45.019 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-11 11:34:45.023 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:45.024 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:45.025 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:45.025 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:34:45.029 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 11:34:45.031 +02:00 [INF] Executed ViewResult - view Login executed in 2.2045ms.
2024-11-11 11:34:45.032 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 5.6058ms
2024-11-11 11:34:45.033 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:45.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 14.8365ms
2024-11-11 11:34:45.051 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:34:45.053 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:34:45.053 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0256ms
2024-11-11 11:34:45.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.2561ms
2024-11-11 11:34:56.973 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Login - application/x-www-form-urlencoded 224
2024-11-11 11:34:56.978 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:56.979 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-11 11:34:56.979 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:34:57.002 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 11:34:57.045 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-11 11:34:57.069 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-11 11:34:57.075 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-11 11:34:57.635 +02:00 [INF] Received HTTP response headers after 556.6446ms - 200
2024-11-11 11:34:57.638 +02:00 [INF] End processing HTTP request after 571.2823ms - 200
2024-11-11 11:34:57.642 +02:00 [INF] User logged in successfully.
2024-11-11 11:34:59.482 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 11:35:00.469 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 11:35:00.743 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p1='5', @p0='2024-11-11T09:35:00.6038085Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-11 11:35:00.765 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 11:35:00.767 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-11 11:35:00.769 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 11:35:00.770 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3767.1627ms
2024-11-11 11:35:00.771 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:00.773 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:d8003edf-bd0d-3aa2-ff66-9050d4cd7bc8
2024-11-11 11:35:00.782 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Login - 302 0 null 3809.1011ms
2024-11-11 11:35:00.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 11:35:01.094 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:01.100 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:35:01.232 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:35:01.265 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 11:35:01.278 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:35:01.304 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 11:35:01.346 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 11:35:01.369 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 11:35:01.381 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 11:35:01.396 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 11:35:01.406 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 11:35:01.413 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 11:35:01.474 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 11:35:01.511 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:35:01.516 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:35:01.528 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:35:01.574 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 11:35:01.613 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T09:35:01.5853258Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:35:01.628 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 11:35:01.679 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 52.1421ms.
2024-11-11 11:35:01.681 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 579.1992ms
2024-11-11 11:35:01.683 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:01.684 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 897.3905ms
2024-11-11 11:35:01.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 11:35:01.729 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 11:35:01.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-11 11:35:01.733 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 11:35:01.733 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 11:35:01.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 11:35:01.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 36.8011ms
2024-11-11 11:35:01.764 +02:00 [INF] The file /js/AdminCharts.js was not modified
2024-11-11 11:35:01.778 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 304 null text/javascript 46.0395ms
2024-11-11 11:35:01.758 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 29.5651ms
2024-11-11 11:35:01.772 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 39.1556ms
2024-11-11 11:35:01.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.7283ms
2024-11-11 11:35:01.777 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 11:35:01.764 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-11 11:35:01.785 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 11:35:01.789 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 59.7112ms
2024-11-11 11:35:01.946 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 11:35:01.946 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 11:35:01.946 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 11:35:01.953 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:01.954 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:01.953 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:01.959 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:35:01.961 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:35:01.962 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 11:35:02.062 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='2024-10-12T09:35:01.9704215Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 11:35:02.067 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:35:02.078 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2024-10-12T09:35:01.9716546Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 11:35:02.085 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__startDate_0='2023-12-11T11:35:01.9675009+02:00' (Nullable = true), @__endDate_1='2024-11-11T11:35:01.9675009+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-11 11:35:02.096 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 11:35:02.101 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 138.4669ms
2024-11-11 11:35:02.102 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:02.103 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-11 11:35:02.103 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 142.3721ms
2024-11-11 11:35:02.108 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:02.110 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 164.1169ms
2024-11-11 11:35:02.110 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 11:35:02.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 157.8704ms
2024-11-11 11:35:02.124 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 159.1838ms
2024-11-11 11:35:02.125 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 11:35:02.126 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 180.1711ms
