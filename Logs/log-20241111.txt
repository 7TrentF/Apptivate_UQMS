2024-11-11 09:50:30.805 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 09:50:31.517 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 09:50:31.652 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 09:50:31.687 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 09:50:31.703 +02:00 [INF] Hosting environment: Development
2024-11-11 09:50:31.720 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 09:50:33.471 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 09:50:38.536 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311438.
2024-11-11 09:50:38.544 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311438.
2024-11-11 09:50:38.548 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:50:38.573 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 09:50:39.098 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.120 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 09:50:39.621 +02:00 [INF] Executed ViewResult - view Login executed in 513.8341ms.
2024-11-11 09:50:39.661 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1084.6415ms
2024-11-11 09:50:39.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 09:50:39.702 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:50:39.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 09:50:39.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 09:50:39.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-11 09:50:39.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-11 09:50:39.719 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 19.0649ms
2024-11-11 09:50:39.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 09:50:39.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 6266.3204ms
2024-11-11 09:50:39.744 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.744 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.746 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.753 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311439.
2024-11-11 09:50:39.781 +02:00 [INF] The file /css/site.css was not modified
2024-11-11 09:50:39.781 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-11 09:50:39.783 +02:00 [INF] The file /css/Login.css was not modified
2024-11-11 09:50:39.784 +02:00 [INF] The file /js/login.js was not modified
2024-11-11 09:50:39.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 97.6956ms
2024-11-11 09:50:39.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 304 null text/css 83.3094ms
2024-11-11 09:50:39.788 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 84.864ms
2024-11-11 09:50:39.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 304 null text/css 82.4205ms
2024-11-11 09:50:39.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 164.1788ms
2024-11-11 09:54:32.339 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 09:54:32.806 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 09:54:32.828 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 09:54:32.835 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 09:54:32.839 +02:00 [INF] Hosting environment: Development
2024-11-11 09:54:32.840 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 09:54:34.950 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 09:54:35.510 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311675.
2024-11-11 09:54:35.519 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311675.
2024-11-11 09:54:35.523 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:54:35.559 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 09:54:35.861 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731065791. Expected to be greater than 1731311675.
2024-11-11 09:54:35.881 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-11 09:54:36.118 +02:00 [INF] Executed ViewResult - view Login executed in 245.9ms.
2024-11-11 09:54:36.130 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 565.3503ms
2024-11-11 09:54:36.133 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:54:36.150 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1204.3482ms
2024-11-11 09:54:36.151 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-11 09:54:36.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-11 09:54:36.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-11 09:54:36.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-11 09:54:36.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - null null
2024-11-11 09:54:36.167 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 09:54:36.187 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-11 09:54:36.214 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-11 09:54:36.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-11 09:54:36.219 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.228 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.231 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 09:54:36.237 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.248 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.251 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.298 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-11 09:54:36.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 98.6057ms
2024-11-11 09:54:36.268 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-11 09:54:36.261 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-11 09:54:36.361 +02:00 [INF] Sending file. Request path: '/js/login.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\login.js'
2024-11-11 09:54:36.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 200 5413 text/javascript 202.063ms
2024-11-11 09:54:36.363 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=0y9_6wueCraVz4ynO7J42x1FtexlMJ4zX5Vi0NQ8vIQ - 200 10213 text/css 196.1329ms
2024-11-11 09:54:36.364 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-11 09:54:36.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 225.1736ms
2024-11-11 09:54:36.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 142.3133ms
2024-11-11 09:54:36.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 201.243ms
2024-11-11 09:54:36.378 +02:00 [INF] Sending file. Request path: '/css/Login.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Login.css'
2024-11-11 09:54:36.410 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-11 09:54:36.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-11 09:54:36.563 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 325.9509ms
2024-11-11 09:54:36.564 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-11 09:54:36.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 381.577ms
2024-11-11 09:54:36.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 200 7241 text/css 431.266ms
2024-11-11 09:54:36.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 401.4592ms
2024-11-11 09:54:36.603 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.647 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-11 09:54:36.649 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 230.1603ms
2024-11-11 09:54:36.692 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Aptivate_background.png - null null
2024-11-11 09:54:36.701 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311676.
2024-11-11 09:54:36.926 +02:00 [INF] Sending file. Request path: '/Images/Aptivate_background.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Aptivate_background.png'
2024-11-11 09:54:37.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Aptivate_background.png - 200 77509 image/png 337.7243ms
2024-11-11 09:55:42.788 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-11 09:55:42.799 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311742.
2024-11-11 09:55:42.802 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731065791. Expected to be greater than 1731311742.
2024-11-11 09:55:42.804 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:42.831 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 09:55:42.875 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-11 09:55:42.895 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-11 09:55:42.899 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-11 09:55:43.615 +02:00 [INF] Received HTTP response headers after 711.4389ms - 200
2024-11-11 09:55:43.618 +02:00 [INF] End processing HTTP request after 723.651ms - 200
2024-11-11 09:55:43.621 +02:00 [INF] User logged in successfully.
2024-11-11 09:55:45.591 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 09:55:46.548 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 09:55:46.800 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p1='5', @p0='2024-11-11T07:55:46.6932145Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-11 09:55:46.821 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 09:55:46.822 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-11 09:55:46.826 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 09:55:46.828 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3994.2194ms
2024-11-11 09:55:46.829 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:46.831 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a519b21f-1860-0a7d-3876-7cf439422d6e
2024-11-11 09:55:46.840 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 09:55:46.840 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 4052.3579ms
2024-11-11 09:55:47.202 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:47.210 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 09:55:47.332 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 09:55:47.364 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 09:55:47.382 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 09:55:47.417 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 09:55:47.455 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 09:55:47.482 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 09:55:47.496 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 09:55:47.513 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 09:55:47.525 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 09:55:47.535 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 09:55:47.604 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 09:55:47.644 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:47.652 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:47.665 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:47.722 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 09:55:47.776 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__startDate_0='2024-10-12T07:55:47.7390536Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:47.798 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 09:55:47.921 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 123.7996ms.
2024-11-11 09:55:47.922 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 709.1523ms
2024-11-11 09:55:47.923 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:47.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1083.9039ms
2024-11-11 09:55:47.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-11 09:55:47.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-11 09:55:47.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-11 09:55:47.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-11 09:55:47.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-11 09:55:47.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-11 09:55:47.980 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-11 09:55:47.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Users.png - null null
2024-11-11 09:55:47.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - null null
2024-11-11 09:55:47.986 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - null null
2024-11-11 09:55:47.986 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 09:55:47.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/notification.js - null null
2024-11-11 09:55:47.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/toast.js - null null
2024-11-11 09:55:47.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 09:55:47.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-11 09:55:48.079 +02:00 [INF] Sending file. Request path: '/js/resolutionRateChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\resolutionRateChart.js'
2024-11-11 09:55:47.991 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/log.png - null null
2024-11-11 09:55:47.991 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - null null
2024-11-11 09:55:47.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-11 09:55:47.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-11 09:55:47.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 09:55:47.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 09:55:47.993 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-11 09:55:47.995 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-11 09:55:47.997 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-11 09:55:48.013 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-11 09:55:48.021 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-11 09:55:48.022 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-11 09:55:48.030 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-11 09:55:48.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 200 1605 text/css 140.2569ms
2024-11-11 09:55:48.049 +02:00 [INF] Sending file. Request path: '/Images/Users.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Users.png'
2024-11-11 09:55:48.073 +02:00 [INF] Sending file. Request path: '/js/responseTimeChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\responseTimeChart.js'
2024-11-11 09:55:48.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 90.5902ms
2024-11-11 09:55:47.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pie-chart.png - null null
2024-11-11 09:55:48.081 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-11 09:55:48.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - 200 5754 text/javascript 96.9108ms
2024-11-11 09:55:48.089 +02:00 [INF] Sending file. Request path: '/js/notification.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\notification.js'
2024-11-11 09:55:48.140 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/notification.js - 200 2580 text/javascript 152.8363ms
2024-11-11 09:55:48.111 +02:00 [INF] Sending file. Request path: '/svgs/table-alt.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\table-alt.svg'
2024-11-11 09:55:48.111 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-11 09:55:48.111 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-11 09:55:48.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 120.8082ms
2024-11-11 09:55:48.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 156.9147ms
2024-11-11 09:55:48.115 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 151.3268ms
2024-11-11 09:55:48.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 137.8742ms
2024-11-11 09:55:48.116 +02:00 [INF] Sending file. Request path: '/js/toast.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\toast.js'
2024-11-11 09:55:48.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 139.3571ms
2024-11-11 09:55:48.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 139.5755ms
2024-11-11 09:55:48.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 140.6091ms
2024-11-11 09:55:48.040 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 53.9576ms
2024-11-11 09:55:48.124 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Users.png - 200 874 image/png 139.0789ms
2024-11-11 09:55:48.128 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - 200 3518 text/javascript 144.0353ms
2024-11-11 09:55:48.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 138.4304ms
2024-11-11 09:55:48.133 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 144.6984ms
2024-11-11 09:55:48.104 +02:00 [INF] Sending file. Request path: '/Images/log.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\log.png'
2024-11-11 09:55:48.143 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/table-alt.svg - 200 827 image/svg+xml 152.0113ms
2024-11-11 09:55:48.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 152.539ms
2024-11-11 09:55:48.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 153.5369ms
2024-11-11 09:55:48.148 +02:00 [INF] Sending file. Request path: '/Images/pie-chart.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pie-chart.png'
2024-11-11 09:55:48.151 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 09:55:48.159 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/toast.js - 200 2875 text/javascript 171.626ms
2024-11-11 09:55:48.167 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 09:55:48.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/log.png - 200 424 image/png 188.1499ms
2024-11-11 09:55:48.188 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pie-chart.png - 200 898 image/png 197.352ms
2024-11-11 09:55:48.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-11 09:55:48.228 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-11 09:55:48.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 6.5853ms
2024-11-11 09:55:48.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 09:55:48.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 09:55:48.383 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:48.383 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:48.394 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 09:55:48.397 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 09:55:48.467 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T07:55:48.4031697Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 09:55:48.472 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 09:55:48.484 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T07:55:48.4072489Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 09:55:48.495 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 09:55:48.495 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 100.0581ms
2024-11-11 09:55:48.497 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:48.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 121.179ms
2024-11-11 09:55:48.500 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 100.6319ms
2024-11-11 09:55:48.502 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 09:55:48.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 126.5411ms
2024-11-11 10:06:18.955 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:06:19.400 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:06:19.401 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:06:19.405 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:06:19.406 +02:00 [INF] Hosting environment: Development
2024-11-11 10:06:19.407 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:06:19.644 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:06:20.277 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:20.294 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:20.471 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:06:20.473 +02:00 [ERR] User not logged in.
2024-11-11 10:06:20.496 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:06:20.504 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 200.875ms
2024-11-11 10:06:20.512 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:20.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 878.1093ms
2024-11-11 10:06:20.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:06:20.546 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:20.553 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:22.646 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:06:24.100 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:06:24.363 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:06:24.369 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:06:24.380 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:06:24.386 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3830.9466ms
2024-11-11 10:06:24.390 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:24.404 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:009a15e8-573d-f81b-c7c7-f648417de7e2
2024-11-11 10:06:24.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3885.5429ms
2024-11-11 10:06:24.423 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:06:24.446 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:24.451 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:24.466 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:06:24.468 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 12.7829ms
2024-11-11 10:06:24.470 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:24.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 49.9878ms
2024-11-11 10:06:24.480 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:06:24.489 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:24.491 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:25.910 +02:00 [INF] Executed DbCommand (1,168ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:06:26.070 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:06:26.376 +02:00 [INF] Executed DbCommand (283ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:06:26.918 +02:00 [INF] Executed DbCommand (495ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:06:26.998 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:06:27.034 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:06:27.050 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:06:27.081 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:06:27.100 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:06:27.118 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:06:27.316 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:06:27.387 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:27.630 +02:00 [INF] Executed DbCommand (229ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:28.720 +02:00 [INF] Executed DbCommand (1,074ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:28.920 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:06:29.914 +02:00 [INF] Executed DbCommand (926ms) [Parameters=[@__startDate_0='2024-10-12T08:06:28.9536989Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:29.955 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:06:30.424 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 479.5524ms.
2024-11-11 10:06:30.434 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 5938.581ms
2024-11-11 10:06:30.435 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:30.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 5958.8208ms
2024-11-11 10:06:30.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:06:30.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:06:30.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:06:30.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:06:30.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 39.3205ms
2024-11-11 10:06:30.568 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 46.1482ms
2024-11-11 10:06:30.577 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 41.6859ms
2024-11-11 10:06:30.580 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:06:30.584 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:06:30.631 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.7496ms
2024-11-11 10:06:30.742 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:06:30.742 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:06:30.749 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:30.751 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:30.766 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:30.766 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:06:30.972 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__startDate_0='2024-10-12T08:06:30.7912613Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:06:30.980 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T08:06:30.7968768Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:06:30.981 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:06:30.991 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:06:31.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 240.0857ms
2024-11-11 10:06:31.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 238.8632ms
2024-11-11 10:06:31.011 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:31.013 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:06:31.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-11 10:06:31.014 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 271.9117ms
2024-11-11 10:06:31.015 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 272.9362ms
2024-11-11 10:06:31.055 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-11 10:06:31.058 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 45ms
2024-11-11 10:07:46.450 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:07:46.615 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:07:46.617 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:07:46.621 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:07:46.623 +02:00 [INF] Hosting environment: Development
2024-11-11 10:07:46.625 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:07:47.095 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:07:47.647 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:47.672 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:47.862 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:07:47.866 +02:00 [ERR] User not logged in.
2024-11-11 10:07:47.890 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:07:47.902 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 220.7453ms
2024-11-11 10:07:47.913 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:47.928 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 833.7641ms
2024-11-11 10:07:47.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:07:47.952 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:47.963 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:50.287 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:07:51.441 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:07:51.654 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:07:51.657 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:07:51.663 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:07:51.667 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3696.8596ms
2024-11-11 10:07:51.670 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:51.681 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a8872688-a092-0a42-7f22-985666e166f3
2024-11-11 10:07:51.695 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:07:51.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3757.6804ms
2024-11-11 10:07:51.709 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:51.712 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:51.716 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:07:51.717 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.7323ms
2024-11-11 10:07:51.719 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:51.720 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 25.6649ms
2024-11-11 10:07:51.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:07:51.732 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:51.733 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:51.906 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:07:51.946 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:07:51.972 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:07:52.000 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:07:52.075 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:07:52.110 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:07:52.130 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:07:52.155 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:07:52.168 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:07:52.181 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:07:52.276 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:07:52.330 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.352 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.382 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.465 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:07:52.506 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [d].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
    WHERE [q0].[DepartmentID] IS NOT NULL AND [q].[DepartmentID] = [q0].[DepartmentID]) AS [DepartmentName], COUNT(*) AS [QueryCount]
FROM [Queries] AS [q]
WHERE [q].[DepartmentID] IS NOT NULL
GROUP BY [q].[DepartmentID]
2024-11-11 10:07:52.541 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2024-10-12T08:07:52.5175712Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.565 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:07:52.757 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 196.6672ms.
2024-11-11 10:07:52.763 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 1027.6161ms
2024-11-11 10:07:52.769 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:52.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1048.6252ms
2024-11-11 10:07:52.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:07:52.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:07:52.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:07:52.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:07:52.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.783ms
2024-11-11 10:07:52.817 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 22.8349ms
2024-11-11 10:07:52.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 20.7153ms
2024-11-11 10:07:52.828 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:07:52.830 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:07:52.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:07:52.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:07:52.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.3834ms
2024-11-11 10:07:52.869 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:52.870 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:52.886 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:52.886 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:07:52.974 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T08:07:52.9014637Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:07:52.979 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:07:52.987 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-12T08:07:52.9031831Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:07:52.994 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 102.1632ms
2024-11-11 10:07:52.995 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:52.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 135.7126ms
2024-11-11 10:07:52.996 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:07:53.002 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 111.8801ms
2024-11-11 10:07:53.003 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:07:53.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 143.8021ms
2024-11-11 10:17:17.589 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:17:17.882 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:17:17.883 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:17:17.886 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:17:17.887 +02:00 [INF] Hosting environment: Development
2024-11-11 10:17:17.887 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:17:18.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:17:18.873 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:18.891 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:19.089 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:17:19.092 +02:00 [ERR] User not logged in.
2024-11-11 10:17:19.121 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:17:19.131 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 231.3616ms
2024-11-11 10:17:19.140 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:19.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 853.514ms
2024-11-11 10:17:19.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:17:19.177 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:19.186 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:21.400 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:17:22.831 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:17:22.945 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:17:22.948 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:17:22.953 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:17:22.956 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3766.0278ms
2024-11-11 10:17:22.958 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:22.966 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:1a63043f-4ae4-d366-1485-5bac5599f0f7
2024-11-11 10:17:22.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3814.1364ms
2024-11-11 10:17:22.977 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:17:22.993 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:22.997 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:23.007 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:17:23.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 7.7353ms
2024-11-11 10:17:23.011 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:23.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 35.6398ms
2024-11-11 10:17:23.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:17:23.026 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:23.028 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:23.170 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:17:23.226 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:17:23.254 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:17:23.296 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:17:23.357 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:17:23.388 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:17:23.401 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:17:23.433 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:17:23.449 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:17:23.465 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:17:23.520 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:17:23.558 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:23.573 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:23.588 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:23.652 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:17:23.747 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-12T08:17:23.6951755Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:23.777 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:17:23.975 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 206.1726ms.
2024-11-11 10:17:23.983 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 951.6939ms
2024-11-11 10:17:23.985 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:23.992 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 971.8286ms
2024-11-11 10:17:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:17:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:17:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:17:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:17:24.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 22.2998ms
2024-11-11 10:17:24.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 22.9375ms
2024-11-11 10:17:24.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 23.12ms
2024-11-11 10:17:24.104 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:17:24.106 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:17:24.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.6263ms
2024-11-11 10:17:24.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/AdminDashboard/GetDepartmentQueryData - null null
2024-11-11 10:17:24.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:17:24.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:17:24.294 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:24.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/AdminDashboard/GetDepartmentQueryData - 404 0 null 6.918ms
2024-11-11 10:17:24.295 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:24.300 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/AdminDashboard/GetDepartmentQueryData, Response status code: 404
2024-11-11 10:17:24.307 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:24.307 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:17:24.397 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:17:24.3246490Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:17:24.406 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:17:24.3262754Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:17:24.406 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:17:24.419 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:17:24.445 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 135.5886ms
2024-11-11 10:17:24.445 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 133.9514ms
2024-11-11 10:17:24.448 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:24.449 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:17:24.450 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 162.7012ms
2024-11-11 10:17:24.451 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 163.3286ms
2024-11-11 10:18:35.402 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:18:35.649 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:18:35.650 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:18:35.653 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:18:35.655 +02:00 [INF] Hosting environment: Development
2024-11-11 10:18:35.656 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:18:36.056 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:18:36.744 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:36.770 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:36.982 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:18:36.985 +02:00 [ERR] User not logged in.
2024-11-11 10:18:37.002 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:18:37.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 231.782ms
2024-11-11 10:18:37.017 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:37.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 974.1317ms
2024-11-11 10:18:37.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:18:37.058 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:37.072 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:39.262 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:18:40.271 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:18:40.353 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:18:40.355 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:18:40.359 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:18:40.362 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3285.2417ms
2024-11-11 10:18:40.365 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:40.370 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:fff55881-e762-bdaf-31cf-0d5f96b2f2bc
2024-11-11 10:18:40.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3333.3655ms
2024-11-11 10:18:40.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:18:40.389 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:40.393 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:40.399 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:18:40.404 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 7.6628ms
2024-11-11 10:18:40.407 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:40.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 29.2397ms
2024-11-11 10:18:40.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:18:40.424 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:40.426 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:40.567 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:18:40.628 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:18:40.652 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:18:40.698 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:18:40.773 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:18:40.801 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:18:40.816 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:18:40.836 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:18:40.851 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:18:40.868 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:18:40.953 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:18:41.012 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:41.034 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:41.059 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:41.137 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:18:41.197 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2024-10-12T08:18:41.1586479Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:41.229 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:18:41.445 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 223.557ms.
2024-11-11 10:18:41.452 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 1020.4315ms
2024-11-11 10:18:41.455 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:41.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1044.5378ms
2024-11-11 10:18:41.546 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:18:41.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:18:41.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:18:41.560 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:18:41.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 25.8424ms
2024-11-11 10:18:41.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 25.928ms
2024-11-11 10:18:41.584 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:18:41.584 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 38.0193ms
2024-11-11 10:18:41.587 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:18:41.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1567ms
2024-11-11 10:18:41.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:18:41.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:18:41.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:18:41.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:41.960 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:41.964 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:41.969 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:41.972 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:41.972 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:18:42.072 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:18:41.9851689Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:18:42.078 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:18:42.092 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:18:41.9874606Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:18:42.102 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount]
FROM [Queries] AS [q]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
GROUP BY [d].[DepartmentName]
ORDER BY COUNT(*) DESC
2024-11-11 10:18:42.105 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:18:42.108 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType9`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:18:42.110 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 136.7912ms
2024-11-11 10:18:42.114 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 139.8242ms
2024-11-11 10:18:42.116 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:42.118 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:42.119 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 165.8961ms
2024-11-11 10:18:42.120 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 148.8349ms
2024-11-11 10:18:42.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 168.07ms
2024-11-11 10:18:42.126 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:18:42.132 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 178.5891ms
2024-11-11 10:22:45.025 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:22:45.306 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:22:45.309 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:22:45.316 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:22:45.318 +02:00 [INF] Hosting environment: Development
2024-11-11 10:22:45.320 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:22:45.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:22:46.421 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:46.452 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:46.681 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:22:46.684 +02:00 [ERR] User not logged in.
2024-11-11 10:22:46.710 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:22:46.720 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 259.2085ms
2024-11-11 10:22:46.732 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:46.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 957.3444ms
2024-11-11 10:22:46.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:22:46.783 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:46.792 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:48.623 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:22:49.580 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:22:49.740 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:22:49.745 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:22:49.756 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:22:49.761 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2962.6215ms
2024-11-11 10:22:49.764 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:49.773 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:196f749b-39b5-4f00-c849-b7c8d3a7590f
2024-11-11 10:22:49.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3030.0483ms
2024-11-11 10:22:49.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:22:49.806 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:49.810 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:49.816 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:22:49.817 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 5.0804ms
2024-11-11 10:22:49.819 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:49.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 27.8816ms
2024-11-11 10:22:49.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:22:49.838 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:49.840 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:50.024 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:22:50.061 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:22:50.075 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:22:50.112 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:22:50.155 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:22:50.174 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:22:50.184 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:22:50.199 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:22:50.210 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:22:50.221 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:22:50.270 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:22:50.306 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:50.314 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:50.326 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:50.405 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:22:50.480 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-12T08:22:50.4317922Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:50.516 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:22:50.745 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 238.5143ms.
2024-11-11 10:22:50.751 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 908.6996ms
2024-11-11 10:22:50.754 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:50.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 932.6125ms
2024-11-11 10:22:50.834 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:22:50.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:22:50.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:22:50.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:22:50.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.0402ms
2024-11-11 10:22:50.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 14.3196ms
2024-11-11 10:22:50.864 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 15.1729ms
2024-11-11 10:22:50.869 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:22:50.871 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:22:50.900 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.258ms
2024-11-11 10:22:51.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:22:51.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:22:51.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:22:51.293 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.296 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.299 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.308 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:51.316 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:51.316 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:22:51.396 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2024-10-12T08:22:51.3343473Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:22:51.400 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:22:51.404 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:22:51.3360634Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:22:51.414 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:22:51.418 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount]
FROM [Queries] AS [q]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
GROUP BY [d].[DepartmentName]
ORDER BY COUNT(*) DESC
2024-11-11 10:22:51.420 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 99.3185ms
2024-11-11 10:22:51.422 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.424 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType9`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:22:51.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 136.7611ms
2024-11-11 10:22:51.424 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 105.3202ms
2024-11-11 10:22:51.432 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.433 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 121.5492ms
2024-11-11 10:22:51.434 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 146.3618ms
2024-11-11 10:22:51.435 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:22:51.440 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 152.7356ms
2024-11-11 10:23:16.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Analytics/AnalyticsReporting - null null
2024-11-11 10:23:16.784 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AnalyticsController.AnalyticsReporting (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:16.790 +02:00 [INF] Route matched with {action = "AnalyticsReporting", controller = "Analytics"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult AnalyticsReporting() on controller Apptivate_UQMS_WebApp.Controllers.AnalyticsController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:16.800 +02:00 [INF] Executing ViewResult, running view AnalyticsReporting.
2024-11-11 10:23:16.822 +02:00 [INF] Executed ViewResult - view AnalyticsReporting executed in 25.445ms.
2024-11-11 10:23:16.826 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AnalyticsController.AnalyticsReporting (Apptivate_UQMS_WebApp) in 30.9772ms
2024-11-11 10:23:16.829 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AnalyticsController.AnalyticsReporting (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:16.832 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Analytics/AnalyticsReporting - 200 null text/html; charset=utf-8 65.0552ms
2024-11-11 10:23:16.866 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:23:16.868 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:23:16.871 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.4532ms
2024-11-11 10:23:16.898 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.2855ms
2024-11-11 10:23:19.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:23:19.967 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:19.969 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:19.987 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:23:19.998 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:23:20.015 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:23:20.027 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:23:20.034 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:23:20.044 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:23:20.056 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:23:20.067 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:23:20.080 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:23:20.094 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:23:20.108 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:23:20.121 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:20.130 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:20.142 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:20.168 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:23:20.188 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-12T08:23:20.1750652Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:20.194 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:23:20.203 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 9.2504ms.
2024-11-11 10:23:20.207 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 234.2394ms
2024-11-11 10:23:20.211 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:20.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 254.4538ms
2024-11-11 10:23:20.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:23:20.263 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.9702ms
2024-11-11 10:23:52.662 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 10:23:52.810 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-11 10:23:52.811 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-11 10:23:52.815 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 10:23:52.816 +02:00 [INF] Hosting environment: Development
2024-11-11 10:23:52.817 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-11 10:23:53.429 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:23:54.112 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:54.138 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:54.274 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:23:54.278 +02:00 [ERR] User not logged in.
2024-11-11 10:23:54.309 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-11 10:23:54.319 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 171.1727ms
2024-11-11 10:23:54.331 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:54.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 919.9891ms
2024-11-11 10:23:54.360 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-11 10:23:54.383 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:54.397 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:56.602 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-11 10:23:57.612 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-11 10:23:57.728 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-11 10:23:57.731 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-11 10:23:57.735 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-11 10:23:57.738 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3335.7488ms
2024-11-11 10:23:57.739 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:57.745 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:044c4896-b6a1-d424-6064-494fb57e3d9d
2024-11-11 10:23:57.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3392.7304ms
2024-11-11 10:23:57.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-11 10:23:57.771 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:57.774 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:57.781 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-11 10:23:57.783 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 6.2936ms
2024-11-11 10:23:57.785 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:57.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 31.5609ms
2024-11-11 10:23:57.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-11 10:23:57.799 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:57.800 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:57.909 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:23:57.944 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-11 10:23:57.956 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:23:57.986 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-11 10:23:58.038 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-11 10:23:58.066 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-11 10:23:58.079 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-11 10:23:58.096 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-11 10:23:58.105 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-11 10:23:58.117 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-11 10:23:58.209 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-11 10:23:58.271 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.288 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.304 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.372 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-11 10:23:58.447 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='2024-10-12T08:23:58.4043807Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.485 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-11 10:23:58.619 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 141.3345ms.
2024-11-11 10:23:58.622 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 820.1053ms
2024-11-11 10:23:58.625 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 834.7513ms
2024-11-11 10:23:58.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-11 10:23:58.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:23:58.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-11 10:23:58.654 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.2496ms
2024-11-11 10:23:58.662 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 15.4538ms
2024-11-11 10:23:58.662 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 15.3178ms
2024-11-11 10:23:58.666 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-11 10:23:58.669 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-11 10:23:58.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:23:58.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.2654ms
2024-11-11 10:23:58.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-11 10:23:58.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-11 10:23:58.771 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-11 10:23:58.776 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.777 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.779 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.784 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:58.790 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:58.791 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-11 10:23:58.908 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__startDate_0='2024-10-12T08:23:58.8044580Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-11 10:23:58.943 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:23:58.946 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount]
FROM [Queries] AS [q]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
GROUP BY [d].[DepartmentName]
ORDER BY COUNT(*) DESC
2024-11-11 10:23:58.946 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T08:23:58.8073024Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-11 10:23:58.950 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType9`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-11 10:23:58.964 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:23:58.966 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 169.0234ms
2024-11-11 10:23:58.978 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 192.7665ms
2024-11-11 10:23:58.981 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.982 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 213.372ms
2024-11-11 10:23:58.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 213.3353ms
2024-11-11 10:23:58.985 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 193.226ms
2024-11-11 10:23:58.991 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-11 10:23:58.993 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 222.7023ms
2024-11-11 10:24:10.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-11 10:24:10.681 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:10.687 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:10.697 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-11 10:24:10.727 +02:00 [INF] Executed ViewResult - view Index executed in 34.2322ms.
2024-11-11 10:24:10.732 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 41.6812ms
2024-11-11 10:24:10.737 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:10.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 73.1077ms
2024-11-11 10:24:10.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/reports.js - null null
2024-11-11 10:24:10.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-11 10:24:10.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-11 10:24:10.780 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.336ms
2024-11-11 10:24:10.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.7085ms
2024-11-11 10:24:10.914 +02:00 [INF] Sending file. Request path: '/js/reports.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\reports.js'
2024-11-11 10:24:10.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/reports.js - 200 7849 text/javascript 147.7818ms
2024-11-11 10:24:11.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:11.232 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:11.248 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:11.352 +02:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-11 10:24:11.432 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:11.448 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 193.1127ms
2024-11-11 10:24:11.451 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:11.457 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:11.539 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 320.4567ms
2024-11-11 10:24:12.910 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:12.916 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:12.928 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:12.963 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-11 10:24:13.018 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 87.0804ms
2024-11-11 10:24:13.021 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:13.024 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-11 10:24:13.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 169.5901ms
2024-11-11 10:24:13.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-11 10:24:13.601 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:13.611 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:13.790 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__overdueDate_0='2024-11-10T08:24:13.6512345Z' (Nullable = true), @__currentDate_2='2024-11-11T08:24:13.6512345Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-11 10:24:13.820 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-11 10:24:13.840 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 225.6244ms
2024-11-11 10:24:13.844 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:13.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 252.3713ms
2024-11-11 10:24:15.439 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:15.446 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:15.457 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:15.614 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-11 10:24:15.623 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-11 10:24:15.632 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 171.7836ms
2024-11-11 10:24:15.635 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:15.637 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-12&endDate=2024-11-11 - 200 null application/json; charset=utf-8 197.6512ms
2024-11-11 10:24:22.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-11 10:24:22.449 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:22.451 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:22.517 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__overdueDate_0='2024-11-10T08:24:22.4546597Z' (Nullable = true), @__currentDate_2='2024-11-11T08:24:22.4546597Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-11 10:24:22.529 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-11 10:24:22.532 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 78.4231ms
2024-11-11 10:24:22.534 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:22.536 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 91.027ms
2024-11-11 10:24:26.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:26.752 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:26.755 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:26.765 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-11 10:24:26.778 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 20.1924ms
2024-11-11 10:24:26.781 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:26.784 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-11 10:24:26.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 83.0946ms
2024-11-11 10:24:27.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:27.312 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:27.314 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:27.327 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-11 10:24:27.333 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:27.343 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 26.3559ms
2024-11-11 10:24:27.346 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:27.348 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:27.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 63.5612ms
2024-11-11 10:24:27.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:27.972 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:27.974 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:27.986 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-11 10:24:27.999 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 22.0899ms
2024-11-11 10:24:28.003 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:28.006 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-11 10:24:28.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 99.5862ms
2024-11-11 10:24:28.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:28.491 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:28.493 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:28.507 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-11 10:24:28.514 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:28.531 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 34.539ms
2024-11-11 10:24:28.534 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:28.537 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:911a8f32-2d4c-4cff-81d3-6fb4c3ae8ab6
Error Number:162,State:1,Class:15
2024-11-11 10:24:28.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 91.8799ms
2024-11-11 10:24:29.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - null null
2024-11-11 10:24:29.407 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:29.409 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-11 10:24:29.420 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-12T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-11T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-11 10:24:29.431 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 20.2588ms
2024-11-11 10:24:29.434 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-11 10:24:29.439 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-11 10:24:29.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-12&endDate=2024-11-11 - 500 null text/plain; charset=utf-8 80.3299ms
