2024-11-16 09:24:05.600 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 09:24:05.969 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 09:24:05.981 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 09:24:05.985 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 09:24:05.986 +02:00 [INF] Hosting environment: Development
2024-11-16 09:24:05.987 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 09:24:06.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 09:24:07.096 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731695257. Expected to be greater than 1731741847.
2024-11-16 09:24:07.103 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731695257. Expected to be greater than 1731741847.
2024-11-16 09:24:07.106 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:24:07.123 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:24:07.137 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731695257. Expected to be greater than 1731741847.
2024-11-16 09:24:07.150 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 09:24:07.330 +02:00 [INF] Executed ViewResult - view Login executed in 181.34ms.
2024-11-16 09:24:07.355 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 229.6747ms
2024-11-16 09:24:07.365 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:24:07.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:24:07.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-16 09:24:07.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 09:24:07.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 23.543ms
2024-11-16 09:24:07.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-16 09:24:07.374 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:24:07.377 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 829.7353ms
2024-11-16 09:24:07.404 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731695257. Expected to be greater than 1731741847.
2024-11-16 09:24:07.405 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731695257. Expected to be greater than 1731741847.
2024-11-16 09:24:07.410 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731695257. Expected to be greater than 1731741847.
2024-11-16 09:24:07.419 +02:00 [INF] The file /js/login.js was not modified
2024-11-16 09:24:07.419 +02:00 [INF] The file /css/Login.css was not modified
2024-11-16 09:24:07.419 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-16 09:24:07.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 49.6012ms
2024-11-16 09:24:07.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 49.0618ms
2024-11-16 09:24:07.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 50.58ms
2024-11-16 09:24:07.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 112.8753ms
2024-11-16 09:24:21.315 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 225
2024-11-16 09:24:21.327 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731695257. Expected to be greater than 1731741861.
2024-11-16 09:24:21.329 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731695257. Expected to be greater than 1731741861.
2024-11-16 09:24:21.330 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:24:21.355 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:24:21.430 +02:00 [INF] Attempting to log in user with email: Daniel@gmail.com
2024-11-16 09:24:21.451 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 09:24:21.456 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 09:24:22.132 +02:00 [INF] Received HTTP response headers after 673.486ms - 200
2024-11-16 09:24:22.136 +02:00 [INF] End processing HTTP request after 687.6683ms - 200
2024-11-16 09:24:22.138 +02:00 [INF] User logged in successfully.
2024-11-16 09:24:23.839 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 09:24:24.799 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 09:24:25.043 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p1='3', @p0='2024-11-16T07:24:24.9274008Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 09:24:25.066 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 09:24:25.067 +02:00 [INF] User Daniel@gmail.com logged in successfully.
2024-11-16 09:24:25.071 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 09:24:25.072 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3715.2998ms
2024-11-16 09:24:25.073 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:24:25.075 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:d4385c80-3556-53c8-6d17-834fef114ba8
2024-11-16 09:24:25.087 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 3771.8446ms
2024-11-16 09:24:25.092 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 09:24:25.465 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:24:25.472 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:24:25.674 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:24:25.911 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 09:24:26.028 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 09:24:26.407 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 09:24:26.452 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:24:26.472 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:24:26.499 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:24:26.506 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 09:24:26.723 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 218.6179ms.
2024-11-16 09:24:26.727 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 1252.6655ms
2024-11-16 09:24:26.728 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:24:26.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 1637.516ms
2024-11-16 09:24:26.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:24:26.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:24:26.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.3905ms
2024-11-16 09:24:26.799 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.8305ms
2024-11-16 09:24:26.882 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 09:24:26.889 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 09:24:27.077 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 09:24:27.158 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 271.5344ms
2024-11-16 09:24:27.272 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=Rw6NOX3ZpoexsaZvSvJi_A - null null
2024-11-16 09:24:27.308 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 09:24:27.370 +02:00 [INF] User attempting to connect. Connection ID: nXExfbOcz2e-UYidXK3YRw, User ID: 8gmggRNCMUaYTwAThlXahoTs8W12
2024-11-16 09:24:27.373 +02:00 [INF] User 8gmggRNCMUaYTwAThlXahoTs8W12 connected with connection ID nXExfbOcz2e-UYidXK3YRw
2024-11-16 09:39:59.241 +02:00 [INF] User disconnected. Connection ID: nXExfbOcz2e-UYidXK3YRw
2024-11-16 09:39:59.291 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 09:39:59.317 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=Rw6NOX3ZpoexsaZvSvJi_A - 200 null null 932051.4063ms
2024-11-16 09:48:05.015 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 09:48:05.173 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 09:48:05.174 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 09:48:05.177 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 09:48:05.177 +02:00 [INF] Hosting environment: Development
2024-11-16 09:48:05.178 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 09:48:05.559 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 09:48:05.559 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 09:48:06.190 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:48:06.193 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:48:06.204 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:48:06.204 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:48:06.215 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 09:48:06.218 +02:00 [ERR] User not logged in.
2024-11-16 09:48:06.234 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 09:48:06.239 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 29.6365ms
2024-11-16 09:48:06.243 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:48:06.248 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 692.4956ms
2024-11-16 09:48:07.689 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 09:48:08.336 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 09:48:08.418 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 09:48:08.420 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-16 09:48:08.425 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 09:48:08.426 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2220.7895ms
2024-11-16 09:48:08.427 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:48:08.430 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:14453836-638f-1670-8422-1a9ed617c981
2024-11-16 09:48:08.437 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2881.2425ms
2024-11-16 09:48:08.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 09:48:08.455 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 09:48:08.458 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:48:08.460 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 09:48:08.460 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.666ms
2024-11-16 09:48:08.461 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 09:48:08.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.5591ms
2024-11-16 09:48:08.465 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 09:48:08.470 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:48:08.471 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:48:08.569 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:48:08.678 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 09:48:08.725 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 09:48:08.895 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 09:48:08.914 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:48:08.927 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:48:08.938 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:48:08.945 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 09:48:09.041 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 99.4953ms.
2024-11-16 09:48:09.043 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 571.0392ms
2024-11-16 09:48:09.045 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:48:09.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 583.2115ms
2024-11-16 09:48:09.091 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:48:09.096 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:48:09.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.6256ms
2024-11-16 09:48:09.137 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8593ms
2024-11-16 09:48:09.264 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 09:48:09.268 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 09:48:09.277 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 09:48:09.278 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 13.4582ms
2024-11-16 09:48:09.313 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=1Z5qY6reNxmr3hHBwVwiLw - null null
2024-11-16 09:48:09.318 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 09:56:56.975 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 09:56:57.138 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 09:56:57.139 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 09:56:57.141 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 09:56:57.142 +02:00 [INF] Hosting environment: Development
2024-11-16 09:56:57.143 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 09:56:57.556 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 09:56:58.032 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 09:56:58.115 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 09:56:58.120 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:56:58.129 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 09:56:58.131 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:56:58.135 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 581.1853ms
2024-11-16 09:56:58.139 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=UADHoHXx0fY4h-GGMfrJLQ - null null
2024-11-16 09:56:58.146 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 09:56:58.147 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 09:56:58.148 +02:00 [ERR] User not logged in.
2024-11-16 09:56:58.163 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 09:56:58.168 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 32.4258ms
2024-11-16 09:56:58.169 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:56:58.170 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 138.73ms
2024-11-16 09:56:58.185 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 09:56:58.189 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:56:58.193 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:56:59.635 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 09:57:00.183 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 09:57:00.269 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 09:57:00.272 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-16 09:57:00.275 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 09:57:00.277 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2081.3796ms
2024-11-16 09:57:00.278 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:00.281 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a49bcb67-df60-030b-ddbf-d1592318f132
2024-11-16 09:57:00.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2104.1373ms
2024-11-16 09:57:00.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 09:57:00.302 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:00.304 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:57:00.307 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 09:57:00.308 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.5993ms
2024-11-16 09:57:00.309 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:00.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.0272ms
2024-11-16 09:57:00.315 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 09:57:00.321 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:00.323 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:57:00.445 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:57:00.570 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 09:57:00.629 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 09:57:00.841 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 09:57:00.867 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:57:00.876 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:57:00.889 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:57:00.897 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 09:57:01.025 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 131.4515ms.
2024-11-16 09:57:01.033 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 708.6529ms
2024-11-16 09:57:01.035 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:01.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 723.4332ms
2024-11-16 09:57:01.074 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 09:57:01.076 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=UADHoHXx0fY4h-GGMfrJLQ - 200 null null 2936.2501ms
2024-11-16 09:57:01.156 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:57:01.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.5214ms
2024-11-16 09:57:01.202 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 09:57:01.206 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 09:57:01.207 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 09:57:01.208 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 6.4004ms
2024-11-16 09:57:01.264 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:57:01.271 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=ILkYF05BFWuYv0McbwxZHw - null null
2024-11-16 09:57:01.275 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 09:57:01.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.7452ms
2024-11-16 09:57:06.940 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 09:57:06.946 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:06.947 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:57:07.032 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:57:07.052 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 09:57:07.066 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 09:57:07.735 +02:00 [INF] Executed DbCommand (660ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 09:57:07.758 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:57:07.765 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:57:07.773 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:57:07.778 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 09:57:07.787 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 9.0245ms.
2024-11-16 09:57:07.789 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 840.9739ms
2024-11-16 09:57:07.790 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:07.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 850.7949ms
2024-11-16 09:57:07.793 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 09:57:07.793 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=ILkYF05BFWuYv0McbwxZHw - 200 null null 6522.4317ms
2024-11-16 09:57:07.806 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:57:07.806 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:57:07.808 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0866ms
2024-11-16 09:57:07.819 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.2536ms
2024-11-16 09:57:07.840 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 09:57:07.845 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 09:57:07.846 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 09:57:07.847 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 6.4063ms
2024-11-16 09:57:07.888 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=mhuFVTsATXazozczmcYD9w - null null
2024-11-16 09:57:07.893 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 09:57:31.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-11-16 09:57:31.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css.map - null null
2024-11-16 09:57:31.960 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-11-16 09:57:31.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 128.8253ms
2024-11-16 09:57:31.968 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2024-11-16 09:57:31.969 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css.map - 200 449111 text/plain 106.0719ms
2024-11-16 09:57:53.806 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-16 09:57:53.811 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:53.815 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:57:53.817 +02:00 [INF] User logged out.
2024-11-16 09:57:53.819 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 09:57:53.820 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 3.2839ms
2024-11-16 09:57:53.820 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:53.821 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 14.5912ms
2024-11-16 09:57:53.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 09:57:53.827 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:57:53.828 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:57:53.828 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:53.829 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:57:53.833 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 09:57:53.847 +02:00 [INF] Executed ViewResult - view Login executed in 16.0624ms.
2024-11-16 09:57:53.849 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 18.7318ms
2024-11-16 09:57:53.850 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:57:53.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 26.206ms
2024-11-16 09:57:53.855 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 09:57:53.856 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=mhuFVTsATXazozczmcYD9w - 200 null null 45968.0982ms
2024-11-16 09:57:53.877 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:57:53.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:57:53.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.8859ms
2024-11-16 09:57:53.889 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1018ms
2024-11-16 09:58:26.856 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/GoogleLogin - application/json 1191
2024-11-16 09:58:26.901 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:58:26.902 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:58:26.903 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:26.927 +02:00 [INF] Route matched with {action = "GoogleLogin", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(GoogleLoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:58:27.024 +02:00 [INF] GoogleLogin attempt initiated
2024-11-16 09:58:27.025 +02:00 [INF] here is your token grump eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlNTIxYmY1ZjdhNDAwOGMzYmQ3MjFmMzk2OTcwOWI1MzY0MzA5NjEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVHJlbnQgRmlzaGVyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lfMG11MTRncWZqLW4zMDZsZUlEZ2JmZk83bHByOWQyUUlUd2h2OVdLanZCaXdMcDh3PXM5Ni1jIiwicm9sZSI6IlN0dWRlbnQiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vdXFtcy1hM2Q4NyIsImF1ZCI6InVxbXMtYTNkODciLCJhdXRoX3RpbWUiOjE3MzE3NDM5MDYsInVzZXJfaWQiOiJjc3VzVXRJWkMzY1Z0cW5UOW1xRjNlN0pnbDIzIiwic3ViIjoiY3N1c1V0SVpDM2NWdHFuVDltcUYzZTdKZ2wyMyIsImlhdCI6MTczMTc0MzkwNiwiZXhwIjoxNzMxNzQ3NTA2LCJlbWFpbCI6InRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE4MDQwODkyMzQ5OTA3NzczODcyIl0sImVtYWlsIjpbInRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.bDpmU0eNN1vm309z_lLBHmuk6YRFUMz1-LMXTQoiK8hDl7F1AOcU2bbGnwPon46s8gspkF1exbxprMP3C4Fd0HGEKZ3gK5oZzE8IZz0B8-wYEO4ao1J43V2enIfXYp6QowcR3KBrEprAJH9k0qSZTwa5sFV-2nUN7EDuj9CoqsHVECjQgd5Fx4Q-seCV6CVX67DuNabl-AIdBQlG2tOpSLSC9IbWm4k3Q-X9TO8_-AEGT7HgEyXbLcggOyTNOIfaL51dc-V1Qd1fuHCyESGLV6r7JLLqqn-xsla6GjIhWp7VU_ChKY3stfYgyLvQDVp2j_gllsuC59ausBS7JD-HPg
2024-11-16 09:58:27.027 +02:00 [INF] Verifying Firebase ID token.
2024-11-16 09:58:27.028 +02:00 [INF] Firebase ID token verified successfully for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 09:58:27.030 +02:00 [INF] Retrieving user information for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 09:58:27.530 +02:00 [INF] User information retrieved successfully. Email: trentfisher017@gmail.com, Display Name: Trent Fisher
2024-11-16 09:58:27.551 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__uid_0
2024-11-16 09:58:27.748 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='46', @p0='2024-11-16T07:58:27.5549890Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 09:58:27.765 +02:00 [INF] GoogleLogin successful for user trentfisher017@gmail.com with role Student
2024-11-16 09:58:27.767 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 09:58:27.777 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp) in 847.1083ms
2024-11-16 09:58:27.778 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:27.780 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/GoogleLogin - 200 null application/json; charset=utf-8 924.3592ms
2024-11-16 09:58:27.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 09:58:27.805 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:27.811 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:58:27.846 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:58:27.867 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 09:58:27.905 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 09:58:27.940 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:58:27.946 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:58:27.957 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:58:27.963 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 09:58:28.069 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 107.9151ms.
2024-11-16 09:58:28.071 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 259.2649ms
2024-11-16 09:58:28.073 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:28.074 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 282.327ms
2024-11-16 09:58:28.110 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:58:28.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.8258ms
2024-11-16 09:58:28.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:58:28.134 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.9812ms
2024-11-16 09:58:45.155 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-16 09:58:45.160 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:45.161 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:58:45.164 +02:00 [INF] User logged out.
2024-11-16 09:58:45.164 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 09:58:45.165 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 2.0401ms
2024-11-16 09:58:45.166 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:45.167 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 11.1276ms
2024-11-16 09:58:45.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 09:58:45.172 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:58:45.173 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:58:45.173 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:45.174 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:58:45.175 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 09:58:45.176 +02:00 [INF] Executed ViewResult - view Login executed in 1.6893ms.
2024-11-16 09:58:45.177 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2.5209ms
2024-11-16 09:58:45.178 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:45.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 8.6336ms
2024-11-16 09:58:45.199 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:58:45.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.6712ms
2024-11-16 09:58:45.205 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:58:45.210 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.489ms
2024-11-16 09:58:57.401 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/GoogleLogin - application/json 1191
2024-11-16 09:58:57.405 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:58:57.406 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:58:57.407 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:57.408 +02:00 [INF] Route matched with {action = "GoogleLogin", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(GoogleLoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:58:57.416 +02:00 [INF] GoogleLogin attempt initiated
2024-11-16 09:58:57.418 +02:00 [INF] here is your token grump eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlNTIxYmY1ZjdhNDAwOGMzYmQ3MjFmMzk2OTcwOWI1MzY0MzA5NjEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVHJlbnQgRmlzaGVyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lfMG11MTRncWZqLW4zMDZsZUlEZ2JmZk83bHByOWQyUUlUd2h2OVdLanZCaXdMcDh3PXM5Ni1jIiwicm9sZSI6IlN0dWRlbnQiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vdXFtcy1hM2Q4NyIsImF1ZCI6InVxbXMtYTNkODciLCJhdXRoX3RpbWUiOjE3MzE3NDM5MzYsInVzZXJfaWQiOiJjc3VzVXRJWkMzY1Z0cW5UOW1xRjNlN0pnbDIzIiwic3ViIjoiY3N1c1V0SVpDM2NWdHFuVDltcUYzZTdKZ2wyMyIsImlhdCI6MTczMTc0MzkzNiwiZXhwIjoxNzMxNzQ3NTM2LCJlbWFpbCI6InRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE4MDQwODkyMzQ5OTA3NzczODcyIl0sImVtYWlsIjpbInRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.JmJCCX9DLnHytXQxS6TNqdBXZpI5FsrsO4e_SsTaiqtEFLJhcIlBj0FGFN-J62C5lRN2hfgdH3m9_dyQALlqJHRRsRR_Ub0SxewbUuzNoRBLfiY1KKhRAwar6tLFfgbcavGu_OTNIKmHGUMrwznabXYS3rXcc1udoSAUn5HZBvWcsKRLDMCXdRHIvyjaMJ-vl9xPBwm6ReeXZJavNLw2qTxgvwLhvxak8KyeuE7LBjtOuBImI-oEzx1Snlx8JhkXcxFRMkFyAstDmlUx_h5TyaDkBlm3com2J8WL3y5it-o56uPxPSnkIlajJyFJ0Uhhkxxa8Lvywsofw6XHJAWLnQ
2024-11-16 09:58:57.419 +02:00 [INF] Verifying Firebase ID token.
2024-11-16 09:58:57.421 +02:00 [INF] Firebase ID token verified successfully for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 09:58:57.422 +02:00 [INF] Retrieving user information for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 09:58:57.730 +02:00 [INF] User information retrieved successfully. Email: trentfisher017@gmail.com, Display Name: Trent Fisher
2024-11-16 09:58:57.737 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__uid_0
2024-11-16 09:58:57.747 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='46', @p0='2024-11-16T07:58:57.7397929Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 09:58:57.749 +02:00 [INF] GoogleLogin successful for user trentfisher017@gmail.com with role Student
2024-11-16 09:58:57.750 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 09:58:57.752 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp) in 341.4412ms
2024-11-16 09:58:57.753 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:57.754 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/GoogleLogin - 200 null application/json; charset=utf-8 352.6541ms
2024-11-16 09:58:57.761 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 09:58:57.767 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:57.768 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:58:57.774 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:58:57.781 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 09:58:57.786 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 09:58:57.789 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:58:57.792 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:58:57.800 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:58:57.802 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 09:58:57.805 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 2.8132ms.
2024-11-16 09:58:57.806 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 36.4704ms
2024-11-16 09:58:57.807 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:57.808 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 46.3198ms
2024-11-16 09:58:57.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:58:57.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:58:57.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.7366ms
2024-11-16 09:58:57.855 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.1079ms
2024-11-16 09:58:59.943 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-16 09:58:59.949 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:59.950 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:58:59.952 +02:00 [INF] User logged out.
2024-11-16 09:58:59.952 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 09:58:59.953 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 1.1332ms
2024-11-16 09:58:59.953 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:59.954 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 11.2473ms
2024-11-16 09:58:59.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 09:58:59.961 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:58:59.962 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:58:59.963 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:59.964 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:58:59.965 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 09:58:59.967 +02:00 [INF] Executed ViewResult - view Login executed in 1.6335ms.
2024-11-16 09:58:59.967 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2.5157ms
2024-11-16 09:58:59.968 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:58:59.969 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 11.1049ms
2024-11-16 09:58:59.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:58:59.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.5739ms
2024-11-16 09:58:59.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:59:00.007 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.7632ms
2024-11-16 09:59:05.992 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 232
2024-11-16 09:59:05.998 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:59:05.999 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:59:05.999 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:06.009 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:59:06.034 +02:00 [INF] Attempting to log in user with email: trentfisher16@gmail.com
2024-11-16 09:59:06.051 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 09:59:06.057 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 09:59:06.579 +02:00 [INF] Received HTTP response headers after 517.171ms - 400
2024-11-16 09:59:06.582 +02:00 [INF] End processing HTTP request after 540.2057ms - 400
2024-11-16 09:59:06.585 +02:00 [ERR] Failed to log in user with email: trentfisher16@gmail.com
System.Exception: An error occurred during login. Please try again.
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 126
2024-11-16 09:59:06.672 +02:00 [ERR] Error occurred during login.
System.Exception: Your Email or password is incorrect. Please try again
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 148
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 223
2024-11-16 09:59:06.678 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 09:59:06.681 +02:00 [INF] Executed ViewResult - view Login executed in 2.948ms.
2024-11-16 09:59:06.683 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 670.5113ms
2024-11-16 09:59:06.684 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:06.689 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 696.7021ms
2024-11-16 09:59:06.708 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:59:06.710 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4381ms
2024-11-16 09:59:06.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:59:06.726 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.8853ms
2024-11-16 09:59:18.931 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 236
2024-11-16 09:59:18.935 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:59:18.936 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 09:59:18.937 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:18.938 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:59:18.940 +02:00 [INF] Attempting to log in user with email: trentfisher16@gmail.com
2024-11-16 09:59:18.941 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 09:59:18.942 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 09:59:19.359 +02:00 [INF] Received HTTP response headers after 415.9972ms - 200
2024-11-16 09:59:19.361 +02:00 [INF] End processing HTTP request after 420.1176ms - 200
2024-11-16 09:59:19.363 +02:00 [INF] User logged in successfully.
2024-11-16 09:59:19.687 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 09:59:19.697 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='45', @p0='2024-11-16T07:59:19.6903366Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 09:59:19.699 +02:00 [INF] User trentfisher16@gmail.com logged in successfully.
2024-11-16 09:59:19.700 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 09:59:19.700 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 760.5874ms
2024-11-16 09:59:19.701 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:19.702 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 770.2708ms
2024-11-16 09:59:19.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 09:59:19.709 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:19.710 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:59:19.719 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:59:19.736 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 09:59:19.755 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 09:59:19.824 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 09:59:19.834 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:59:19.841 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:59:19.849 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:59:19.852 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 09:59:19.858 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 5.582ms.
2024-11-16 09:59:19.859 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 146.0333ms
2024-11-16 09:59:19.860 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:19.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 156.1679ms
2024-11-16 09:59:19.886 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:59:19.886 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:59:19.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 17.4702ms
2024-11-16 09:59:19.909 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.4069ms
2024-11-16 09:59:19.932 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 09:59:19.935 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 09:59:19.937 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 09:59:19.938 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 5.9227ms
2024-11-16 09:59:19.971 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=UKqSr4nVwrQ7lXRURT7lNA - null null
2024-11-16 09:59:19.974 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 09:59:34.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 09:59:34.306 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731607635. Expected to be greater than 1731743974.
2024-11-16 09:59:34.308 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731607635. Expected to be greater than 1731743974.
2024-11-16 09:59:34.308 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:34.309 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:59:34.312 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731607635. Expected to be greater than 1731743974.
2024-11-16 09:59:34.314 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 09:59:34.316 +02:00 [INF] Executed ViewResult - view Login executed in 2.6472ms.
2024-11-16 09:59:34.318 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 6.1255ms
2024-11-16 09:59:34.319 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:34.320 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 32.5417ms
2024-11-16 09:59:34.412 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 09:59:34.412 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-16 09:59:34.412 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-16 09:59:34.417 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731607635. Expected to be greater than 1731743974.
2024-11-16 09:59:34.418 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731607635. Expected to be greater than 1731743974.
2024-11-16 09:59:34.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:59:34.419 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731607635. Expected to be greater than 1731743974.
2024-11-16 09:59:34.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:59:34.420 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-16 09:59:34.420 +02:00 [INF] The file /css/Login.css was not modified
2024-11-16 09:59:34.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9095ms
2024-11-16 09:59:34.422 +02:00 [INF] The file /js/login.js was not modified
2024-11-16 09:59:34.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 12.5697ms
2024-11-16 09:59:34.425 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 13.6894ms
2024-11-16 09:59:34.431 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 19.6013ms
2024-11-16 09:59:34.435 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.3206ms
2024-11-16 09:59:46.934 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/GoogleLogin - application/json 1191
2024-11-16 09:59:46.942 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731607635. Expected to be greater than 1731743986.
2024-11-16 09:59:46.947 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731607635. Expected to be greater than 1731743986.
2024-11-16 09:59:46.952 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:46.954 +02:00 [INF] Route matched with {action = "GoogleLogin", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(GoogleLoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 09:59:46.956 +02:00 [INF] GoogleLogin attempt initiated
2024-11-16 09:59:46.957 +02:00 [INF] here is your token grump eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlNTIxYmY1ZjdhNDAwOGMzYmQ3MjFmMzk2OTcwOWI1MzY0MzA5NjEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVHJlbnQgRmlzaGVyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lfMG11MTRncWZqLW4zMDZsZUlEZ2JmZk83bHByOWQyUUlUd2h2OVdLanZCaXdMcDh3PXM5Ni1jIiwicm9sZSI6IlN0dWRlbnQiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vdXFtcy1hM2Q4NyIsImF1ZCI6InVxbXMtYTNkODciLCJhdXRoX3RpbWUiOjE3MzE3NDM5ODYsInVzZXJfaWQiOiJjc3VzVXRJWkMzY1Z0cW5UOW1xRjNlN0pnbDIzIiwic3ViIjoiY3N1c1V0SVpDM2NWdHFuVDltcUYzZTdKZ2wyMyIsImlhdCI6MTczMTc0Mzk4NiwiZXhwIjoxNzMxNzQ3NTg2LCJlbWFpbCI6InRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE4MDQwODkyMzQ5OTA3NzczODcyIl0sImVtYWlsIjpbInRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.fJeYJDz03jfGuHGOAnKN9cc4uKOz5cMVBJzLBzb1SIAz-miYv6X1_Wvsq1I1v2f7m9r0kwKsvP3lG2bo_gFuObd0NQzqVvSINslumOctkroCvY7NsIxmyfbRpyRq6b6y93GlHOgcnauS2E4fRp25NRG4ORh6vu4c1IrhXTRQhMGL2t3Q1dfV6fBw8_nD1spB1OeMPoNn4DBWFssLWV0ExIyVJa6s5Mhg8jxPRjBIDOSgI3V4wewhJXs7Hoa10Mk9i3eZ5fWkqPmrCu0lKhQQ_z_nPa68SNyv9kxsbJDzyqpP0QBLw9d_uYks97lYgxo5ja8uxTHOQzNzVIz13VH3zQ
2024-11-16 09:59:46.958 +02:00 [INF] Verifying Firebase ID token.
2024-11-16 09:59:46.960 +02:00 [INF] Firebase ID token verified successfully for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 09:59:46.965 +02:00 [INF] Retrieving user information for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 09:59:47.299 +02:00 [INF] User information retrieved successfully. Email: trentfisher017@gmail.com, Display Name: Trent Fisher
2024-11-16 09:59:47.316 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__uid_0
2024-11-16 09:59:47.324 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='46', @p0='2024-11-16T07:59:47.3198045Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 09:59:47.326 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 09:59:47.328 +02:00 [INF] GoogleLogin successful for user trentfisher017@gmail.com with role Student
2024-11-16 09:59:47.331 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 09:59:47.333 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp) in 377.6411ms
2024-11-16 09:59:47.334 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:47.335 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:f7f75ce7-442f-4c77-3e8d-843b253605e6
2024-11-16 09:59:47.336 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/GoogleLogin - 200 null application/json; charset=utf-8 401.2735ms
2024-11-16 09:59:47.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 09:59:47.366 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:47.369 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 09:59:47.375 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:59:47.388 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 09:59:47.405 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 09:59:47.416 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 09:59:47.422 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:59:47.435 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 09:59:47.439 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 09:59:47.447 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 7.9196ms.
2024-11-16 09:59:47.450 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 79.9672ms
2024-11-16 09:59:47.452 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:47.454 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 97.9237ms
2024-11-16 09:59:47.548 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:59:47.554 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.6837ms
2024-11-16 09:59:47.558 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:59:47.568 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.6242ms
2024-11-16 09:59:58.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 09:59:58.459 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:58.464 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 09:59:58.530 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 09:59:58.539 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 09:59:58.599 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 60.6737ms.
2024-11-16 09:59:58.600 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 134.1364ms
2024-11-16 09:59:58.601 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 09:59:58.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 148.9559ms
2024-11-16 09:59:58.645 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 09:59:58.645 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 09:59:58.647 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4695ms
2024-11-16 09:59:58.655 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.6321ms
2024-11-16 10:00:19.053 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-11-16 10:00:19.063 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:19.066 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:00:19.069 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:00:19.076 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:00:19.080 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:00:19.088 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-11-16 10:00:19.091 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-11-16 10:00:19.111 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 21.4242ms.
2024-11-16 10:00:19.113 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 45.2102ms
2024-11-16 10:00:19.114 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:19.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 62.698ms
2024-11-16 10:00:19.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:00:19.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDetails.css - null null
2024-11-16 10:00:19.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.9309ms
2024-11-16 10:00:19.164 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:00:19.167 +02:00 [INF] The file /css/QueryDetails.css was not modified
2024-11-16 10:00:19.171 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDetails.css - 304 null text/css 10.2379ms
2024-11-16 10:00:19.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.0598ms
2024-11-16 10:00:24.130 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ResolvedTickets - null null
2024-11-16 10:00:24.135 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:24.138 +02:00 [INF] Route matched with {action = "ResolvedTickets", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResolvedTickets() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:00:24.142 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:00:24.148 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:00:24.152 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:00:24.167 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0 AND [q].[Status] = N'Resolved'
2024-11-16 10:00:24.169 +02:00 [INF] Executing PartialViewResult, running view StudentQuery/QueryOverview/ResolvedTickets.
2024-11-16 10:00:24.173 +02:00 [INF] Executed PartialViewResult - view StudentQuery/QueryOverview/ResolvedTickets executed in 4.0566ms.
2024-11-16 10:00:24.174 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp) in 35.2958ms
2024-11-16 10:00:24.175 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:24.177 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ResolvedTickets - 200 null text/html; charset=utf-8 46.8757ms
2024-11-16 10:00:25.501 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AllTickets - null null
2024-11-16 10:00:25.507 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AllTickets (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:25.513 +02:00 [INF] Route matched with {action = "AllTickets", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AllTickets() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:00:25.523 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:00:25.531 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:00:25.536 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:00:25.540 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-11-16 10:00:25.543 +02:00 [INF] Executing PartialViewResult, running view StudentQuery/QueryOverview/AllTickets.
2024-11-16 10:00:25.548 +02:00 [INF] Executed PartialViewResult - view StudentQuery/QueryOverview/AllTickets executed in 5.0387ms.
2024-11-16 10:00:25.549 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AllTickets (Apptivate_UQMS_WebApp) in 28.5195ms
2024-11-16 10:00:25.550 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AllTickets (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:25.550 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AllTickets - 200 null text/html; charset=utf-8 49.1565ms
2024-11-16 10:00:26.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:00:26.541 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:26.548 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:00:26.553 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:00:26.554 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:00:26.563 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 9.0708ms.
2024-11-16 10:00:26.564 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 14.7697ms
2024-11-16 10:00:26.565 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:26.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 29.6869ms
2024-11-16 10:00:26.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:00:26.612 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:00:26.613 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.6001ms
2024-11-16 10:00:26.614 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.9569ms
2024-11-16 10:00:27.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:00:27.995 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:28.000 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:00:28.002 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:00:28.015 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:00:28.019 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:00:28.022 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:00:28.052 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:00:28.072 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:00:28.150 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 10:00:28.198 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 48.5935ms.
2024-11-16 10:00:28.200 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 199.6374ms
2024-11-16 10:00:28.202 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:00:28.202 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 212.6972ms
2024-11-16 10:00:28.235 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AcademicQuery.css?v=OyeICuJsiCO8xbRS4ThLChwjDYMQXHOjp4Yjc8A5llk - null null
2024-11-16 10:00:28.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:00:28.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:00:28.239 +02:00 [INF] Sending file. Request path: '/css/AcademicQuery.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AcademicQuery.css'
2024-11-16 10:00:28.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AcademicQuery.css?v=OyeICuJsiCO8xbRS4ThLChwjDYMQXHOjp4Yjc8A5llk - 200 10310 text/css 7.1628ms
2024-11-16 10:00:28.239 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.6835ms
2024-11-16 10:00:28.247 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.2746ms
2024-11-16 10:01:24.221 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryqIEZAg3vBQe0MJc0 75023
2024-11-16 10:01:24.230 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:01:24.244 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:01:24.248 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:01:24.279 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:01:24.280 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:01:24.285 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:01:24.296 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:01:24.303 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:01:24.306 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 2
2024-11-16 10:01:24.308 +02:00 [INF] Student details:0
2024-11-16 10:01:24.442 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='2' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='Do i need to apply for a remark before the end of October' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T10:01:24.3269659+02:00' (Nullable = true), @p10='20241116-62101' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 10:01:24.458 +02:00 [INF] Query with ID 114 successfully created.
2024-11-16 10:01:24.465 +02:00 [INF] Uploading file: Resources and links.pdf as e50f3c9f-e52d-4d51-8e3f-2f038c09b859_Resources and links.pdf
2024-11-16 10:01:26.285 +02:00 [INF] File uploaded successfully: e50f3c9f-e52d-4d51-8e3f-2f038c09b859_Resources and links.pdf
2024-11-16 10:01:26.306 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='Resources and links.pdf' (Nullable = false) (Size = 4000), @p1='e50f3c9f-e52d-4d51-8e3f-2f038c09b859_Resources and links.pdf' (Nullable = false) (Size = 4000), @p2='114', @p3='2024-11-16T10:01:26.2881351+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [QueryDocuments] ([DocumentName], [DocumentPath], [QueryID], [UploadDate])
OUTPUT INSERTED.[DocumentID]
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 10:01:26.312 +02:00 [INF] Document associated with QueryID 114.
2024-11-16 10:01:26.322 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 10:01:26.333 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 10:01:26.352 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 10:01:26.401 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='114', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T10:01:26.3544286+02:00' (Nullable = true), @p3='20241116-45907' (Nullable = false) (Size = 4000), @p4='114' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 10:01:26.414 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 10:01:26.421 +02:00 [INF] Get Staff email called with staffId: 10
2024-11-16 10:01:26.440 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 10:01:26.449 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 10:01:26.451 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 10:01:26.455 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 10:01:27.249 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 10:01:27.252 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 10:01:27.253 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 10:01:27.254 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 10:01:27.255 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 10:01:27.256 +02:00 [INF] sent notification to  10.
2024-11-16 10:01:27.256 +02:00 [INF] Query submission process completed successfully for QueryID 114.
2024-11-16 10:01:27.259 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:01:27.262 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:01:27.268 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:01:27.269 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 10:01:27.270 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 10:01:27.518 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 10:01:27.520 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 10:01:27.521 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 10:01:27.522 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 3276.1286ms
2024-11-16 10:01:27.524 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:01:27.527 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 3306.462ms
2024-11-16 10:01:27.533 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:01:27.536 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:01:27.537 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:01:27.540 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:01:27.541 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:01:27.545 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 3.4288ms.
2024-11-16 10:01:27.545 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 7.5044ms
2024-11-16 10:01:27.546 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:01:27.547 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 13.7686ms
2024-11-16 10:01:27.585 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:01:27.587 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:01:27.589 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4607ms
2024-11-16 10:01:27.593 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.3019ms
2024-11-16 10:01:43.917 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:01:43.922 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:01:43.923 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:01:43.933 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:01:43.944 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 10:01:43.956 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 10:01:44.002 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 10:01:44.011 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:01:44.014 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:01:44.016 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:01:44.018 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 10:01:44.019 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 1.5423ms.
2024-11-16 10:01:44.020 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 96.3266ms
2024-11-16 10:01:44.021 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:01:44.021 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 103.8049ms
2024-11-16 10:01:44.029 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 10:01:44.030 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=UKqSr4nVwrQ7lXRURT7lNA - 200 null null 144060.0875ms
2024-11-16 10:01:44.046 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:01:44.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2365ms
2024-11-16 10:01:44.051 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:01:44.058 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.6054ms
2024-11-16 10:01:44.110 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:01:44.113 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:01:44.114 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:01:44.115 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 4.918ms
2024-11-16 10:01:44.138 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=yfI1P5cldquUoFSFVaahvQ - null null
2024-11-16 10:01:44.142 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:07:24.899 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:07:24.935 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:07:24.938 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:07:24.952 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:07:24.964 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:07:24.967 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:07:25.011 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:07:25.028 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:07:25.037 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:07:25.040 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 10:07:25.047 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 7.2364ms.
2024-11-16 10:07:25.049 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 109.3953ms
2024-11-16 10:07:25.051 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:07:25.051 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 153.3062ms
2024-11-16 10:07:25.263 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:07:25.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.8626ms
2024-11-16 10:07:25.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:07:25.288 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.1248ms
2024-11-16 10:08:35.677 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryS3wLvXJlVGnMLMmX 836
2024-11-16 10:08:35.689 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:08:35.690 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:08:35.693 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:08:35.730 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:08:35.731 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:08:35.736 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:08:35.746 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:08:35.752 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:08:35.754 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 10:08:35.755 +02:00 [INF] Student details:0
2024-11-16 10:08:35.794 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='When does course registration end ' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T10:08:35.7568828+02:00' (Nullable = true), @p10='20241116-32249' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 10:08:35.799 +02:00 [INF] Query with ID 115 successfully created.
2024-11-16 10:08:35.804 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 10:08:35.811 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 10:08:35.819 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 10:08:35.829 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='115', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T10:08:35.8206192+02:00' (Nullable = true), @p3='20241116-58603' (Nullable = false) (Size = 4000), @p4='115' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 10:08:35.832 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 10:08:35.834 +02:00 [INF] Get Staff email called with staffId: 10
2024-11-16 10:08:35.837 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 10:08:35.841 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 10:08:35.842 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 10:08:35.843 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 10:08:36.502 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 10:08:36.503 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 10:08:36.503 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 10:08:36.504 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 10:08:36.505 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 10:08:36.505 +02:00 [INF] sent notification to  10.
2024-11-16 10:08:36.506 +02:00 [INF] Query submission process completed successfully for QueryID 115.
2024-11-16 10:08:36.506 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:08:36.510 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:08:36.515 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:08:36.516 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 10:08:36.517 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 10:08:36.786 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 10:08:36.787 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 10:08:36.789 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 10:08:36.791 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1099.9066ms
2024-11-16 10:08:36.792 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:08:36.793 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1115.399ms
2024-11-16 10:08:36.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:08:36.807 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:08:36.808 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:08:36.814 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:08:36.815 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:08:36.820 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 4.9325ms.
2024-11-16 10:08:36.820 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 11.1982ms
2024-11-16 10:08:36.821 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:08:36.822 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 18.1043ms
2024-11-16 10:08:36.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:08:36.875 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:08:36.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.4144ms
2024-11-16 10:08:36.887 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.8449ms
2024-11-16 10:15:05.780 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 10:15:05.962 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 10:15:05.963 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 10:15:05.967 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 10:15:05.968 +02:00 [INF] Hosting environment: Development
2024-11-16 10:15:05.969 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 10:15:06.361 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:15:07.344 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:07.361 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:15:07.386 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:15:07.397 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:15:07.503 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 109.4485ms.
2024-11-16 10:15:07.510 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 146.8239ms
2024-11-16 10:15:07.511 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:07.519 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 1160.0192ms
2024-11-16 10:15:07.761 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:15:07.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.0927ms
2024-11-16 10:15:07.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:15:07.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.4669ms
2024-11-16 10:15:09.463 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:15:09.489 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:15:09.501 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:15:09.503 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 39.4482ms
2024-11-16 10:15:09.535 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=NEHDfQM16IHAaIu4yIVKyA - null null
2024-11-16 10:15:09.541 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:15:34.642 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:15:34.656 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:34.663 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:15:34.668 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:15:34.686 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:15:34.688 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 10:15:34.688 +02:00 [ERR] User not logged in.
2024-11-16 10:15:34.689 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 10:15:34.690 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 26.3251ms
2024-11-16 10:15:34.691 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:34.691 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 302 0 null 48.9855ms
2024-11-16 10:15:34.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 10:15:34.706 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:34.711 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 10:15:36.170 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 10:15:36.827 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 10:15:36.903 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 10:15:36.906 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 10:15:36.908 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 10:15:36.909 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2196.2349ms
2024-11-16 10:15:36.909 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:36.911 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:b411020d-5d75-42e4-e81b-336dbfc2e81d
2024-11-16 10:15:36.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2215.6646ms
2024-11-16 10:15:36.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:15:36.928 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:36.929 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:15:36.933 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 10:15:36.933 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.7913ms
2024-11-16 10:15:36.934 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:36.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 10.6645ms
2024-11-16 10:15:36.939 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 10:15:36.943 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:36.946 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:15:37.018 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:15:37.108 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 10:15:37.149 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 10:15:37.200 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:15:37.211 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:15:37.234 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:15:37.239 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 10:15:37.278 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 40.7056ms.
2024-11-16 10:15:37.279 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 331.9005ms
2024-11-16 10:15:37.281 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:37.282 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 342.7359ms
2024-11-16 10:15:37.329 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:15:37.336 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:15:37.337 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.5363ms
2024-11-16 10:15:37.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.9025ms
2024-11-16 10:15:38.866 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 10:15:38.875 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:38.877 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:15:38.881 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:15:38.885 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 10:15:38.895 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 12.4554ms.
2024-11-16 10:15:38.895 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 17.4903ms
2024-11-16 10:15:38.896 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:38.897 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 31.1471ms
2024-11-16 10:15:38.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:15:38.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:15:38.943 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2719ms
2024-11-16 10:15:38.952 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.5828ms
2024-11-16 10:15:40.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:15:40.361 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:40.363 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:15:40.369 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:15:40.370 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:15:40.372 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 2.5248ms.
2024-11-16 10:15:40.373 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 7.55ms
2024-11-16 10:15:40.374 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:40.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 19.5805ms
2024-11-16 10:15:40.415 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:15:40.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:15:40.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5748ms
2024-11-16 10:15:40.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.3287ms
2024-11-16 10:15:41.278 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:15:41.286 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:41.288 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:15:41.290 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:15:41.291 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:15:41.295 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:15:41.345 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:15:41.373 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:15:41.401 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:15:41.468 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 10:15:41.488 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 21.0576ms.
2024-11-16 10:15:41.489 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 200.7982ms
2024-11-16 10:15:41.490 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:15:41.491 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 212.8781ms
2024-11-16 10:15:41.535 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:15:41.535 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:15:41.538 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3129ms
2024-11-16 10:15:41.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.4652ms
2024-11-16 10:16:12.389 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryfwqeMG604egeoUUD 813
2024-11-16 10:16:12.395 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:16:12.410 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:16:12.417 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:16:12.441 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:16:12.443 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:16:12.452 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:16:12.466 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:16:12.472 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:16:12.476 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 10:16:12.477 +02:00 [INF] Student details:0
2024-11-16 10:16:12.643 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test nofotu' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T10:16:12.4913565+02:00' (Nullable = true), @p10='20241116-71602' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 10:16:12.664 +02:00 [INF] Query with ID 116 successfully created.
2024-11-16 10:16:12.672 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 10:16:12.687 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 10:16:12.715 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 10:16:12.771 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='116', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T10:16:12.7183901+02:00' (Nullable = true), @p3='20241116-64142' (Nullable = false) (Size = 4000), @p4='116' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 10:16:12.784 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 10:16:12.785 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 10:16:12.788 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 10:16:12.795 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 10:16:12.803 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 10:16:12.804 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 10:16:12.807 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 10:16:13.684 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 10:16:13.685 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 10:16:13.685 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 10:16:13.688 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 10:16:13.689 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 10:16:13.690 +02:00 [INF] sent notification to  10.
2024-11-16 10:16:13.690 +02:00 [INF] Query submission process completed successfully for QueryID 116.
2024-11-16 10:16:13.692 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:16:13.695 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:16:13.700 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:16:13.701 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 10:16:13.702 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 10:16:13.968 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 10:16:13.970 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 10:16:13.972 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 10:16:13.975 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1562.7301ms
2024-11-16 10:16:13.977 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:16:13.978 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1589.2938ms
2024-11-16 10:16:13.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:16:13.987 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:16:13.988 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:16:13.990 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:16:13.991 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:16:13.993 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 2.5157ms.
2024-11-16 10:16:13.994 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 5.5659ms
2024-11-16 10:16:13.995 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:16:13.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 11.2314ms
2024-11-16 10:16:14.029 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:16:14.031 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:16:14.033 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3011ms
2024-11-16 10:16:14.037 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.9805ms
2024-11-16 10:17:04.626 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 10:17:04.804 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 10:17:04.805 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 10:17:04.809 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 10:17:04.810 +02:00 [INF] Hosting environment: Development
2024-11-16 10:17:04.811 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 10:17:04.943 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:17:05.172 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:17:05.458 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:17:05.472 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:17:05.476 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:05.476 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:05.483 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:17:05.487 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 28.6548ms
2024-11-16 10:17:05.489 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:05.489 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:05.490 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=uFha7kaNq_ejbEVTzryRug - null null
2024-11-16 10:17:05.497 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:17:05.517 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:17:05.518 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 10:17:05.522 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 26.2829ms
2024-11-16 10:17:05.523 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:05.525 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:17:05.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 499 null null 583.4785ms
2024-11-16 10:17:05.595 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 74.7276ms.
2024-11-16 10:17:05.600 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 107.1053ms
2024-11-16 10:17:05.602 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:05.605 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 432.8811ms
2024-11-16 10:17:05.657 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:17:05.662 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:17:05.667 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.4023ms
2024-11-16 10:17:05.693 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.0097ms
2024-11-16 10:17:07.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:17:07.939 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:07.941 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:07.943 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 10:17:07.943 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.2916ms
2024-11-16 10:17:07.944 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:07.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 14.0422ms
2024-11-16 10:17:07.952 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 10:17:07.955 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:07.958 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:07.966 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 10:17:07.967 +02:00 [ERR] User not logged in.
2024-11-16 10:17:07.968 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 10:17:07.968 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 8.8434ms
2024-11-16 10:17:07.969 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:07.969 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 302 0 null 17.2798ms
2024-11-16 10:17:07.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 10:17:07.977 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:07.982 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:09.288 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 10:17:09.770 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 10:17:09.831 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 10:17:09.833 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 10:17:09.835 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 10:17:09.836 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1852.6706ms
2024-11-16 10:17:09.836 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:09.839 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:920e34b8-a116-ea17-ee83-aeca0d9b847f
2024-11-16 10:17:09.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1869.0283ms
2024-11-16 10:17:09.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:17:09.851 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:09.851 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:09.852 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 10:17:09.853 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.6124ms
2024-11-16 10:17:09.853 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:09.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 6.7492ms
2024-11-16 10:17:09.860 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 10:17:09.863 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:09.864 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:09.928 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:17:09.992 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 10:17:10.025 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 10:17:10.072 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:17:10.088 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:17:10.108 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:17:10.113 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 10:17:10.137 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 25.9779ms.
2024-11-16 10:17:10.140 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 274.7387ms
2024-11-16 10:17:10.141 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:10.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 282.7919ms
2024-11-16 10:17:10.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:17:10.199 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:17:10.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1119ms
2024-11-16 10:17:10.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.7506ms
2024-11-16 10:17:12.577 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 10:17:12.588 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:12.591 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:12.595 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:17:12.599 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 10:17:12.610 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 13.8408ms.
2024-11-16 10:17:12.612 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 19.7504ms
2024-11-16 10:17:12.614 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:12.615 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 38.1082ms
2024-11-16 10:17:12.677 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:17:12.677 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:17:12.680 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1442ms
2024-11-16 10:17:12.687 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.4516ms
2024-11-16 10:17:13.519 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:17:13.522 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:13.523 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:13.526 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:17:13.527 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:17:13.533 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 5.4043ms.
2024-11-16 10:17:13.533 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 9.6359ms
2024-11-16 10:17:13.534 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:13.535 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 15.7107ms
2024-11-16 10:17:13.569 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:17:13.571 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:17:13.573 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2711ms
2024-11-16 10:17:13.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.5611ms
2024-11-16 10:17:14.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:17:14.599 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:14.606 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:14.611 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:17:14.622 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:17:14.626 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:17:14.685 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:17:14.716 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:17:14.739 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:17:14.787 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 10:17:14.803 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 17.0242ms.
2024-11-16 10:17:14.805 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 195.7134ms
2024-11-16 10:17:14.806 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:14.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 213.5486ms
2024-11-16 10:17:14.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:17:14.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:17:14.850 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7503ms
2024-11-16 10:17:14.856 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.6646ms
2024-11-16 10:17:34.728 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryNBuoxHxK5xvI5mmn 808
2024-11-16 10:17:34.736 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:34.753 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:34.758 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:17:34.783 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:17:34.784 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:17:34.790 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:17:34.807 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:17:34.817 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:17:34.821 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 10:17:34.822 +02:00 [INF] Student details:0
2024-11-16 10:17:34.946 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 2' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T10:17:34.8358217+02:00' (Nullable = true), @p10='20241116-60271' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 10:17:34.967 +02:00 [INF] Query with ID 117 successfully created.
2024-11-16 10:17:34.980 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 10:17:34.995 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 10:17:35.017 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 10:17:35.069 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='117', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T10:17:35.0211043+02:00' (Nullable = true), @p3='20241116-48088' (Nullable = false) (Size = 4000), @p4='117' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 10:17:35.083 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 10:17:35.084 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 10:17:35.087 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 10:17:35.097 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 10:17:35.104 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 10:17:35.105 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 10:17:35.107 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 10:17:35.951 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 10:17:35.952 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 10:17:35.952 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 10:17:35.953 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 10:17:35.954 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 10:17:35.955 +02:00 [INF] sent notification to  10.
2024-11-16 10:17:35.955 +02:00 [INF] Query submission process completed successfully for QueryID 117.
2024-11-16 10:17:35.961 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:17:35.966 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:17:35.971 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:17:35.973 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 10:17:35.974 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 10:17:36.608 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 10:17:36.610 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 10:17:36.612 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 10:17:36.614 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1858.5554ms
2024-11-16 10:17:36.616 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:36.616 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1888.3464ms
2024-11-16 10:17:36.621 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:17:36.624 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:36.625 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:17:36.628 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:17:36.629 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:17:36.632 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 2.3553ms.
2024-11-16 10:17:36.632 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 6.5105ms
2024-11-16 10:17:36.633 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:17:36.634 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 12.6185ms
2024-11-16 10:17:36.673 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:17:36.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:17:36.681 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.242ms
2024-11-16 10:17:36.688 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.309ms
2024-11-16 10:37:53.787 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 10:37:53.926 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 10:37:53.927 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 10:37:53.930 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 10:37:53.931 +02:00 [INF] Hosting environment: Development
2024-11-16 10:37:53.932 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 10:37:54.493 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 10:37:55.763 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:37:55.784 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 10:37:57.335 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 10:37:57.995 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 10:37:58.066 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 10:37:58.070 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 10:37:58.084 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 10:37:58.091 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2302.3593ms
2024-11-16 10:37:58.094 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:37:58.098 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:c257d726-87c1-cc9e-e128-56317e431b27
2024-11-16 10:37:58.108 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3618.9536ms
2024-11-16 10:37:58.118 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:37:58.134 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:37:58.136 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:37:58.139 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 10:37:58.142 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 4.1834ms
2024-11-16 10:37:58.143 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:37:58.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 26.1749ms
2024-11-16 10:37:58.150 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 10:37:58.161 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:37:58.165 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:37:58.247 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:37:58.330 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 10:37:58.375 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 10:37:58.421 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:37:58.431 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:37:58.449 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:37:58.454 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:37:58.461 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:37:58.466 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:37:58.467 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 17.0456ms
2024-11-16 10:37:58.471 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 10:37:58.478 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=IAgoa7Co2KDjaAFukdbgrQ - null null
2024-11-16 10:37:58.481 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:37:58.502 +02:00 [WRN] Staff connection attempt failed. No staffId in query string. Connection ID: -1HJKCd5ElOwrqS8rElfRw
2024-11-16 10:37:58.585 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 119.3701ms.
2024-11-16 10:37:58.588 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 420.5266ms
2024-11-16 10:37:58.589 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:37:58.592 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 441.8928ms
2024-11-16 10:37:58.692 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:37:58.696 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:37:58.698 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.3256ms
2024-11-16 10:37:58.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6311ms
2024-11-16 10:38:01.448 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/Chats - null null
2024-11-16 10:38:01.456 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:01.463 +02:00 [INF] Route matched with {action = "Chats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Chats() on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:01.570 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:01.641 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__currentUserId_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[Name], [u].[Surname], [u].[IsOnline], [u].[LastSeen], (
    SELECT COUNT(*)
    FROM [Messages] AS [m]
    WHERE [m].[ReceiverId] = @__currentUserId_0 AND [m].[IsRead] = CAST(0 AS bit) AND [u].[UserID] = [m].[SenderId]) AS [UnreadCount]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__currentUserId_0 AND [u].[Role] = N'Staff'
2024-11-16 10:38:01.646 +02:00 [INF] Executing ViewResult, running view Chats.
2024-11-16 10:38:01.719 +02:00 [INF] Executed ViewResult - view Chats executed in 75.0694ms.
2024-11-16 10:38:01.720 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp) in 255.5076ms
2024-11-16 10:38:01.722 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:01.723 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/Chats - 200 null text/html; charset=utf-8 274.7841ms
2024-11-16 10:38:01.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Chats.css - null null
2024-11-16 10:38:01.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/chat-enhanced.js - null null
2024-11-16 10:38:01.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/chat.js - null null
2024-11-16 10:38:01.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:38:01.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:38:01.790 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.3266ms
2024-11-16 10:38:01.800 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.3781ms
2024-11-16 10:38:01.867 +02:00 [INF] Sending file. Request path: '/css/Chats.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Chats.css'
2024-11-16 10:38:01.868 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Chats.css - 200 8830 text/css 101.1948ms
2024-11-16 10:38:01.961 +02:00 [INF] Sending file. Request path: '/js/chat.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\chat.js'
2024-11-16 10:38:01.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/chat.js - 200 5912 text/javascript 183.1592ms
2024-11-16 10:38:01.965 +02:00 [INF] Sending file. Request path: '/js/chat-enhanced.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\chat-enhanced.js'
2024-11-16 10:38:01.966 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/chat-enhanced.js - 200 8476 text/javascript 187.2079ms
2024-11-16 10:38:01.970 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:38:01.974 +02:00 [INF] Executing endpoint '/chatHub/negotiate'
2024-11-16 10:38:01.975 +02:00 [INF] Executed endpoint '/chatHub/negotiate'
2024-11-16 10:38:01.976 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 5.637ms
2024-11-16 10:38:02.045 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/chatHub?id=GA-b21rllSJhraRMuGznVg - null null
2024-11-16 10:38:02.049 +02:00 [INF] Executing endpoint '/chatHub'
2024-11-16 10:38:02.080 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/users/statuses - null null
2024-11-16 10:38:02.089 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:02.090 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:02.111 +02:00 [INF] Route matched with {action = "GetUserStatuses", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStatuses() on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:02.186 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID] AS [userId], [u].[IsOnline] AS [isOnline]
FROM [Users] AS [u]
2024-11-16 10:38:02.196 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:02.230 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp) in 108.7204ms
2024-11-16 10:38:02.232 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:02.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/users/statuses - 200 null application/json; charset=utf-8 152.6114ms
2024-11-16 10:38:02.281 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@p2='46', @p0='True', @p1='2024-11-16T08:38:02.1052346Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsOnline] = @p0, [LastSeen] = @p1
OUTPUT 1
WHERE [UserID] = @p2;
2024-11-16 10:38:03.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:03.724 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:03.734 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:03.738 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:03.747 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__senderId_0='3', @__currentUserId_1='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[ConversationID], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__senderId_0 AND [m].[ReceiverId] = @__currentUserId_1 AND [m].[IsRead] = CAST(0 AS bit)
2024-11-16 10:38:03.753 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:03.778 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:03.781 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:03.792 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 52.8554ms
2024-11-16 10:38:03.794 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:03.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 75.7943ms
2024-11-16 10:38:04.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:04.977 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:04.978 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:04.985 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:04.995 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:04.997 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:04.998 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 19.1031ms
2024-11-16 10:38:04.999 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:04.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:05.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 25.4163ms
2024-11-16 10:38:05.001 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:05.002 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:05.006 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:05.011 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:05.012 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:05.013 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 8.5361ms
2024-11-16 10:38:05.013 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:05.014 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 14.7043ms
2024-11-16 10:38:06.484 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:06.491 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:06.492 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:06.497 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:06.505 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:06.506 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:06.507 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 13.9815ms
2024-11-16 10:38:06.507 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:06.508 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 24.2419ms
2024-11-16 10:38:07.980 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:07.983 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:07.983 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:07.988 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:07.994 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:07.995 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:07.996 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 12.0506ms
2024-11-16 10:38:07.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:07.998 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:08.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 19.9097ms
2024-11-16 10:38:08.000 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:08.003 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:08.005 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:08.007 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:08.008 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:08.009 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 5.0878ms
2024-11-16 10:38:08.009 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:08.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 12.1517ms
2024-11-16 10:38:09.484 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:09.493 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:09.493 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:09.497 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:09.504 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:09.507 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:09.508 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 13.3541ms
2024-11-16 10:38:09.509 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:09.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 25.3164ms
2024-11-16 10:38:10.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:10.990 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:10.992 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:10.999 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:11.008 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:11.009 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:11.010 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 15.2522ms
2024-11-16 10:38:11.011 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:11.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:11.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 29.2675ms
2024-11-16 10:38:11.015 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:11.017 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:11.019 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:11.021 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:11.022 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:11.022 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 5.054ms
2024-11-16 10:38:11.023 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:11.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 11.8902ms
2024-11-16 10:38:12.239 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:12.310 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='how you going' (Nullable = false) (Size = 4000), @p1=NULL (DbType = Int32), @p2='False', @p3='3', @p4='46', @p5='2024-11-16T10:38:12.2424089+02:00'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([Content], [ConversationID], [IsRead], [ReceiverId], [SenderId], [Timestamp])
OUTPUT INSERTED.[MessageId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-16 10:38:12.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:12.481 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:12.482 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:12.485 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:12.494 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:12.496 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:12.497 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 13.9518ms
2024-11-16 10:38:12.497 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:12.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 23.5506ms
2024-11-16 10:38:13.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:13.978 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:13.979 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:13.986 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:13.994 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:13.996 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:13.998 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 16.95ms
2024-11-16 10:38:13.999 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:13.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:13.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 24.7426ms
2024-11-16 10:38:14.001 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:14.002 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:14.004 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:14.007 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:14.010 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:14.013 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 9.7671ms
2024-11-16 10:38:14.013 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:14.014 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 14.9474ms
2024-11-16 10:38:15.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:15.487 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:15.491 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:15.499 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:15.506 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:15.509 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:15.510 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 16.1822ms
2024-11-16 10:38:15.510 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:15.511 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 29.0075ms
2024-11-16 10:38:15.757 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=4 - null null
2024-11-16 10:38:15.760 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:15.761 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:15.762 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:15.768 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__senderId_0='4', @__currentUserId_1='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[ConversationID], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__senderId_0 AND [m].[ReceiverId] = @__currentUserId_1 AND [m].[IsRead] = CAST(0 AS bit)
2024-11-16 10:38:15.785 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:15.793 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:15.794 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:15.795 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 31.2768ms
2024-11-16 10:38:15.796 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:15.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=4 - 200 null application/json; charset=utf-8 39.164ms
2024-11-16 10:38:16.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:16.487 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:16.489 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:16.490 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:16.495 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__senderId_0='3', @__currentUserId_1='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[ConversationID], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__senderId_0 AND [m].[ReceiverId] = @__currentUserId_1 AND [m].[IsRead] = CAST(0 AS bit)
2024-11-16 10:38:16.499 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:16.504 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:16.507 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:16.508 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 15.9836ms
2024-11-16 10:38:16.508 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:16.509 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 24.011ms
2024-11-16 10:38:16.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:16.977 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:16.978 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:16.983 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:16.989 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:16.990 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:16.991 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 11.5829ms
2024-11-16 10:38:16.992 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:16.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:16.992 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 18.4593ms
2024-11-16 10:38:16.994 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:16.995 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:16.997 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:16.998 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:16.999 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:17.000 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 4.4042ms
2024-11-16 10:38:17.000 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:17.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 8.9602ms
2024-11-16 10:38:18.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:18.480 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:18.482 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:18.492 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:18.499 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:18.500 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:18.501 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 17.6877ms
2024-11-16 10:38:18.502 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:18.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 28.4902ms
2024-11-16 10:38:19.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:19.989 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:19.990 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:19.996 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:20.001 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:20.003 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:20.004 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 12.8463ms
2024-11-16 10:38:20.004 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:20.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:20.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 21.5204ms
2024-11-16 10:38:20.006 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:20.008 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:20.010 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:20.012 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:20.013 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:20.014 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 4.8344ms
2024-11-16 10:38:20.014 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:20.015 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 10.5218ms
2024-11-16 10:38:20.586 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/Chats - null null
2024-11-16 10:38:20.591 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:20.592 +02:00 [INF] Route matched with {action = "Chats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Chats() on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:20.598 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:20.612 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__currentUserId_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[Name], [u].[Surname], [u].[IsOnline], [u].[LastSeen], (
    SELECT COUNT(*)
    FROM [Messages] AS [m]
    WHERE [m].[ReceiverId] = @__currentUserId_0 AND [m].[IsRead] = CAST(0 AS bit) AND [u].[UserID] = [m].[SenderId]) AS [UnreadCount]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__currentUserId_0 AND [u].[Role] = N'Staff'
2024-11-16 10:38:20.614 +02:00 [INF] Executing ViewResult, running view Chats.
2024-11-16 10:38:20.616 +02:00 [INF] Executed ViewResult - view Chats executed in 1.8957ms.
2024-11-16 10:38:20.617 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp) in 23.2158ms
2024-11-16 10:38:20.617 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:20.618 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/Chats - 200 null text/html; charset=utf-8 32.2702ms
2024-11-16 10:38:20.641 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:20.649 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='46', @p0='False', @p1='2024-11-16T08:38:20.6448029Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsOnline] = @p0, [LastSeen] = @p1
OUTPUT 1
WHERE [UserID] = @p2;
2024-11-16 10:38:20.657 +02:00 [INF] Executed endpoint '/chatHub'
2024-11-16 10:38:20.659 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/chatHub?id=GA-b21rllSJhraRMuGznVg - 200 null null 18613.8427ms
2024-11-16 10:38:20.667 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 10:38:20.670 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 10:38:20.670 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 10:38:20.670 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 10:38:20.673 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 10:38:20.674 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 10:38:20.674 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 10:38:20.674 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 10:38:20.680 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 10:38:20.681 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 10:38:20.687 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 10:38:20.692 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 22.6258ms
2024-11-16 10:38:20.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 25.1896ms
2024-11-16 10:38:20.701 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 10:38:20.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 10:38:20.703 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 29.249ms
2024-11-16 10:38:20.708 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Chats.css - null null
2024-11-16 10:38:20.712 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 10:38:20.714 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 10:38:20.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 42.379ms
2024-11-16 10:38:20.724 +02:00 [INF] Sending file. Request path: '/css/Chats.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\Chats.css'
2024-11-16 10:38:20.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Chats.css - 200 8830 text/css 20.8333ms
2024-11-16 10:38:20.730 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 10:38:20.732 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 10:38:20.733 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 10:38:20.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 63.168ms
2024-11-16 10:38:20.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 33.0986ms
2024-11-16 10:38:20.746 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 10:38:20.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 10:38:20.748 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 10:38:20.752 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/chat.js - null null
2024-11-16 10:38:20.753 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/chat-enhanced.js - null null
2024-11-16 10:38:20.753 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 10:38:20.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 74.3944ms
2024-11-16 10:38:20.760 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 10:38:20.762 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 10:38:20.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:38:20.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 89.9307ms
2024-11-16 10:38:20.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 10:38:20.766 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 10:38:20.766 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 19.2867ms
2024-11-16 10:38:20.767 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 18.9343ms
2024-11-16 10:38:20.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:38:20.774 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 10:38:20.782 +02:00 [INF] Sending file. Request path: '/js/chat.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\chat.js'
2024-11-16 10:38:20.792 +02:00 [INF] Sending file. Request path: '/js/chat-enhanced.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\chat-enhanced.js'
2024-11-16 10:38:20.792 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 10:38:20.794 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 10:38:20.794 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 31.5776ms
2024-11-16 10:38:20.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 120.5892ms
2024-11-16 10:38:20.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/chat.js - 200 5912 text/javascript 43.2865ms
2024-11-16 10:38:20.796 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/chat-enhanced.js - 200 8476 text/javascript 43.0226ms
2024-11-16 10:38:20.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 32.4482ms
2024-11-16 10:38:20.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 31.4637ms
2024-11-16 10:38:20.801 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 10:38:20.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.1192ms
2024-11-16 10:38:20.815 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 148.3189ms
2024-11-16 10:38:20.828 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 10:38:20.850 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 10:38:20.853 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 120.6713ms
2024-11-16 10:38:20.867 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 10:38:20.869 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 40.656ms
2024-11-16 10:38:20.899 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 10:38:20.904 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 10:38:20.905 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 5.3433ms
2024-11-16 10:38:20.924 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 10:38:20.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 212.5364ms
2024-11-16 10:38:20.939 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:38:20.941 +02:00 [INF] Executing endpoint '/chatHub/negotiate'
2024-11-16 10:38:20.942 +02:00 [INF] Executed endpoint '/chatHub/negotiate'
2024-11-16 10:38:20.943 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 3.7217ms
2024-11-16 10:38:20.946 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/chatHub?id=dVrBQQlRH3KlG57kG3KHQg - null null
2024-11-16 10:38:20.947 +02:00 [INF] Executing endpoint '/chatHub'
2024-11-16 10:38:20.952 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:20.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/users/statuses - null null
2024-11-16 10:38:20.955 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:20.956 +02:00 [INF] Route matched with {action = "GetUserStatuses", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStatuses() on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:20.957 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='46', @p0='True', @p1='2024-11-16T08:38:20.9537974Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsOnline] = @p0, [LastSeen] = @p1
OUTPUT 1
WHERE [UserID] = @p2;
2024-11-16 10:38:20.959 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID] AS [userId], [u].[IsOnline] AS [isOnline]
FROM [Users] AS [u]
2024-11-16 10:38:20.961 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:20.962 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp) in 4.7489ms
2024-11-16 10:38:20.963 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:20.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/users/statuses - 200 null application/json; charset=utf-8 10.0197ms
2024-11-16 10:38:21.110 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 10:38:21.187 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 10:38:21.193 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 82.4283ms
2024-11-16 10:38:22.567 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:22.570 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:22.571 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:22.573 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:22.578 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__senderId_0='3', @__currentUserId_1='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[ConversationID], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__senderId_0 AND [m].[ReceiverId] = @__currentUserId_1 AND [m].[IsRead] = CAST(0 AS bit)
2024-11-16 10:38:22.579 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:22.585 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:22.587 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:22.588 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 12.7595ms
2024-11-16 10:38:22.589 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:22.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 22.7329ms
2024-11-16 10:38:23.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:23.957 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:23.960 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:23.967 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:23.974 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:23.977 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:23.978 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 16.6681ms
2024-11-16 10:38:23.979 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:23.980 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:23.980 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 27.0779ms
2024-11-16 10:38:23.981 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:23.983 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:23.985 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:23.987 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:23.989 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:23.989 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 5.6736ms
2024-11-16 10:38:23.990 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:23.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 10.9075ms
2024-11-16 10:38:25.440 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:25.443 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:25.444 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:25.449 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:25.454 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:25.455 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:25.457 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 12.1204ms
2024-11-16 10:38:25.458 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:25.460 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 19.7071ms
2024-11-16 10:38:26.949 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:26.951 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:26.951 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:26.957 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:26.962 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:26.963 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:26.964 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 11.6572ms
2024-11-16 10:38:26.965 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:26.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:26.965 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 16.6004ms
2024-11-16 10:38:26.967 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:26.969 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:26.972 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:26.977 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:26.979 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:26.980 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 10.3069ms
2024-11-16 10:38:26.981 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:26.981 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 16.3091ms
2024-11-16 10:38:28.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:28.459 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:28.460 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:28.468 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:28.474 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:28.475 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:28.476 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 11.2495ms
2024-11-16 10:38:28.476 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:28.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 24.1346ms
2024-11-16 10:38:29.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:29.965 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:29.969 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:29.977 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:29.984 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:29.986 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:29.989 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 17.7227ms
2024-11-16 10:38:29.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:29.990 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:29.994 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:29.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 33.3985ms
2024-11-16 10:38:29.995 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:29.998 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:30.000 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:30.001 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:30.001 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 4.6121ms
2024-11-16 10:38:30.002 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:30.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 12.4793ms
2024-11-16 10:38:30.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=4 - null null
2024-11-16 10:38:30.805 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:30.807 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:30.810 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:30.813 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__senderId_0='4', @__currentUserId_1='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[ConversationID], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__senderId_0 AND [m].[ReceiverId] = @__currentUserId_1 AND [m].[IsRead] = CAST(0 AS bit)
2024-11-16 10:38:30.813 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:30.823 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__currentUserId_0='46', @__userId_1='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:30.825 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:30.825 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 14.2364ms
2024-11-16 10:38:30.826 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:30.827 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=4 - 200 null application/json; charset=utf-8 22.7138ms
2024-11-16 10:38:31.439 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=4 - null null
2024-11-16 10:38:31.441 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:31.442 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:31.448 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:31.453 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='46', @__userId_1='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:31.454 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:31.455 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 11.4785ms
2024-11-16 10:38:31.456 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:31.456 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=4 - 200 null application/json; charset=utf-8 17.1361ms
2024-11-16 10:38:32.133 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:32.134 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:32.136 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:32.138 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:32.142 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__senderId_0='3', @__currentUserId_1='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[ConversationID], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__senderId_0 AND [m].[ReceiverId] = @__currentUserId_1 AND [m].[IsRead] = CAST(0 AS bit)
2024-11-16 10:38:32.149 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:32.156 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:32.158 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:32.159 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 18.5014ms
2024-11-16 10:38:32.160 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:32.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 27.9785ms
2024-11-16 10:38:32.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:32.944 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:32.945 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:32.948 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:32.953 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:32.955 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:32.956 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 10.2823ms
2024-11-16 10:38:32.956 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:32.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:32.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 15.637ms
2024-11-16 10:38:32.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:32.960 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:32.961 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:32.963 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:32.964 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:32.964 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 4.0637ms
2024-11-16 10:38:32.965 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:32.966 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 8.8555ms
2024-11-16 10:38:34.445 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:34.452 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:34.453 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:34.458 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:34.466 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:34.471 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:34.472 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 16.31ms
2024-11-16 10:38:34.472 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:34.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 27.8744ms
2024-11-16 10:38:35.952 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:35.956 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:35.958 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:35.967 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:35.976 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:35.979 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:35.981 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 20.6346ms
2024-11-16 10:38:35.982 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:35.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:35.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 33.9618ms
2024-11-16 10:38:35.988 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:35.989 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:35.991 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:35.992 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:35.993 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:35.994 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 3.9576ms
2024-11-16 10:38:35.994 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:35.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 11.1423ms
2024-11-16 10:38:37.452 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:37.458 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:37.461 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:37.468 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:37.475 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:37.477 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:37.478 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 14.8769ms
2024-11-16 10:38:37.478 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:37.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 27.3715ms
2024-11-16 10:38:38.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:38.945 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:38.946 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:38.952 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:38.964 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:38.966 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:38.967 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 19.6191ms
2024-11-16 10:38:38.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:38.969 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:38.972 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:38.973 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 31.8396ms
2024-11-16 10:38:38.975 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:38.980 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:38.985 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:38.986 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:38.988 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 9.8425ms
2024-11-16 10:38:38.992 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:38.993 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 24.3958ms
2024-11-16 10:38:40.449 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:40.450 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:40.451 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:40.457 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:40.463 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:40.465 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:40.465 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 13.7155ms
2024-11-16 10:38:40.466 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:40.466 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 17.8325ms
2024-11-16 10:38:41.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:41.964 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:41.966 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:41.973 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:41.979 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:41.980 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:41.981 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 12.4776ms
2024-11-16 10:38:41.982 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:41.982 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 26.3255ms
2024-11-16 10:38:41.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:41.986 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:41.987 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:41.990 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:41.995 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:41.996 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:41.997 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 8.7445ms
2024-11-16 10:38:41.998 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:41.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 16.2374ms
2024-11-16 10:38:43.440 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:43.442 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:43.443 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:43.446 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:43.451 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:43.452 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:43.453 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 9.362ms
2024-11-16 10:38:43.454 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:43.454 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 13.9723ms
2024-11-16 10:38:44.950 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:44.954 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:44.954 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:44.959 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:44.966 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:44.968 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:44.968 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 12.6479ms
2024-11-16 10:38:44.969 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:44.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:44.969 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 19.6702ms
2024-11-16 10:38:44.971 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:44.973 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:44.975 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:44.977 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:44.978 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:44.978 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 4.7561ms
2024-11-16 10:38:44.979 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:44.979 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 10.2391ms
2024-11-16 10:38:46.456 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:46.459 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:46.459 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:46.466 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:46.472 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:46.475 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:46.476 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 14.032ms
2024-11-16 10:38:46.476 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:46.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 20.7925ms
2024-11-16 10:38:47.939 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:47.942 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:47.942 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:47.947 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:47.952 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:47.954 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:47.955 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 11.5353ms
2024-11-16 10:38:47.955 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:47.956 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 16.7311ms
2024-11-16 10:38:47.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:47.961 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:47.962 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:47.964 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:47.965 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:47.966 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:47.967 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 4.3527ms
2024-11-16 10:38:47.968 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:47.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 11.946ms
2024-11-16 10:38:49.440 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:49.442 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:49.443 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:49.449 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:49.455 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:49.457 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:49.458 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 12.7698ms
2024-11-16 10:38:49.460 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:49.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 20.7591ms
2024-11-16 10:38:50.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:50.964 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:50.965 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:50.969 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:50.974 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:50.975 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:50.975 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 9.9002ms
2024-11-16 10:38:50.977 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:50.977 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:50.979 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:50.979 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 20.0963ms
2024-11-16 10:38:50.980 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:50.983 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:50.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:50.986 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:50.987 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 4.8406ms
2024-11-16 10:38:50.987 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:50.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 10.9257ms
2024-11-16 10:38:52.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - null null
2024-11-16 10:38:52.447 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:52.448 +02:00 [INF] Route matched with {action = "GetMessages", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32) on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:52.456 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:52.463 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUserId_0='46', @__userId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MessageId], [m].[Content], [m].[Timestamp], CASE
    WHEN [m].[SenderId] = @__currentUserId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFromCurrentUser]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__currentUserId_0 AND [m].[ReceiverId] = @__userId_1) OR ([m].[SenderId] = @__userId_1 AND [m].[ReceiverId] = @__currentUserId_0)
ORDER BY [m].[Timestamp]
2024-11-16 10:38:52.466 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 10:38:52.469 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp) in 15.0684ms
2024-11-16 10:38:52.470 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetMessages (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:52.471 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/GetMessages?userId=3 - 200 null application/json; charset=utf-8 28.1873ms
2024-11-16 10:38:52.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:38:52.554 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:52.554 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:52.559 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 10:38:52.559 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.8389ms
2024-11-16 10:38:52.560 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:52.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 11.5512ms
2024-11-16 10:38:52.566 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 10:38:52.569 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:52.569 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:38:52.576 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:38:52.580 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 10:38:52.601 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 10:38:52.606 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:38:52.609 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:38:52.612 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:38:52.613 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 10:38:52.616 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 2.5265ms.
2024-11-16 10:38:52.616 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 46.0565ms
2024-11-16 10:38:52.617 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:38:52.618 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 51.5694ms
2024-11-16 10:38:52.623 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 10:38:52.627 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='46', @p0='False', @p1='2024-11-16T08:38:52.6245013Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsOnline] = @p0, [LastSeen] = @p1
OUTPUT 1
WHERE [UserID] = @p2;
2024-11-16 10:38:52.628 +02:00 [INF] Executed endpoint '/chatHub'
2024-11-16 10:38:52.629 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/chatHub?id=dVrBQQlRH3KlG57kG3KHQg - 200 null null 31683.8309ms
2024-11-16 10:38:52.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:38:52.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:38:52.688 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7361ms
2024-11-16 10:38:52.694 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.8845ms
2024-11-16 10:39:13.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 10:39:13.046 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:13.048 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:39:13.071 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:39:13.074 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 10:39:13.082 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 9.0575ms.
2024-11-16 10:39:13.083 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 33.9609ms
2024-11-16 10:39:13.084 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:13.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 42.7513ms
2024-11-16 10:39:13.130 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:39:13.131 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:39:13.133 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3865ms
2024-11-16 10:39:13.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.8339ms
2024-11-16 10:39:14.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:39:14.909 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:14.913 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:39:14.916 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:39:14.918 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:39:14.925 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 7.7129ms.
2024-11-16 10:39:14.926 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 11.2197ms
2024-11-16 10:39:14.926 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:14.927 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 24.8893ms
2024-11-16 10:39:14.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:39:14.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:39:14.965 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7995ms
2024-11-16 10:39:14.971 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.5887ms
2024-11-16 10:39:16.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:39:16.043 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:16.047 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:39:16.053 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:39:16.060 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:39:16.066 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:39:16.071 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:39:16.097 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:39:16.118 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:39:16.148 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 10:39:16.164 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 16.2555ms.
2024-11-16 10:39:16.165 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 115.8663ms
2024-11-16 10:39:16.168 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:16.168 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 130.9834ms
2024-11-16 10:39:16.203 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:39:16.203 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:39:16.208 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.0847ms
2024-11-16 10:39:16.213 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.5213ms
2024-11-16 10:39:38.419 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundarykFPYcUoPnSiFnL7K 808
2024-11-16 10:39:38.428 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:38.448 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:39:38.453 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:39:38.485 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:39:38.488 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:39:38.497 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:39:38.513 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:39:38.522 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:39:38.528 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 10:39:38.528 +02:00 [INF] Student details:0
2024-11-16 10:39:38.573 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 3' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T10:39:38.5390225+02:00' (Nullable = true), @p10='20241116-44707' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 10:39:38.579 +02:00 [INF] Query with ID 118 successfully created.
2024-11-16 10:39:38.589 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 10:39:38.606 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 10:39:38.628 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 10:39:38.677 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='118', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T10:39:38.6308561+02:00' (Nullable = true), @p3='20241116-34817' (Nullable = false) (Size = 4000), @p4='118' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 10:39:38.690 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 10:39:38.691 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 10:39:38.694 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 10:39:38.701 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 10:39:38.707 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 10:39:38.709 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 10:39:38.712 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 10:39:39.450 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 10:39:39.452 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 10:39:39.453 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 10:39:39.456 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 10:39:39.458 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 10:39:39.459 +02:00 [INF] sent notification to  10.
2024-11-16 10:39:39.459 +02:00 [INF] Query submission process completed successfully for QueryID 118.
2024-11-16 10:39:39.462 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:39:39.465 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:39:39.473 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:39:39.475 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 10:39:39.475 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 10:39:39.715 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 10:39:39.718 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 10:39:39.719 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 10:39:39.721 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1270.3354ms
2024-11-16 10:39:39.722 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:39.723 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1304.8137ms
2024-11-16 10:39:39.731 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:39:39.737 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:39.738 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:39:39.741 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:39:39.741 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:39:39.743 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.8889ms.
2024-11-16 10:39:39.744 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 4.8205ms
2024-11-16 10:39:39.744 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:39:39.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 14.1214ms
2024-11-16 10:39:39.776 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:39:39.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:39:39.781 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.6643ms
2024-11-16 10:39:39.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9597ms
2024-11-16 10:41:20.721 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 10:41:20.730 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:20.731 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 10:41:21.237 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 10:41:21.239 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 10:41:21.239 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 10:41:21.240 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 10:41:21.241 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 507.7707ms
2024-11-16 10:41:21.242 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:21.242 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:6a4ed69b-4630-8315-219c-68e1188f4a58
2024-11-16 10:41:21.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 522.3638ms
2024-11-16 10:41:21.249 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:41:21.251 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:21.252 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:41:21.253 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 10:41:21.254 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.7985ms
2024-11-16 10:41:21.254 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:21.255 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 6.2623ms
2024-11-16 10:41:21.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:41:21.261 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:21.264 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:41:21.288 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:41:21.311 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 10:41:21.339 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 10:41:21.493 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 10:41:21.506 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:41:21.511 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:41:21.516 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:41:21.521 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 10:41:21.551 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 30.6681ms.
2024-11-16 10:41:21.552 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 286.4375ms
2024-11-16 10:41:21.554 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:21.556 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 297.0753ms
2024-11-16 10:41:21.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:41:21.594 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.6165ms
2024-11-16 10:41:21.605 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:41:21.612 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.2793ms
2024-11-16 10:41:21.783 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:41:21.785 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:41:21.787 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:41:21.787 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 4.4756ms
2024-11-16 10:41:21.859 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=csyzQNRZntTQuIeDxmjIfw - null null
2024-11-16 10:41:21.862 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:41:22.088 +02:00 [WRN] Staff connection attempt failed. No staffId in query string. Connection ID: VuwB89K2p4I_R2cVlQFxmQ
2024-11-16 10:41:22.634 +02:00 [WRN] Connection ID -1HJKCd5ElOwrqS8rElfRw is not associated with a staff member, disconnect ignored.
2024-11-16 10:41:22.636 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 10:41:22.637 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=IAgoa7Co2KDjaAFukdbgrQ - 200 null null 204160.8383ms
2024-11-16 10:41:36.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:41:36.742 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:36.742 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:41:36.746 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:41:36.748 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:41:36.748 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:41:36.753 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:41:36.759 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:41:36.764 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:41:36.766 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 10:41:36.768 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 2.2527ms.
2024-11-16 10:41:36.769 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 25.426ms
2024-11-16 10:41:36.769 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:36.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 32.5997ms
2024-11-16 10:41:36.819 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:41:36.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:41:36.824 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.4717ms
2024-11-16 10:41:36.828 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.4086ms
2024-11-16 10:41:45.914 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryPo0MFLcp2dPatpj1 808
2024-11-16 10:41:45.922 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:45.923 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:41:45.926 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:41:45.929 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:41:45.929 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:41:45.933 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:41:45.939 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:41:45.944 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:41:45.945 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 10:41:45.946 +02:00 [INF] Student details:0
2024-11-16 10:41:45.954 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 4' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T10:41:45.9470566+02:00' (Nullable = true), @p10='20241116-27944' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 10:41:45.955 +02:00 [INF] Query with ID 119 successfully created.
2024-11-16 10:41:45.958 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 10:41:45.961 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 10:41:45.966 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 10:41:45.974 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='119', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T10:41:45.9685495+02:00' (Nullable = true), @p3='20241116-31225' (Nullable = false) (Size = 4000), @p4='119' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 10:41:45.976 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 10:41:45.976 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 10:41:45.977 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 10:41:45.978 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 10:41:45.980 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 10:41:45.981 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 10:41:45.982 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 10:41:46.659 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 10:41:46.659 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 10:41:46.660 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 10:41:46.661 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 10:41:46.661 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 10:41:46.662 +02:00 [INF] sent notification to  10.
2024-11-16 10:41:46.662 +02:00 [INF] Query submission process completed successfully for QueryID 119.
2024-11-16 10:41:46.663 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:41:46.667 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:41:46.671 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:41:46.672 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 10:41:46.673 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 10:41:46.948 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 10:41:46.949 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 10:41:46.950 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 10:41:46.951 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1026.7806ms
2024-11-16 10:41:46.952 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:46.953 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1038.685ms
2024-11-16 10:41:46.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:41:46.962 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:46.963 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:41:46.969 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:41:46.970 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:41:46.972 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 2.3996ms.
2024-11-16 10:41:46.973 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 7.1034ms
2024-11-16 10:41:46.974 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:41:46.975 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 15.5584ms
2024-11-16 10:41:47.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:41:47.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4982ms
2024-11-16 10:41:47.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:41:47.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.1926ms
2024-11-16 10:43:04.251 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:43:04.257 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:43:04.257 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:43:04.263 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:43:04.274 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 10:43:04.282 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 10:43:04.318 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 10:43:04.325 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:43:04.328 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:43:04.333 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:43:04.334 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 10:43:04.337 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 3.0832ms.
2024-11-16 10:43:04.338 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 80.3652ms
2024-11-16 10:43:04.339 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:43:04.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 88.3124ms
2024-11-16 10:43:04.348 +02:00 [WRN] Connection ID VuwB89K2p4I_R2cVlQFxmQ is not associated with a staff member, disconnect ignored.
2024-11-16 10:43:04.349 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 10:43:04.350 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=csyzQNRZntTQuIeDxmjIfw - 200 null null 102492.3212ms
2024-11-16 10:43:04.385 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:43:04.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.4228ms
2024-11-16 10:43:04.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:43:04.398 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1495ms
2024-11-16 10:43:04.526 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:43:04.529 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:43:04.530 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:43:04.531 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 4.438ms
2024-11-16 10:43:04.561 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=z6EMjrN-8nB7NNE8kOzowg - null null
2024-11-16 10:43:04.564 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:43:04.716 +02:00 [WRN] Staff connection attempt failed. No staffId in query string. Connection ID: GpGTV_cr4PLfN7l9Kiv1lA
2024-11-16 10:54:23.538 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 10:54:23.678 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 10:54:23.679 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 10:54:23.683 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 10:54:23.684 +02:00 [INF] Hosting environment: Development
2024-11-16 10:54:23.685 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 10:54:24.131 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:54:24.757 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:54:24.772 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:54:24.787 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 10:54:24.788 +02:00 [ERR] User not logged in.
2024-11-16 10:54:24.802 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 10:54:24.805 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 28.6626ms
2024-11-16 10:54:24.809 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:54:24.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 685.8293ms
2024-11-16 10:54:24.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 10:54:24.843 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:54:24.848 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 10:54:26.214 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 10:54:26.888 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 10:54:26.968 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 10:54:26.971 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 10:54:26.975 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 10:54:26.976 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2126.5843ms
2024-11-16 10:54:26.977 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:54:26.986 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:c799e98b-b744-df5e-f59f-e8151df4ac7d
2024-11-16 10:54:26.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:54:26.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2164.132ms
2024-11-16 10:54:27.012 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:54:27.018 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:54:27.022 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 10:54:27.023 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.6215ms
2024-11-16 10:54:27.024 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:54:27.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 31.2705ms
2024-11-16 10:54:27.033 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:54:27.038 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:54:27.039 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:54:27.147 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:54:27.275 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 10:54:27.348 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 10:54:27.592 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 10:54:27.625 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:54:27.638 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:54:27.659 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:54:27.660 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:54:27.664 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:54:27.674 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 10:54:27.678 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:54:27.679 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?negotiateVersion=1 - 200 316 application/json 20.7595ms
2024-11-16 10:54:27.689 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?id=vdsBWrKWoJV8DmF0w8c7cQ - null null
2024-11-16 10:54:27.693 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:54:27.722 +02:00 [WRN] Staff connection attempt failed. No staffId in query string. Connection ID: SGM1M8eX4LpJZM_DyOZ6hQ
2024-11-16 10:54:27.819 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 150.827ms.
2024-11-16 10:54:27.823 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 782.302ms
2024-11-16 10:54:27.825 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:54:27.828 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 794.9684ms
2024-11-16 10:54:27.857 +02:00 [WRN] Connection ID SGM1M8eX4LpJZM_DyOZ6hQ is not associated with a staff member, disconnect ignored.
2024-11-16 10:54:27.862 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 10:54:27.866 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?id=vdsBWrKWoJV8DmF0w8c7cQ - 200 null null 177.2214ms
2024-11-16 10:54:28.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:54:28.014 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:54:28.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 31.5918ms
2024-11-16 10:54:28.095 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.134ms
2024-11-16 10:55:21.172 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 10:55:21.405 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 10:55:21.406 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 10:55:21.409 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 10:55:21.410 +02:00 [INF] Hosting environment: Development
2024-11-16 10:55:21.410 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 10:55:21.733 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:55:22.198 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:55:22.217 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:55:22.227 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 10:55:22.228 +02:00 [ERR] User not logged in.
2024-11-16 10:55:22.246 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 10:55:22.252 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 30.026ms
2024-11-16 10:55:22.256 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:55:22.260 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 528.94ms
2024-11-16 10:55:22.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 10:55:22.283 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:55:22.288 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 10:55:23.639 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 10:55:24.163 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 10:55:24.229 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 10:55:24.231 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 10:55:24.234 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 10:55:24.235 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1946.7036ms
2024-11-16 10:55:24.236 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:55:24.239 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:4a280cc8-a2e2-9b30-03a3-5bd723f9336d
2024-11-16 10:55:24.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1974.0044ms
2024-11-16 10:55:24.244 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:55:24.256 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:55:24.258 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:55:24.260 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 10:55:24.260 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.5195ms
2024-11-16 10:55:24.261 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:55:24.261 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 16.748ms
2024-11-16 10:55:24.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:55:24.271 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:55:24.272 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:55:24.345 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:55:24.447 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 10:55:24.505 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 10:55:24.699 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 10:55:24.728 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:55:24.741 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:55:24.757 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:55:24.768 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 10:55:24.847 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 84.8989ms.
2024-11-16 10:55:24.852 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 578.6686ms
2024-11-16 10:55:24.854 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:55:24.857 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 589.724ms
2024-11-16 10:55:24.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:55:24.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:55:24.906 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.9253ms
2024-11-16 10:55:24.937 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.9119ms
2024-11-16 10:56:21.779 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 10:56:21.995 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 10:56:21.997 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 10:56:22.000 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 10:56:22.001 +02:00 [INF] Hosting environment: Development
2024-11-16 10:56:22.002 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 10:56:22.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:56:23.354 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:56:23.370 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:56:23.381 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 10:56:23.382 +02:00 [ERR] User not logged in.
2024-11-16 10:56:23.392 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 10:56:23.395 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 21.5616ms
2024-11-16 10:56:23.400 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:56:23.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 882.8816ms
2024-11-16 10:56:23.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 10:56:23.442 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:56:23.450 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 10:56:25.541 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 10:56:26.395 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 10:56:26.511 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 10:56:26.514 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 10:56:26.518 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 10:56:26.520 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3068.5146ms
2024-11-16 10:56:26.521 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:56:26.525 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:1c20cd2d-6c8f-9df6-4e5c-0c44672726f2
2024-11-16 10:56:26.534 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 3114.5684ms
2024-11-16 10:56:26.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:56:26.551 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:56:26.555 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:56:26.560 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 10:56:26.561 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.4098ms
2024-11-16 10:56:26.562 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:56:26.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 27.1492ms
2024-11-16 10:56:26.573 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:56:26.582 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:56:26.583 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:56:26.854 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:56:27.687 +02:00 [INF] Executed DbCommand (600ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 10:56:27.910 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 10:56:28.722 +02:00 [INF] Executed DbCommand (352ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 10:56:28.776 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:56:28.799 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:56:28.827 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:56:28.851 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 10:56:29.044 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 206.564ms.
2024-11-16 10:56:29.048 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 2463.7654ms
2024-11-16 10:56:29.051 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:56:29.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 2482.0075ms
2024-11-16 10:56:29.149 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:56:29.150 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:56:29.158 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.7166ms
2024-11-16 10:56:29.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.2494ms
2024-11-16 10:56:29.406 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:56:29.414 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:56:29.435 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:56:29.437 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 30.7315ms
2024-11-16 10:56:29.569 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=cXofEfee3-65ZMDYtb6xOg - null null
2024-11-16 10:56:29.574 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:56:30.191 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: YN3u2SLPutDNd_OsvAO_Wg
2024-11-16 10:56:30.194 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: YN3u2SLPutDNd_OsvAO_Wg
2024-11-16 10:58:41.605 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:58:41.623 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:41.631 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:58:41.681 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:58:41.694 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:58:41.707 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 16.771ms.
2024-11-16 10:58:41.708 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 74.899ms
2024-11-16 10:58:41.708 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:41.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 104.277ms
2024-11-16 10:58:41.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:58:41.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.1729ms
2024-11-16 10:58:43.009 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:58:43.021 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:43.033 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:58:43.037 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:58:43.062 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:58:43.063 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 10:58:43.064 +02:00 [ERR] User not logged in.
2024-11-16 10:58:43.065 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 10:58:43.066 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 31.3272ms
2024-11-16 10:58:43.066 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:43.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 302 0 null 57.3893ms
2024-11-16 10:58:43.074 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 10:58:43.079 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:43.080 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 10:58:43.615 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 10:58:43.620 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 10:58:43.622 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 10:58:43.622 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 10:58:43.623 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 541.6067ms
2024-11-16 10:58:43.624 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:43.625 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:cccd7101-3766-3ec8-057e-cf137b3d0c4d
2024-11-16 10:58:43.627 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 552.9863ms
2024-11-16 10:58:43.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:58:43.640 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:43.641 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:58:43.641 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 10:58:43.642 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.5731ms
2024-11-16 10:58:43.643 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:43.643 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 7.1676ms
2024-11-16 10:58:43.649 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 10:58:43.652 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:43.655 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:58:43.670 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:58:43.682 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 10:58:43.701 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 10:58:43.716 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:58:43.723 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:58:43.732 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:58:43.735 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 10:58:43.756 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 21.6085ms.
2024-11-16 10:58:43.759 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 102.2067ms
2024-11-16 10:58:43.760 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:58:43.761 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 111.4467ms
2024-11-16 10:58:43.840 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:58:43.846 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.2828ms
2024-11-16 10:58:43.851 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:58:43.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.631ms
2024-11-16 10:59:09.088 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=119 - null null
2024-11-16 10:59:09.100 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:09.106 +02:00 [INF] Route matched with {action = "QueryDetails", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryDetails(Int32) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:59:09.112 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:59:09.120 +02:00 [INF] GetStudentQueryAsync called with queryId: 119
2024-11-16 10:59:09.125 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:09.178 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__queryId_0='119'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate], [t].[Course], [t].[Department], [t].[UserID], [t].[Year0], [t].[ConnectionId], [t].[Email], [t].[FirebaseUID], [t].[IsOnline], [t].[LastSeen], [t].[Name], [t].[PasswordHash], [t].[RegistrationDate], [t].[Role], [t].[Surname], [t].[DepartmentName], [t].[CourseCode], [t].[CourseName]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [s].[StudentID] AS [StudentID0], [s].[Course], [s].[Department], [s].[UserID], [s].[Year] AS [Year0], [u].[UserID] AS [UserID0], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [d].[DepartmentID] AS [DepartmentID0], [d].[DepartmentName], [c].[CourseID] AS [CourseID0], [c].[CourseCode], [c].[CourseName]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
LEFT JOIN [QueryDocuments] AS [q0] ON [t].[QueryID] = [q0].[QueryID]
ORDER BY [t].[QueryID], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0]
2024-11-16 10:59:09.195 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 119
2024-11-16 10:59:09.200 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:09.213 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:09.227 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true), @__queryId_1='119' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-16 10:59:09.232 +02:00 [WRN] AssignmentID: 70
2024-11-16 10:59:09.232 +02:00 [WRN] QueryID: 119
2024-11-16 10:59:09.233 +02:00 [INF] Success !!!
2024-11-16 10:59:09.274 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/QueryDetails.cshtml.
2024-11-16 10:59:09.278 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:59:09.391 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/QueryDetails.cshtml executed in 118.0116ms.
2024-11-16 10:59:09.392 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp) in 284.3045ms
2024-11-16 10:59:09.393 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:09.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=119 - 200 null text/html; charset=utf-8 306.7775ms
2024-11-16 10:59:09.435 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: YN3u2SLPutDNd_OsvAO_Wg
2024-11-16 10:59:09.445 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: YN3u2SLPutDNd_OsvAO_Wg
2024-11-16 10:59:09.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:59:09.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AssignedQueryDetails.css?v=3Dadah6tmLALO4aDJkoE2B2yuNWFWTe1BasA4Ayk3A8 - null null
2024-11-16 10:59:09.454 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 10:59:09.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.8909ms
2024-11-16 10:59:09.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:59:09.469 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=cXofEfee3-65ZMDYtb6xOg - 200 null null 159898.2252ms
2024-11-16 10:59:09.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.1307ms
2024-11-16 10:59:09.489 +02:00 [INF] Sending file. Request path: '/css/AssignedQueryDetails.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AssignedQueryDetails.css'
2024-11-16 10:59:09.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AssignedQueryDetails.css?v=3Dadah6tmLALO4aDJkoE2B2yuNWFWTe1BasA4Ayk3A8 - 200 14940 text/css 37.5157ms
2024-11-16 10:59:19.067 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 10:59:19.074 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:19.075 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:59:19.078 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 10:59:19.079 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.1866ms
2024-11-16 10:59:19.080 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:19.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 13.3331ms
2024-11-16 10:59:19.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 10:59:19.090 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:19.091 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 10:59:19.097 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:19.106 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 10:59:19.116 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 10:59:19.159 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 10:59:19.171 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:19.177 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:59:19.183 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:59:19.184 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 10:59:19.187 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.416ms.
2024-11-16 10:59:19.188 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 96.2152ms
2024-11-16 10:59:19.189 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:19.190 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 104.3727ms
2024-11-16 10:59:19.243 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:59:19.250 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.6254ms
2024-11-16 10:59:19.256 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:59:19.264 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.8773ms
2024-11-16 10:59:19.414 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 10:59:19.421 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 10:59:19.422 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 10:59:19.423 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 9.073ms
2024-11-16 10:59:19.443 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=rdtXSpA3WNIZyBXdyqs4iQ - null null
2024-11-16 10:59:19.449 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 10:59:19.607 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: sr1WpvGddJ5mHWUJal3LDg
2024-11-16 10:59:19.608 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: sr1WpvGddJ5mHWUJal3LDg
2024-11-16 10:59:42.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 10:59:42.657 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:42.659 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:59:42.663 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:59:42.667 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 10:59:42.675 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 9.274ms.
2024-11-16 10:59:42.676 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 15.1253ms
2024-11-16 10:59:42.677 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:42.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 30.4293ms
2024-11-16 10:59:42.723 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:59:42.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7464ms
2024-11-16 10:59:42.731 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:59:42.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.9962ms
2024-11-16 10:59:44.017 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:59:44.026 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:44.027 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:59:44.032 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:59:44.033 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:59:44.036 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 2.6733ms.
2024-11-16 10:59:44.037 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 7.8834ms
2024-11-16 10:59:44.038 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:44.040 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 22.6187ms
2024-11-16 10:59:44.100 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:59:44.101 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:59:44.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.4747ms
2024-11-16 10:59:44.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.7118ms
2024-11-16 10:59:45.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 10:59:45.183 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:45.185 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:59:45.187 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:59:45.188 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 10:59:45.193 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:59:45.202 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:45.237 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:59:45.258 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:59:45.278 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 10:59:45.295 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 17.9676ms.
2024-11-16 10:59:45.297 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 111.7592ms
2024-11-16 10:59:45.299 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:45.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 123.7324ms
2024-11-16 10:59:45.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:59:45.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:59:45.358 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2443ms
2024-11-16 10:59:45.366 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5823ms
2024-11-16 10:59:53.307 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundary0nqccESS03q7WGJ6 808
2024-11-16 10:59:53.319 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:53.336 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:59:53.340 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:59:53.369 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:59:53.369 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 10:59:53.374 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:53.387 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 10:59:53.400 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 10:59:53.404 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 10:59:53.404 +02:00 [INF] Student details:0
2024-11-16 10:59:53.553 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 5' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T10:59:53.4163256+02:00' (Nullable = true), @p10='20241116-81559' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 10:59:53.574 +02:00 [INF] Query with ID 120 successfully created.
2024-11-16 10:59:53.582 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 10:59:53.592 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 10:59:53.612 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 10:59:53.651 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='120', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T10:59:53.6159493+02:00' (Nullable = true), @p3='20241116-27197' (Nullable = false) (Size = 4000), @p4='120' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 10:59:53.669 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 10:59:53.674 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 10:59:53.677 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 10:59:53.689 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 10:59:53.698 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 10:59:53.700 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 10:59:53.702 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 10:59:54.408 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 10:59:54.409 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 10:59:54.411 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 10:59:54.413 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 10:59:54.414 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 10:59:54.416 +02:00 [INF] sent notification to  10.
2024-11-16 10:59:54.416 +02:00 [INF] Query submission process completed successfully for QueryID 120.
2024-11-16 10:59:54.418 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 10:59:54.423 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:54.430 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 10:59:54.432 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 10:59:54.432 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 10:59:54.678 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 10:59:54.679 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 10:59:54.680 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 10:59:54.681 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1343.3386ms
2024-11-16 10:59:54.682 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:54.684 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1376.3231ms
2024-11-16 10:59:54.689 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 10:59:54.691 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:54.692 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 10:59:54.694 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 10:59:54.695 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 10:59:54.697 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 2.1796ms.
2024-11-16 10:59:54.698 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 5.0363ms
2024-11-16 10:59:54.698 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 10:59:54.699 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 10.356ms
2024-11-16 10:59:54.735 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 10:59:54.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 10:59:54.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0412ms
2024-11-16 10:59:54.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.0787ms
2024-11-16 11:01:02.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:01:02.333 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:01:02.333 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:01:02.337 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:01:02.337 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:01:02.338 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:01:02.342 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:01:02.352 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:01:02.359 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:01:02.362 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 11:01:02.364 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 2.1289ms.
2024-11-16 11:01:02.365 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 30.2715ms
2024-11-16 11:01:02.365 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:01:02.366 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 40.3137ms
2024-11-16 11:01:02.429 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:01:02.438 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:01:02.445 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.1704ms
2024-11-16 11:01:02.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.4024ms
2024-11-16 11:01:09.732 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryjivBqcxATmwJE5FP 808
2024-11-16 11:01:09.739 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:01:09.741 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:01:09.747 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:01:09.753 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:01:09.756 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:01:09.761 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:01:09.769 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:01:09.773 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:01:09.774 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 11:01:09.774 +02:00 [INF] Student details:0
2024-11-16 11:01:09.785 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 6' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T11:01:09.7754389+02:00' (Nullable = true), @p10='20241116-70043' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 11:01:09.787 +02:00 [INF] Query with ID 121 successfully created.
2024-11-16 11:01:09.789 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 11:01:09.794 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 11:01:09.799 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 11:01:09.805 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='121', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T11:01:09.8006551+02:00' (Nullable = true), @p3='20241116-99676' (Nullable = false) (Size = 4000), @p4='121' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 11:01:09.807 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 11:01:09.808 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 11:01:09.809 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 11:01:09.813 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 11:01:09.817 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 11:01:09.819 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 11:01:09.819 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 11:01:10.519 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 11:01:10.525 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 11:01:10.525 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 11:01:10.528 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 11:01:10.530 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 11:01:10.531 +02:00 [INF] sent notification to  10.
2024-11-16 11:01:10.531 +02:00 [INF] Query submission process completed successfully for QueryID 121.
2024-11-16 11:01:10.532 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:01:10.569 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:01:10.675 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:01:10.677 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 11:01:10.678 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 11:01:10.941 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 11:01:10.943 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 11:01:10.945 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 11:01:10.946 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1203.4073ms
2024-11-16 11:01:10.947 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:01:10.947 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1215.2675ms
2024-11-16 11:01:10.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:01:10.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:01:10.959 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:01:10.962 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:01:10.962 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:01:10.964 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.5199ms.
2024-11-16 11:01:10.964 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 4.7363ms
2024-11-16 11:01:10.965 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:01:10.966 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 11.7973ms
2024-11-16 11:01:11.015 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:01:11.017 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5913ms
2024-11-16 11:01:11.019 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:01:11.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.1896ms
2024-11-16 11:04:42.573 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 11:04:42.723 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 11:04:42.724 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 11:04:42.727 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 11:04:42.728 +02:00 [INF] Hosting environment: Development
2024-11-16 11:04:42.728 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 11:04:43.123 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:04:43.998 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:04:44.018 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:04:44.050 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:04:44.061 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:04:44.172 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 115.0749ms.
2024-11-16 11:04:44.182 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 162.1881ms
2024-11-16 11:04:44.186 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:04:44.195 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 1072.3084ms
2024-11-16 11:04:44.309 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:04:44.313 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:04:44.318 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.3284ms
2024-11-16 11:04:44.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.8383ms
2024-11-16 11:04:52.444 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:04:52.462 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747892.
2024-11-16 11:04:52.464 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747892.
2024-11-16 11:04:52.465 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:04:52.475 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:04:52.477 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 32.3587ms
2024-11-16 11:04:52.490 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=zoPrnXEScgXQAcVuhT8Xyw - null null
2024-11-16 11:04:52.496 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747892.
2024-11-16 11:04:52.496 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747892.
2024-11-16 11:04:52.497 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:04:52.519 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: sLlifZHOyq2b7wNqJqkAyQ
2024-11-16 11:04:52.520 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: sLlifZHOyq2b7wNqJqkAyQ
2024-11-16 11:05:16.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:05:16.652 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747916.
2024-11-16 11:05:16.655 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:05:16.658 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:05:16.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 20.9562ms
2024-11-16 11:05:40.669 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:05:40.685 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747940.
2024-11-16 11:05:40.688 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747940.
2024-11-16 11:05:40.689 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:05:40.703 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:05:40.712 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731747559. Expected to be greater than 1731747940.
2024-11-16 11:05:40.716 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 11:05:40.746 +02:00 [INF] Executed ViewResult - view Login executed in 32.9607ms.
2024-11-16 11:05:40.752 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 47.454ms
2024-11-16 11:05:40.753 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:05:40.755 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 85.8294ms
2024-11-16 11:05:40.805 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:05:40.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3354ms
2024-11-16 11:05:40.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:05:40.825 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.1946ms
2024-11-16 11:05:42.411 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: sLlifZHOyq2b7wNqJqkAyQ
2024-11-16 11:05:42.414 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: sLlifZHOyq2b7wNqJqkAyQ
2024-11-16 11:05:42.421 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:05:42.422 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=zoPrnXEScgXQAcVuhT8Xyw - 200 null null 49931.2674ms
2024-11-16 11:05:49.259 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 232
2024-11-16 11:05:49.265 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747949.
2024-11-16 11:05:49.266 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747949.
2024-11-16 11:05:49.267 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:05:49.284 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:05:49.315 +02:00 [INF] Attempting to log in user with email: trentfisher16@gmail.com
2024-11-16 11:05:49.339 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 11:05:49.343 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 11:05:49.855 +02:00 [INF] Received HTTP response headers after 508.7898ms - 400
2024-11-16 11:05:49.856 +02:00 [INF] End processing HTTP request after 518.9405ms - 400
2024-11-16 11:05:49.859 +02:00 [ERR] Failed to log in user with email: trentfisher16@gmail.com
System.Exception: An error occurred during login. Please try again.
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 126
2024-11-16 11:05:49.936 +02:00 [ERR] Error occurred during login.
System.Exception: Your Email or password is incorrect. Please try again
   at Apptivate_UQMS_WebApp.Services.AccountServices.FirebaseAuthService.LoginUser(String email, String password) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\AccountServices\FirebaseAuthService.cs:line 148
   at Apptivate_UQMS_WebApp.Controllers.AccountController.Login(LoginViewModel model) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\AccountController.cs:line 223
2024-11-16 11:05:49.940 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 11:05:49.944 +02:00 [INF] Executed ViewResult - view Login executed in 3.4062ms.
2024-11-16 11:05:49.945 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 659.9127ms
2024-11-16 11:05:49.946 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:05:49.947 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 200 null text/html; charset=utf-8 688.239ms
2024-11-16 11:05:49.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:05:49.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3747ms
2024-11-16 11:05:49.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:05:49.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.7294ms
2024-11-16 11:05:55.912 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 236
2024-11-16 11:05:55.917 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747955.
2024-11-16 11:05:55.918 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747559. Expected to be greater than 1731747955.
2024-11-16 11:05:55.919 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:05:55.920 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:05:55.927 +02:00 [INF] Attempting to log in user with email: trentfisher16@gmail.com
2024-11-16 11:05:55.928 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 11:05:55.929 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 11:05:56.347 +02:00 [INF] Received HTTP response headers after 415.9494ms - 200
2024-11-16 11:05:56.349 +02:00 [INF] End processing HTTP request after 420.7416ms - 200
2024-11-16 11:05:56.352 +02:00 [INF] User logged in successfully.
2024-11-16 11:05:58.207 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 11:05:59.288 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:05:59.558 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='45', @p0='2024-11-16T09:05:59.4298791Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 11:05:59.588 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:05:59.590 +02:00 [INF] User trentfisher16@gmail.com logged in successfully.
2024-11-16 11:05:59.593 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 11:05:59.594 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3672.2157ms
2024-11-16 11:05:59.595 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:05:59.597 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:acc1d239-b330-2e97-7e8d-5a5fe915c221
2024-11-16 11:05:59.605 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 3692.7714ms
2024-11-16 11:05:59.606 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:05:59.615 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:05:59.620 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:05:59.792 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:05:59.954 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:06:00.040 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:06:00.331 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:06:00.361 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:06:00.374 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:06:00.394 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:06:00.398 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:06:00.445 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 48.0412ms.
2024-11-16 11:06:00.447 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 824.7413ms
2024-11-16 11:06:00.448 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:06:00.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 843.1162ms
2024-11-16 11:06:00.492 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:06:00.494 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:06:00.495 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.907ms
2024-11-16 11:06:00.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.3095ms
2024-11-16 11:06:00.556 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:06:00.564 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:06:00.566 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:06:00.567 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 11.2005ms
2024-11-16 11:06:00.641 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=xh7DOePRwxDle7djZk2ftA - null null
2024-11-16 11:06:00.647 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:06:00.694 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: WyvK23rBb4_g4C3kHZvGbw
2024-11-16 11:06:00.696 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: WyvK23rBb4_g4C3kHZvGbw
2024-11-16 11:06:28.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:28.883 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 11:06:28.884 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:28.884 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:28.885 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 12.5387ms
2024-11-16 11:06:30.182 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:30.187 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 11:06:30.193 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:30.194 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:30.196 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 14.0084ms
2024-11-16 11:06:30.456 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:30.461 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 11:06:30.462 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:30.463 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:30.466 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 10.1171ms
2024-11-16 11:06:30.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:30.655 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 11:06:30.656 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:30.657 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:30.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 10.801ms
2024-11-16 11:06:30.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:30.841 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 11:06:30.842 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:30.843 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:30.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 7.9974ms
2024-11-16 11:06:31.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:06:31.763 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747991.
2024-11-16 11:06:31.765 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:31.766 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:31.767 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 401 0 null 11.2685ms
2024-11-16 11:06:32.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:32.222 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747992.
2024-11-16 11:06:32.223 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:32.224 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:32.225 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 7.232ms
2024-11-16 11:06:32.889 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:06:32.894 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747992.
2024-11-16 11:06:32.895 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:32.897 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:32.899 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 401 0 null 9.1548ms
2024-11-16 11:06:33.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:33.076 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747993.
2024-11-16 11:06:33.077 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:33.078 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:33.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 8.8845ms
2024-11-16 11:06:33.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 11:06:33.262 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747993.
2024-11-16 11:06:33.264 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:33.265 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:33.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 401 0 null 7.8973ms
2024-11-16 11:06:33.545 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:06:33.551 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747993.
2024-11-16 11:06:33.552 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:33.553 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:33.556 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 401 0 null 10.914ms
2024-11-16 11:06:33.727 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:33.732 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747993.
2024-11-16 11:06:33.734 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:33.735 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:33.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 8.9523ms
2024-11-16 11:06:33.897 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:06:33.901 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747993.
2024-11-16 11:06:33.902 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:33.903 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:33.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 401 0 null 7.1698ms
2024-11-16 11:06:34.068 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:06:34.074 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747994.
2024-11-16 11:06:34.076 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 11:06:34.077 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 11:06:34.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 9.4217ms
2024-11-16 11:06:36.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:06:36.597 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747996.
2024-11-16 11:06:36.598 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731747996.
2024-11-16 11:06:36.599 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:06:36.600 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:06:36.601 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731747586. Expected to be greater than 1731747996.
2024-11-16 11:06:36.602 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 11:06:36.604 +02:00 [INF] Executed ViewResult - view Login executed in 2.6711ms.
2024-11-16 11:06:36.606 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4.7631ms
2024-11-16 11:06:36.607 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:06:36.608 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 14.4271ms
2024-11-16 11:06:36.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:06:36.687 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:06:36.689 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.9575ms
2024-11-16 11:06:36.693 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.5526ms
2024-11-16 11:06:49.301 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/GoogleLogin - application/json 1191
2024-11-16 11:06:49.307 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731748009.
2024-11-16 11:06:49.310 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731747586. Expected to be greater than 1731748009.
2024-11-16 11:06:49.312 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 11:06:49.365 +02:00 [INF] Route matched with {action = "GoogleLogin", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(GoogleLoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:06:49.406 +02:00 [INF] GoogleLogin attempt initiated
2024-11-16 11:06:49.410 +02:00 [INF] here is your token grump eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlNTIxYmY1ZjdhNDAwOGMzYmQ3MjFmMzk2OTcwOWI1MzY0MzA5NjEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVHJlbnQgRmlzaGVyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lfMG11MTRncWZqLW4zMDZsZUlEZ2JmZk83bHByOWQyUUlUd2h2OVdLanZCaXdMcDh3PXM5Ni1jIiwicm9sZSI6IlN0dWRlbnQiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vdXFtcy1hM2Q4NyIsImF1ZCI6InVxbXMtYTNkODciLCJhdXRoX3RpbWUiOjE3MzE3NDgwMDgsInVzZXJfaWQiOiJjc3VzVXRJWkMzY1Z0cW5UOW1xRjNlN0pnbDIzIiwic3ViIjoiY3N1c1V0SVpDM2NWdHFuVDltcUYzZTdKZ2wyMyIsImlhdCI6MTczMTc0ODAwOCwiZXhwIjoxNzMxNzUxNjA4LCJlbWFpbCI6InRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE4MDQwODkyMzQ5OTA3NzczODcyIl0sImVtYWlsIjpbInRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.Im322Hes352eAdIdKfggxIp18125Z2_zvGHThwoR8gOQCHClVaSBbgdvHGijgekh_YOEzBxpYYRsf_f64Rr1binPqx4tmCXhZamuI2x3_xNeAkOohrdhmnOOgzjcOW6pcnKEyaROHa6Zx9_Ywwge5CdhHNdoFLJgk11lUqKfIBITKqHz1u25pmnURONluuSJFUO7FiueEtJkoOmHw0NfOa3nIfO9WuKxN1qTbi4fE6RTz_SedwlrXR_n_ECoJ2a_cnBKmdti8wPmVz2CL-va4BaV46i7A6SPVoxyXwBSlfGmFwckfeuunH_uENavIxx4yslbkLIgTqIsPAlT6VqMWw
2024-11-16 11:06:49.414 +02:00 [INF] Verifying Firebase ID token.
2024-11-16 11:06:49.416 +02:00 [INF] Firebase ID token verified successfully for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:06:49.416 +02:00 [INF] Retrieving user information for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:06:49.735 +02:00 [INF] User information retrieved successfully. Email: trentfisher017@gmail.com, Display Name: Trent Fisher
2024-11-16 11:06:49.847 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__uid_0
2024-11-16 11:06:49.855 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='46', @p0='2024-11-16T09:06:49.8508439Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 11:06:49.858 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:06:49.860 +02:00 [INF] GoogleLogin successful for user trentfisher017@gmail.com with role Student
2024-11-16 11:06:49.863 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 11:06:49.867 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp) in 496.8887ms
2024-11-16 11:06:49.867 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 11:06:49.868 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:84a67095-f634-69ad-4a57-3fa4c4e87405
2024-11-16 11:06:49.868 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/GoogleLogin - 200 null application/json; charset=utf-8 567.3087ms
2024-11-16 11:06:49.884 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:06:49.889 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:06:49.895 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:06:49.914 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:06:49.944 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:06:49.972 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:06:49.997 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:06:50.002 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:06:50.015 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:06:50.017 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:06:50.034 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 17.6108ms.
2024-11-16 11:06:50.037 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 139.9859ms
2024-11-16 11:06:50.039 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:06:50.041 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 157.023ms
2024-11-16 11:06:50.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:06:50.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3935ms
2024-11-16 11:06:50.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:06:50.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.9852ms
2024-11-16 11:07:02.173 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 11:07:02.181 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:02.183 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:07:02.189 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:07:02.192 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 11:07:02.205 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 14.1265ms.
2024-11-16 11:07:02.206 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 20.7162ms
2024-11-16 11:07:02.206 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:02.207 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 34.1883ms
2024-11-16 11:07:02.249 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:07:02.249 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:07:02.252 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.8149ms
2024-11-16 11:07:02.256 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.7634ms
2024-11-16 11:07:03.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:07:03.751 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:03.752 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:07:03.756 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:07:03.757 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:07:03.761 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 4.0748ms.
2024-11-16 11:07:03.762 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 9.3572ms
2024-11-16 11:07:03.763 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:03.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 19.468ms
2024-11-16 11:07:03.808 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:07:03.808 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:07:03.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6955ms
2024-11-16 11:07:03.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.2496ms
2024-11-16 11:07:04.758 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:07:04.764 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:04.768 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:07:04.771 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:07:04.785 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:07:04.789 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:07:04.794 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:07:04.817 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:07:04.834 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:07:04.883 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 11:07:04.897 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 14.608ms.
2024-11-16 11:07:04.898 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 129.6118ms
2024-11-16 11:07:04.899 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:04.900 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 141.4809ms
2024-11-16 11:07:04.944 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:07:04.944 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:07:04.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.6881ms
2024-11-16 11:07:04.951 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.4545ms
2024-11-16 11:07:11.482 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryHGFvdZuA0vRqnmgi 808
2024-11-16 11:07:11.487 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:11.501 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:07:11.504 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:07:11.521 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:07:11.522 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:07:11.526 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:07:11.532 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:07:11.536 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:07:11.538 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 11:07:11.539 +02:00 [INF] Student details:0
2024-11-16 11:07:11.600 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 7' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T11:07:11.5483542+02:00' (Nullable = true), @p10='20241116-48551' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 11:07:11.614 +02:00 [INF] Query with ID 122 successfully created.
2024-11-16 11:07:11.623 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 11:07:11.635 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 11:07:11.651 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 11:07:11.687 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='122', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T11:07:11.6542090+02:00' (Nullable = true), @p3='20241116-78700' (Nullable = false) (Size = 4000), @p4='122' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 11:07:11.701 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 11:07:11.703 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 11:07:11.706 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 11:07:11.716 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 11:07:11.723 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 11:07:11.729 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 11:07:11.732 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 11:07:12.459 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 11:07:12.460 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 11:07:12.461 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 11:07:12.462 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 11:07:12.463 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 11:07:12.464 +02:00 [INF] sent notification to  10.
2024-11-16 11:07:12.464 +02:00 [INF] Query submission process completed successfully for QueryID 122.
2024-11-16 11:07:12.466 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:07:12.468 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:07:12.478 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:07:12.480 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 11:07:12.481 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 11:07:12.739 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 11:07:12.740 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 11:07:12.742 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 11:07:12.742 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1240.5105ms
2024-11-16 11:07:12.743 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:12.744 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1262.138ms
2024-11-16 11:07:12.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:07:12.752 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:12.753 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:07:12.756 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:07:12.757 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:07:12.758 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.7699ms.
2024-11-16 11:07:12.759 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 5.2441ms
2024-11-16 11:07:12.760 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:12.761 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 11.6374ms
2024-11-16 11:07:12.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:07:12.798 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.1608ms
2024-11-16 11:07:12.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:07:12.803 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0259ms
2024-11-16 11:07:49.257 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:07:49.264 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:49.265 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:07:49.268 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:07:49.270 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:07:49.271 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.4274ms.
2024-11-16 11:07:49.273 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 6.3382ms
2024-11-16 11:07:49.274 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:07:49.275 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 17.676ms
2024-11-16 11:07:49.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:07:49.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:07:49.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2024ms
2024-11-16 11:07:49.333 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.9365ms
2024-11-16 11:15:18.496 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 11:15:18.657 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 11:15:18.661 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 11:15:18.667 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 11:15:18.676 +02:00 [INF] Hosting environment: Development
2024-11-16 11:15:18.677 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 11:15:19.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:15:19.688 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:19.708 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:19.743 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:15:19.756 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:15:19.884 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 132.1594ms.
2024-11-16 11:15:19.893 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 182.7168ms
2024-11-16 11:15:19.895 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:19.903 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 892.6194ms
2024-11-16 11:15:20.132 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:20.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:20.198 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 65.9946ms
2024-11-16 11:15:21.771 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1636.5323ms
2024-11-16 11:15:22.131 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:15:22.148 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:15:22.157 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:15:22.159 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 27.4435ms
2024-11-16 11:15:22.165 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=mLNPVSBIE9fDmcbGunrZAQ - null null
2024-11-16 11:15:22.169 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:15:22.194 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: c8GuU-y6lc_8OQgTBVAfLw
2024-11-16 11:15:22.195 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: c8GuU-y6lc_8OQgTBVAfLw
2024-11-16 11:15:25.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:15:25.697 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:25.699 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:25.708 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:15:25.710 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:15:25.722 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 12.1313ms.
2024-11-16 11:15:25.735 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 34.7647ms
2024-11-16 11:15:25.741 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:25.743 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 81.7675ms
2024-11-16 11:15:25.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:25.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:25.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.6769ms
2024-11-16 11:15:25.817 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 26.99ms
2024-11-16 11:15:36.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 11:15:36.640 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:36.646 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:36.650 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:15:36.660 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:15:36.661 +02:00 [ERR] User not logged in.
2024-11-16 11:15:36.663 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:15:36.664 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 16.8007ms
2024-11-16 11:15:36.664 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:36.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 32.0853ms
2024-11-16 11:15:36.674 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:15:36.679 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:36.684 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:38.243 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 11:15:38.849 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:15:38.939 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:15:38.940 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 11:15:38.942 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:15:38.943 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2257.7ms
2024-11-16 11:15:38.943 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:38.946 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:84c31288-252a-ff68-e31c-1a76ad6e1574
2024-11-16 11:15:38.950 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2276.5468ms
2024-11-16 11:15:38.952 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:15:38.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:38.959 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:38.961 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 11:15:38.961 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.2247ms
2024-11-16 11:15:38.962 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:38.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 10.1467ms
2024-11-16 11:15:38.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:15:38.970 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:38.974 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:39.073 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:39.178 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:15:39.229 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:15:39.443 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:15:39.463 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:39.470 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:15:39.481 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:15:39.484 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:15:39.545 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 62.6824ms.
2024-11-16 11:15:39.546 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 571.9546ms
2024-11-16 11:15:39.548 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:39.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 582.5351ms
2024-11-16 11:15:39.566 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: c8GuU-y6lc_8OQgTBVAfLw
2024-11-16 11:15:39.567 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: c8GuU-y6lc_8OQgTBVAfLw
2024-11-16 11:15:39.570 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:15:39.571 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=mLNPVSBIE9fDmcbGunrZAQ - 200 null null 17405.18ms
2024-11-16 11:15:39.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 11:15:39.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:39.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.3124ms
2024-11-16 11:15:39.640 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:39.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.2113ms
2024-11-16 11:15:39.655 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 11:15:39.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 24.1778ms
2024-11-16 11:15:39.751 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:15:39.755 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:15:39.757 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:15:39.758 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 6.5423ms
2024-11-16 11:15:39.789 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=WUHNq2XkaOoxo_TZYkROKw - null null
2024-11-16 11:15:39.792 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:15:39.962 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: dwuhqKTwHjJ0Xy_cCguKPQ
2024-11-16 11:15:39.964 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: dwuhqKTwHjJ0Xy_cCguKPQ
2024-11-16 11:15:41.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 11:15:41.868 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:41.869 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:41.873 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:15:41.940 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:41.971 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 11:15:41.989 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 11:15:42.033 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 45.4005ms.
2024-11-16 11:15:42.034 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 163.5544ms
2024-11-16 11:15:42.035 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:42.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 175.7152ms
2024-11-16 11:15:42.040 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: dwuhqKTwHjJ0Xy_cCguKPQ
2024-11-16 11:15:42.041 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: dwuhqKTwHjJ0Xy_cCguKPQ
2024-11-16 11:15:42.042 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:15:42.043 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=WUHNq2XkaOoxo_TZYkROKw - 200 null null 2253.9821ms
2024-11-16 11:15:42.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - null null
2024-11-16 11:15:42.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:42.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:42.074 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.6877ms
2024-11-16 11:15:42.076 +02:00 [INF] The file /css/staffQueries.css was not modified
2024-11-16 11:15:42.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - 304 null text/css 9.4991ms
2024-11-16 11:15:42.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7603ms
2024-11-16 11:15:43.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 11:15:43.997 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:43.998 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:44.001 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:15:44.010 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:44.019 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 11:15:44.024 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 11:15:44.029 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 4.9579ms.
2024-11-16 11:15:44.031 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 32.1956ms
2024-11-16 11:15:44.032 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:44.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 41.5224ms
2024-11-16 11:15:44.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:44.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:44.057 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9069ms
2024-11-16 11:15:44.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.5618ms
2024-11-16 11:15:45.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:15:45.975 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:45.976 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:45.979 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 11:15:45.980 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.3585ms
2024-11-16 11:15:45.981 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:45.981 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 12.5751ms
2024-11-16 11:15:45.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:15:45.990 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:45.990 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:45.998 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:46.018 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:15:46.030 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:15:46.098 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:15:46.108 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:46.114 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:15:46.118 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:15:46.121 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:15:46.125 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 3.4893ms.
2024-11-16 11:15:46.126 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 134.5623ms
2024-11-16 11:15:46.128 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:46.129 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 143.7141ms
2024-11-16 11:15:46.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:46.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:46.165 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.338ms
2024-11-16 11:15:46.170 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.4466ms
2024-11-16 11:15:46.195 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:15:46.198 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:15:46.199 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:15:46.200 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 5.8527ms
2024-11-16 11:15:46.230 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=GnylIVNdmxDa18FTuTK2Xg - null null
2024-11-16 11:15:46.235 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:15:46.286 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: DhAQMlN5Oj7GuMfS4Kp3Cg
2024-11-16 11:15:46.288 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: DhAQMlN5Oj7GuMfS4Kp3Cg
2024-11-16 11:15:53.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:15:53.972 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:53.974 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:53.975 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:15:53.975 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.6713ms
2024-11-16 11:15:53.976 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:53.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 12.9069ms
2024-11-16 11:15:53.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:15:53.986 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:53.991 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:53.994 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:15:53.995 +02:00 [ERR] User not logged in.
2024-11-16 11:15:53.996 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:15:53.996 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 4.3687ms
2024-11-16 11:15:53.997 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:53.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 302 0 null 13.4531ms
2024-11-16 11:15:54.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:15:54.005 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:54.006 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:54.348 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:15:54.350 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:15:54.351 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 11:15:54.351 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:15:54.352 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 345.3308ms
2024-11-16 11:15:54.352 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:54.353 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:6e1473c4-579b-4fec-9cc6-90537c9737ab
2024-11-16 11:15:54.354 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 351.8266ms
2024-11-16 11:15:54.361 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:15:54.363 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:54.364 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:54.365 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:15:54.365 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.5398ms
2024-11-16 11:15:54.366 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:54.366 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 5.4666ms
2024-11-16 11:15:54.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:15:54.377 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:54.377 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:54.393 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:54.403 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:15:54.427 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:15:54.434 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:54.439 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:15:54.448 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:15:54.451 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:15:54.464 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 14.1306ms.
2024-11-16 11:15:54.465 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 86.864ms
2024-11-16 11:15:54.469 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:54.470 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 97.4738ms
2024-11-16 11:15:54.530 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:54.532 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1659ms
2024-11-16 11:15:54.533 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:54.542 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.9632ms
2024-11-16 11:15:56.484 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 11:15:56.515 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:56.518 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:56.528 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:15:56.531 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 11:15:56.550 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 20.5699ms.
2024-11-16 11:15:56.571 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 46.5677ms
2024-11-16 11:15:56.577 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:56.626 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 141.8833ms
2024-11-16 11:15:56.657 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:56.657 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:56.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 58.2273ms
2024-11-16 11:15:56.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.8994ms
2024-11-16 11:15:57.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:15:57.712 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:57.714 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:57.718 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:15:57.719 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:15:57.725 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 5.9989ms.
2024-11-16 11:15:57.726 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 11.2138ms
2024-11-16 11:15:57.728 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:57.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 22.9125ms
2024-11-16 11:15:57.785 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:57.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:57.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.9215ms
2024-11-16 11:15:57.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.6552ms
2024-11-16 11:15:58.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:15:58.702 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:58.725 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:15:58.730 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:15:58.764 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:15:58.775 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:15:58.802 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:15:58.900 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:15:59.001 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:15:59.144 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 11:15:59.184 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 41.1898ms.
2024-11-16 11:15:59.187 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 461.2082ms
2024-11-16 11:15:59.191 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:15:59.193 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 541.0319ms
2024-11-16 11:15:59.282 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:15:59.282 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:15:59.313 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 29.7945ms
2024-11-16 11:15:59.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.4318ms
2024-11-16 11:16:06.459 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryYsAdGL9YJwfcKWMA 808
2024-11-16 11:16:06.469 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:16:06.487 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:16:06.492 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:16:06.518 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:16:06.519 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:16:06.524 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:16:06.533 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:16:06.539 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:16:06.542 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 11:16:06.543 +02:00 [INF] Student details:0
2024-11-16 11:16:06.768 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 8' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T11:16:06.5550338+02:00' (Nullable = true), @p10='20241116-38963' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 11:16:06.799 +02:00 [INF] Query with ID 123 successfully created.
2024-11-16 11:16:06.813 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 11:16:06.827 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 11:16:06.845 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 11:16:06.891 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='123', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T11:16:06.8481857+02:00' (Nullable = true), @p3='20241116-61538' (Nullable = false) (Size = 4000), @p4='123' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 11:16:06.908 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 11:16:06.916 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 11:16:06.919 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 11:16:06.928 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 11:16:06.935 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 11:16:06.937 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 11:16:06.941 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 11:16:06.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/assets/sounds/notification.wav - null null
2024-11-16 11:16:06.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/assets/sounds/notification.wav - 404 0 null 6.5225ms
2024-11-16 11:16:07.001 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/assets/sounds/notification.wav, Response status code: 404
2024-11-16 11:16:07.680 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 11:16:07.681 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 11:16:07.682 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 11:16:07.684 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 11:16:07.685 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 11:16:07.685 +02:00 [INF] sent notification to  10.
2024-11-16 11:16:07.686 +02:00 [INF] Query submission process completed successfully for QueryID 123.
2024-11-16 11:16:07.690 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:16:07.693 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:16:07.699 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:16:07.700 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 11:16:07.701 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 11:16:07.939 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 11:16:07.940 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 11:16:07.942 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 11:16:07.943 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1453.4879ms
2024-11-16 11:16:07.944 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:16:07.946 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1486.5369ms
2024-11-16 11:16:07.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:16:07.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:16:07.959 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:16:07.963 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:16:07.964 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:16:07.967 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 3.8177ms.
2024-11-16 11:16:07.968 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 8.6987ms
2024-11-16 11:16:07.970 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:16:07.971 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 17.937ms
2024-11-16 11:16:08.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:16:08.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:16:08.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.077ms
2024-11-16 11:16:08.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.4131ms
2024-11-16 11:16:34.074 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:16:34.081 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:16:34.084 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:16:34.095 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:16:34.110 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:16:34.117 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:16:34.182 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:16:34.190 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:16:34.196 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:16:34.200 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:16:34.202 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:16:34.206 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 3.7041ms.
2024-11-16 11:16:34.208 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 122.0197ms
2024-11-16 11:16:34.209 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:16:34.210 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 135.9835ms
2024-11-16 11:16:34.213 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: DhAQMlN5Oj7GuMfS4Kp3Cg
2024-11-16 11:16:34.213 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: DhAQMlN5Oj7GuMfS4Kp3Cg
2024-11-16 11:16:34.214 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:16:34.215 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=GnylIVNdmxDa18FTuTK2Xg - 200 null null 47984.549ms
2024-11-16 11:16:34.230 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 11:16:34.236 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 11:16:34.239 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 11:16:34.239 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 11:16:34.240 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 11:16:34.240 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 11:16:34.240 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 11:16:34.241 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 11:16:34.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 11:16:34.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 11:16:34.243 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 11:16:34.245 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 11:16:34.246 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 11:16:34.247 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 16.4352ms
2024-11-16 11:16:34.247 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 11:16:34.247 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 11.4603ms
2024-11-16 11:16:34.250 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 11:16:34.250 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 11.4104ms
2024-11-16 11:16:34.251 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 11:16:34.251 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 11.7425ms
2024-11-16 11:16:34.252 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 12.1023ms
2024-11-16 11:16:34.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 11:16:34.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 11:16:34.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:16:34.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 17.3385ms
2024-11-16 11:16:34.260 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 11:16:34.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 21.0744ms
2024-11-16 11:16:34.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 11:16:34.263 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 11:16:34.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 11:16:34.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 11:16:34.266 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 11:16:34.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 11:16:34.261 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 20.9471ms
2024-11-16 11:16:34.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 11:16:34.272 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-16 11:16:34.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-16 11:16:34.274 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 11:16:34.275 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 19.755ms
2024-11-16 11:16:34.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-16 11:16:34.278 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 11:16:34.278 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-16 11:16:34.279 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 11:16:34.281 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 11:16:34.281 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 15.3963ms
2024-11-16 11:16:34.282 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-16 11:16:34.284 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 17.7689ms
2024-11-16 11:16:34.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-16 11:16:34.285 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 17.8705ms
2024-11-16 11:16:34.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 16.9127ms
2024-11-16 11:16:34.288 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-16 11:16:34.288 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-16 11:16:34.288 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 16.1989ms
2024-11-16 11:16:34.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:16:34.292 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 11:16:34.294 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-16 11:16:34.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 19.1906ms
2024-11-16 11:16:34.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 17.2289ms
2024-11-16 11:16:34.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 38.3994ms
2024-11-16 11:16:34.296 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 11:16:34.298 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 56.8419ms
2024-11-16 11:16:34.299 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 14.5274ms
2024-11-16 11:16:34.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 11:16:34.310 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 11:16:34.310 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 11:16:34.312 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.5025ms
2024-11-16 11:16:34.312 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 54.6654ms
2024-11-16 11:16:34.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 59.4719ms
2024-11-16 11:16:34.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 61.1058ms
2024-11-16 11:16:34.325 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 11:16:34.333 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 29.3324ms
2024-11-16 11:16:34.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 11:16:34.350 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 11:16:34.351 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 6.0966ms
2024-11-16 11:16:34.383 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-16 11:16:34.384 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 110.2995ms
2024-11-16 11:16:34.771 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:16:34.774 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:16:34.775 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:16:34.775 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 4.8772ms
2024-11-16 11:16:34.788 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=dPNHtjA_TUn3GR3Z4O0TOQ - null null
2024-11-16 11:16:34.790 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:16:34.825 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: lezf4fgofnWD9Ud2Sow6cA
2024-11-16 11:16:34.826 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: lezf4fgofnWD9Ud2Sow6cA
2024-11-16 11:16:34.851 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 11:16:34.854 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 11:16:34.855 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 4.6302ms
2024-11-16 11:16:34.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:16:34.967 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:16:34.968 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:16:34.975 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:16:34.985 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:16:34.995 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:16:35.054 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:16:35.062 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:16:35.065 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:16:35.069 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:16:35.071 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:16:35.073 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.304ms.
2024-11-16 11:16:35.074 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 104.1525ms
2024-11-16 11:16:35.075 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:16:35.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 111.4206ms
2024-11-16 11:16:35.081 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: lezf4fgofnWD9Ud2Sow6cA
2024-11-16 11:16:35.083 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: lezf4fgofnWD9Ud2Sow6cA
2024-11-16 11:16:35.083 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:16:35.084 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=dPNHtjA_TUn3GR3Z4O0TOQ - 200 null null 295.9852ms
2024-11-16 11:16:35.099 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 11:16:35.101 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 11:16:35.101 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 11:16:35.102 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 11:16:35.102 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 11:16:35.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:16:35.105 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 11:16:35.106 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 11:16:35.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 11:16:35.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 11:16:35.108 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 11:16:35.108 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 11:16:35.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 11:16:35.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 11:16:35.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 11:16:35.110 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 11:16:35.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 11:16:35.112 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 11:16:35.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 11:16:35.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 11:16:35.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 11:16:35.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 11:16:35.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-16 11:16:35.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-16 11:16:35.116 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 11:16:35.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 17.9726ms
2024-11-16 11:16:35.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 16.908ms
2024-11-16 11:16:35.121 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 11:16:35.122 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 11:16:35.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 21.7189ms
2024-11-16 11:16:35.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.7487ms
2024-11-16 11:16:35.125 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 11:16:35.126 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 11:16:35.127 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 24.6118ms
2024-11-16 11:16:35.127 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-16 11:16:35.130 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-16 11:16:35.131 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-16 11:16:35.132 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 11:16:35.134 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 11:16:35.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:16:35.135 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 11:16:35.136 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 11:16:35.137 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 34.7489ms
2024-11-16 11:16:35.138 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-16 11:16:35.138 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-16 11:16:35.139 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 11:16:35.140 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 32.9912ms
2024-11-16 11:16:35.140 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 33.5952ms
2024-11-16 11:16:35.142 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 11:16:35.147 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 11:16:35.147 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 38.296ms
2024-11-16 11:16:35.148 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 38.7854ms
2024-11-16 11:16:35.150 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 11:16:35.152 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-16 11:16:35.153 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-16 11:16:35.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 40.7368ms
2024-11-16 11:16:35.154 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-16 11:16:35.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 41.095ms
2024-11-16 11:16:35.156 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 42.2215ms
2024-11-16 11:16:35.156 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 11:16:35.156 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 42.5558ms
2024-11-16 11:16:35.159 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 44.5285ms
2024-11-16 11:16:35.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 45.4803ms
2024-11-16 11:16:35.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.6829ms
2024-11-16 11:16:35.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 52.9662ms
2024-11-16 11:16:35.166 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 56.3524ms
2024-11-16 11:16:35.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 54.1491ms
2024-11-16 11:16:35.171 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 59.8091ms
2024-11-16 11:16:35.172 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 44.5314ms
2024-11-16 11:16:35.173 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 42.597ms
2024-11-16 11:16:35.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 44.2115ms
2024-11-16 11:16:35.181 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 11:16:35.197 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 41.2125ms
2024-11-16 11:16:35.211 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 11:16:35.217 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 11:16:35.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 7.5787ms
2024-11-16 11:16:35.246 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:16:35.248 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:16:35.249 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:16:35.250 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 3.9074ms
2024-11-16 11:16:35.281 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=JhjWQgz-1heKUIRVxCT1hw - null null
2024-11-16 11:16:35.284 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:16:35.322 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: utdr-2Uf_CPJRUYsKFpsFQ
2024-11-16 11:16:35.323 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: utdr-2Uf_CPJRUYsKFpsFQ
2024-11-16 11:16:35.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 11:16:35.348 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 11:16:35.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 8.5375ms
2024-11-16 11:20:53.303 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 11:20:53.457 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 11:20:53.461 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 11:20:53.465 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 11:20:53.466 +02:00 [INF] Hosting environment: Development
2024-11-16 11:20:53.467 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 11:20:53.557 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:20:53.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:20:54.108 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:20:54.115 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:54.134 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:20:54.136 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:20:54.143 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 589.0709ms
2024-11-16 11:20:54.154 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=YwmrL5qA29wFWzxg2j8LJQ - null null
2024-11-16 11:20:54.157 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:20:54.160 +02:00 [ERR] User not logged in.
2024-11-16 11:20:54.161 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:20:54.177 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:20:54.182 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 40.8641ms
2024-11-16 11:20:54.183 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:54.184 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 623.3256ms
2024-11-16 11:20:54.188 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: MN435YIYTtpnZhRSUZQAjw
2024-11-16 11:20:54.190 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: MN435YIYTtpnZhRSUZQAjw
2024-11-16 11:20:54.199 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:20:54.205 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:54.211 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:20:55.674 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 11:20:56.891 +02:00 [INF] Executed DbCommand (270ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:20:56.993 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:20:56.994 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 11:20:56.997 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:20:56.999 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2786.3126ms
2024-11-16 11:20:57.000 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:57.005 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:4beb07b0-7215-14d8-8829-aab273613c60
2024-11-16 11:20:57.011 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2811.4966ms
2024-11-16 11:20:57.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:20:57.019 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:57.021 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:20:57.024 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 11:20:57.025 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.4294ms
2024-11-16 11:20:57.025 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:57.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 14.064ms
2024-11-16 11:20:57.031 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:20:57.035 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:57.036 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:20:57.126 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:20:57.206 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:20:57.257 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:20:57.404 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:20:57.424 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:20:57.431 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:20:57.441 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:20:57.448 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:20:57.545 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 101.2067ms.
2024-11-16 11:20:57.549 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 511.9229ms
2024-11-16 11:20:57.550 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:57.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 526.7399ms
2024-11-16 11:20:57.577 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: MN435YIYTtpnZhRSUZQAjw
2024-11-16 11:20:57.578 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: MN435YIYTtpnZhRSUZQAjw
2024-11-16 11:20:57.584 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:20:57.586 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=YwmrL5qA29wFWzxg2j8LJQ - 200 null null 3431.5864ms
2024-11-16 11:20:57.644 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:20:57.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 11:20:57.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:20:57.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.874ms
2024-11-16 11:20:57.663 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-16 11:20:57.667 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 18.9089ms
2024-11-16 11:20:57.690 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1574ms
2024-11-16 11:20:57.776 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:20:57.780 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:20:57.780 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:20:57.781 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 4.3911ms
2024-11-16 11:20:57.816 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7061/notificationHub?staffId=10&id=pasDdH4BWL0VyDTCTY2-ig - null null
2024-11-16 11:20:57.819 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:20:57.966 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: CYvuzkDJ1fGGoXquufK56Q
2024-11-16 11:20:57.972 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: CYvuzkDJ1fGGoXquufK56Q
2024-11-16 11:20:59.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:20:59.977 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:20:59.994 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:00.031 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:21:00.059 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:21:00.061 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:21:00.061 +02:00 [ERR] User not logged in.
2024-11-16 11:21:00.063 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:21:00.064 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 67.8502ms
2024-11-16 11:21:00.065 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:00.066 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 302 0 null 98.7307ms
2024-11-16 11:21:00.081 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:21:00.088 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:00.089 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:00.445 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:21:00.448 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:21:00.449 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 11:21:00.449 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:21:00.450 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 359.3075ms
2024-11-16 11:21:00.451 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:00.452 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:78b4782d-b1ff-2b83-12cc-03fb7f23ec1b
2024-11-16 11:21:00.453 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 372.488ms
2024-11-16 11:21:00.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:21:00.464 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:00.465 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:00.466 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:21:00.467 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.7224ms
2024-11-16 11:21:00.468 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:00.469 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 7.708ms
2024-11-16 11:21:00.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:21:00.481 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:00.485 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:00.507 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:21:00.518 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:21:00.541 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:21:00.556 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:21:00.559 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:21:00.567 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:21:00.570 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:21:00.590 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 21.6574ms.
2024-11-16 11:21:00.592 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 105.585ms
2024-11-16 11:21:00.593 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:00.594 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 117.2942ms
2024-11-16 11:21:00.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:21:00.680 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6544ms
2024-11-16 11:21:00.687 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:21:00.743 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.9208ms
2024-11-16 11:21:02.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:21:02.077 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:02.078 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:02.080 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:21:02.081 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.7507ms
2024-11-16 11:21:02.081 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:02.082 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 13.1413ms
2024-11-16 11:21:02.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:21:02.093 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:02.093 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:02.101 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:21:02.111 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:21:02.119 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:21:02.127 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:21:02.131 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:21:02.142 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:21:02.144 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:21:02.146 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 2.6929ms.
2024-11-16 11:21:02.147 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 52.91ms
2024-11-16 11:21:02.149 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:02.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 60.3477ms
2024-11-16 11:21:02.189 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:21:02.191 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6346ms
2024-11-16 11:21:02.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:21:02.212 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.0709ms
2024-11-16 11:21:04.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 11:21:04.297 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:04.299 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:04.302 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:21:04.306 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 11:21:04.319 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 13.9678ms.
2024-11-16 11:21:04.321 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 20.8018ms
2024-11-16 11:21:04.321 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:04.322 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 32.4848ms
2024-11-16 11:21:04.368 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:21:04.368 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:21:04.370 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2751ms
2024-11-16 11:21:04.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.6922ms
2024-11-16 11:21:05.417 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:21:05.425 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:05.432 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:05.438 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:21:05.440 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:21:05.447 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 7.3405ms.
2024-11-16 11:21:05.448 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 14.4053ms
2024-11-16 11:21:05.449 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:05.450 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 33.1069ms
2024-11-16 11:21:05.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:21:05.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:21:05.522 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6019ms
2024-11-16 11:21:05.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.7192ms
2024-11-16 11:21:06.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:21:06.395 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:06.396 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:06.399 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:21:06.401 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:21:06.411 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:21:06.417 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:21:06.455 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:21:06.486 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:21:06.566 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 11:21:06.584 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 18.3386ms.
2024-11-16 11:21:06.585 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 187.5895ms
2024-11-16 11:21:06.586 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:06.587 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 198.6788ms
2024-11-16 11:21:06.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:21:06.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:21:06.630 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.065ms
2024-11-16 11:21:06.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.4909ms
2024-11-16 11:21:12.864 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryppxv8TnXkzw9ftKD 808
2024-11-16 11:21:12.873 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:12.894 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:12.897 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:21:12.927 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:21:12.927 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:21:12.932 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:21:12.940 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:21:12.944 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:21:12.948 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 11:21:12.948 +02:00 [INF] Student details:0
2024-11-16 11:21:13.132 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 9' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T11:21:12.9640718+02:00' (Nullable = true), @p10='20241116-48742' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 11:21:13.160 +02:00 [INF] Query with ID 124 successfully created.
2024-11-16 11:21:13.170 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 11:21:13.181 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 11:21:13.198 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 11:21:13.240 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='124', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T11:21:13.2017462+02:00' (Nullable = true), @p3='20241116-25215' (Nullable = false) (Size = 4000), @p4='124' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 11:21:13.255 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 11:21:13.260 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 11:21:13.263 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 11:21:13.275 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 11:21:13.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/assets/sounds/notification.wav - null null
2024-11-16 11:21:13.285 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 11:21:13.288 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 11:21:13.290 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 11:21:13.291 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/assets/sounds/notification.wav - 404 0 null 6.5147ms
2024-11-16 11:21:13.293 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/assets/sounds/notification.wav, Response status code: 404
2024-11-16 11:21:14.011 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 11:21:14.012 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 11:21:14.013 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 11:21:14.014 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 11:21:14.015 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 11:21:14.015 +02:00 [INF] sent notification to  10.
2024-11-16 11:21:14.016 +02:00 [INF] Query submission process completed successfully for QueryID 124.
2024-11-16 11:21:14.018 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:21:14.021 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:21:14.024 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:21:14.025 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 11:21:14.026 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 11:21:14.633 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 11:21:14.634 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 11:21:14.635 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 11:21:14.636 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1741.2353ms
2024-11-16 11:21:14.637 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:14.638 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1773.5102ms
2024-11-16 11:21:14.643 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:21:14.646 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:14.646 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:21:14.649 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:21:14.650 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:21:14.654 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 4.2224ms.
2024-11-16 11:21:14.655 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 7.5689ms
2024-11-16 11:21:14.656 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:21:14.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 13.9897ms
2024-11-16 11:21:14.693 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:21:14.696 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:21:14.698 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3671ms
2024-11-16 11:21:14.702 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.9065ms
2024-11-16 11:23:51.760 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 11:23:52.110 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 11:23:52.111 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 11:23:52.113 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 11:23:52.114 +02:00 [INF] Hosting environment: Development
2024-11-16 11:23:52.115 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 11:23:52.298 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:23:52.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:23:52.818 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:23:52.821 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:23:52.836 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:23:52.841 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:23:52.848 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 551.5696ms
2024-11-16 11:23:52.853 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=E2-MEDt1mkeOY2liJ9Gzgw - null null
2024-11-16 11:23:52.860 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:23:52.862 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:23:52.876 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:23:52.883 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: 9NEl4dpf8WSpkgHqhuj0Sg
2024-11-16 11:23:52.885 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: 9NEl4dpf8WSpkgHqhuj0Sg
2024-11-16 11:23:52.968 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 96.8615ms.
2024-11-16 11:23:52.971 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 133.3244ms
2024-11-16 11:23:52.972 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:23:52.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 494.2867ms
2024-11-16 11:23:53.062 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:23:53.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:23:53.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 16.6117ms
2024-11-16 11:23:53.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 323.1891ms
2024-11-16 11:23:56.220 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:23:56.236 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:23:56.238 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:23:56.242 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:23:56.244 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:23:56.248 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 4.5346ms.
2024-11-16 11:23:56.249 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 9.4528ms
2024-11-16 11:23:56.251 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:23:56.252 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 32.1995ms
2024-11-16 11:23:56.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:23:56.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:23:56.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.5893ms
2024-11-16 11:23:56.306 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.2698ms
2024-11-16 11:23:59.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 11:23:59.773 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:23:59.778 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:23:59.784 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:23:59.792 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:23:59.793 +02:00 [ERR] User not logged in.
2024-11-16 11:23:59.794 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:23:59.795 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 15.9328ms
2024-11-16 11:23:59.796 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:23:59.796 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 33.9076ms
2024-11-16 11:23:59.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:23:59.812 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:23:59.818 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:01.345 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 11:24:02.446 +02:00 [INF] Executed DbCommand (475ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:24:02.545 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:24:02.547 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 11:24:02.551 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:24:02.553 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2733.7732ms
2024-11-16 11:24:02.554 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:02.557 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:938841d4-465e-33a8-6a66-3eae13b4bf84
2024-11-16 11:24:02.564 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:24:02.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2756.5365ms
2024-11-16 11:24:02.569 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:02.571 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:02.572 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 11:24:02.573 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.2371ms
2024-11-16 11:24:02.574 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:02.574 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 10.7035ms
2024-11-16 11:24:02.578 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:24:02.582 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:02.586 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:02.708 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:02.832 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:24:02.881 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:24:03.109 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:24:03.133 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:03.147 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:03.160 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:03.167 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:24:03.207 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 41.675ms.
2024-11-16 11:24:03.208 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 621.131ms
2024-11-16 11:24:03.209 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:03.210 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 632.3129ms
2024-11-16 11:24:03.245 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: 9NEl4dpf8WSpkgHqhuj0Sg
2024-11-16 11:24:03.246 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: 9NEl4dpf8WSpkgHqhuj0Sg
2024-11-16 11:24:03.251 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:24:03.252 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=E2-MEDt1mkeOY2liJ9Gzgw - 200 null null 10399.2133ms
2024-11-16 11:24:03.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 11:24:03.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:03.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:03.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.22ms
2024-11-16 11:24:03.303 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-16 11:24:03.304 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 13.8054ms
2024-11-16 11:24:03.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.1332ms
2024-11-16 11:24:03.395 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:24:03.398 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:24:03.399 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:24:03.400 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 5.2656ms
2024-11-16 11:24:03.431 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Nqb1839esO7na-VFCykHPA - null null
2024-11-16 11:24:03.435 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:24:03.526 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: YIBMLZ-vW-1SR1zf7Rl6fA
2024-11-16 11:24:03.527 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: YIBMLZ-vW-1SR1zf7Rl6fA
2024-11-16 11:24:07.663 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:24:07.669 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:07.670 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:07.729 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:07.742 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:24:07.752 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:24:07.788 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:24:07.801 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:07.805 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:07.809 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:07.811 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:24:07.814 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.471ms.
2024-11-16 11:24:07.814 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 143.5993ms
2024-11-16 11:24:07.817 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:07.819 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 155.8981ms
2024-11-16 11:24:07.821 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: YIBMLZ-vW-1SR1zf7Rl6fA
2024-11-16 11:24:07.822 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: YIBMLZ-vW-1SR1zf7Rl6fA
2024-11-16 11:24:07.823 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:24:07.823 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Nqb1839esO7na-VFCykHPA - 200 null null 4391.952ms
2024-11-16 11:24:07.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:07.837 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.2199ms
2024-11-16 11:24:07.838 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:07.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.7035ms
2024-11-16 11:24:07.886 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:24:07.890 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:24:07.891 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:24:07.892 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 5.4004ms
2024-11-16 11:24:07.909 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=THaLbJmeAlwYUFlzPenkow - null null
2024-11-16 11:24:07.913 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:24:07.948 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: zXm2tg5ikHc0XBuFCrS_AQ
2024-11-16 11:24:07.949 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: zXm2tg5ikHc0XBuFCrS_AQ
2024-11-16 11:24:15.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:24:15.357 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.397 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:15.422 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:24:15.470 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 50.3991ms
2024-11-16 11:24:15.472 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 151.7348ms
2024-11-16 11:24:15.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:24:15.493 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.500 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:15.507 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:24:15.508 +02:00 [ERR] User not logged in.
2024-11-16 11:24:15.509 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:24:15.510 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 8.5234ms
2024-11-16 11:24:15.511 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.512 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 302 0 null 23.892ms
2024-11-16 11:24:15.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:24:15.539 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.540 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:15.931 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:24:15.936 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:24:15.937 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 11:24:15.937 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:24:15.938 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 396.8532ms
2024-11-16 11:24:15.939 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.940 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:274a79f3-a6d3-3c41-e7e2-9685b964588c
2024-11-16 11:24:15.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 418.3448ms
2024-11-16 11:24:15.948 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:24:15.956 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.957 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:15.959 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:24:15.959 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.8133ms
2024-11-16 11:24:15.960 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 13.0219ms
2024-11-16 11:24:15.971 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:24:15.975 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:15.976 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:16.014 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:16.038 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:24:16.072 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:24:16.097 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:16.104 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:16.110 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:16.113 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:24:16.139 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 26.5807ms.
2024-11-16 11:24:16.140 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 162.9072ms
2024-11-16 11:24:16.141 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:16.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 171.0649ms
2024-11-16 11:24:16.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:16.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:16.219 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9834ms
2024-11-16 11:24:16.228 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.7827ms
2024-11-16 11:24:17.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 11:24:17.325 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:17.329 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:17.343 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:24:17.346 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 11:24:17.360 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 14.9914ms.
2024-11-16 11:24:17.361 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 30.7203ms
2024-11-16 11:24:17.363 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:17.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 43.0902ms
2024-11-16 11:24:17.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:17.429 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:17.431 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7795ms
2024-11-16 11:24:17.440 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.6927ms
2024-11-16 11:24:21.108 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:24:21.114 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:21.115 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:21.115 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:24:21.116 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.6761ms
2024-11-16 11:24:21.117 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:21.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 9.4869ms
2024-11-16 11:24:21.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:24:21.128 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:21.129 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:21.134 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:21.139 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:24:21.144 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:24:21.147 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:21.151 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:21.156 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:21.158 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:24:21.161 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 2.2461ms.
2024-11-16 11:24:21.161 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 32.032ms
2024-11-16 11:24:21.162 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:21.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 37.7527ms
2024-11-16 11:24:21.202 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:21.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3228ms
2024-11-16 11:24:21.211 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:21.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.3094ms
2024-11-16 11:24:24.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:24:24.077 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:24.078 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:24.079 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:24:24.079 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.5703ms
2024-11-16 11:24:24.080 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:24.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 9.7233ms
2024-11-16 11:24:24.086 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:24:24.089 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:24.089 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:24.094 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:24.098 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:24:24.106 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:24:24.109 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:24.112 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:24.181 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:24.184 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:24:24.186 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 1.9282ms.
2024-11-16 11:24:24.187 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 96.7155ms
2024-11-16 11:24:24.187 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:24.188 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 102.4434ms
2024-11-16 11:24:24.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:24.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9567ms
2024-11-16 11:24:24.231 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:24.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.1262ms
2024-11-16 11:24:26.596 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Chat/Chats - null null
2024-11-16 11:24:26.603 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:26.606 +02:00 [INF] Route matched with {action = "Chats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Chats() on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:26.621 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 11:24:26.666 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__currentUserId_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[Name], [u].[Surname], [u].[IsOnline], [u].[LastSeen], (
    SELECT COUNT(*)
    FROM [Messages] AS [m]
    WHERE [m].[ReceiverId] = @__currentUserId_0 AND [m].[IsRead] = CAST(0 AS bit) AND [u].[UserID] = [m].[SenderId]) AS [UnreadCount]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__currentUserId_0 AND [u].[Role] = N'Staff'
2024-11-16 11:24:26.671 +02:00 [INF] Executing ViewResult, running view Chats.
2024-11-16 11:24:26.726 +02:00 [INF] Executed ViewResult - view Chats executed in 56.9288ms.
2024-11-16 11:24:26.728 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp) in 121.2956ms
2024-11-16 11:24:26.730 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.Chats (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:26.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Chat/Chats - 200 null text/html; charset=utf-8 134.8033ms
2024-11-16 11:24:26.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:26.785 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:26.787 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.062ms
2024-11-16 11:24:26.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.3744ms
2024-11-16 11:24:26.845 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:24:26.856 +02:00 [INF] Executing endpoint '/chatHub/negotiate'
2024-11-16 11:24:26.858 +02:00 [INF] Executed endpoint '/chatHub/negotiate'
2024-11-16 11:24:26.860 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 14.5692ms
2024-11-16 11:24:26.864 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/chatHub?id=AAaGVP76AQH5iRmBmmDxfw - null null
2024-11-16 11:24:26.867 +02:00 [INF] Executing endpoint '/chatHub'
2024-11-16 11:24:26.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/users/statuses - null null
2024-11-16 11:24:26.960 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 11:24:26.962 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:26.983 +02:00 [INF] Route matched with {action = "GetUserStatuses", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStatuses() on controller Apptivate_UQMS_WebApp.Controllers.ChatController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:27.105 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID] AS [userId], [u].[IsOnline] AS [isOnline]
FROM [Users] AS [u]
2024-11-16 11:24:27.135 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 11:24:27.173 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp) in 180.5557ms
2024-11-16 11:24:27.178 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ChatController.GetUserStatuses (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:27.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/users/statuses - 200 null application/json; charset=utf-8 221.7507ms
2024-11-16 11:24:27.207 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p2='46', @p0='True', @p1='2024-11-16T09:24:26.9779838Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsOnline] = @p0, [LastSeen] = @p1
OUTPUT 1
WHERE [UserID] = @p2;
2024-11-16 11:24:28.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 11:24:28.404 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:28.405 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:28.408 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:24:28.409 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 11:24:28.410 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 1.2335ms.
2024-11-16 11:24:28.411 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.2396ms
2024-11-16 11:24:28.412 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:28.413 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 12.924ms
2024-11-16 11:24:28.427 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-16 11:24:28.441 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='46', @p0='False', @p1='2024-11-16T09:24:28.4292418Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsOnline] = @p0, [LastSeen] = @p1
OUTPUT 1
WHERE [UserID] = @p2;
2024-11-16 11:24:28.444 +02:00 [INF] Executed endpoint '/chatHub'
2024-11-16 11:24:28.445 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/chatHub?id=AAaGVP76AQH5iRmBmmDxfw - 200 null null 1580.7998ms
2024-11-16 11:24:28.458 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:28.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7759ms
2024-11-16 11:24:28.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:28.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.2916ms
2024-11-16 11:24:29.768 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:24:29.772 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:29.773 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:29.777 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:24:29.777 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:24:29.779 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.4614ms.
2024-11-16 11:24:29.779 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 5.1169ms
2024-11-16 11:24:29.780 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:29.781 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 13.1163ms
2024-11-16 11:24:29.814 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:29.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.7745ms
2024-11-16 11:24:29.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:29.828 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7552ms
2024-11-16 11:24:30.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:24:30.963 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:30.972 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:30.974 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:24:30.984 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:24:30.989 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:24:30.992 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:31.012 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:31.031 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:24:31.058 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 11:24:31.073 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 15.7925ms.
2024-11-16 11:24:31.074 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 101.4859ms
2024-11-16 11:24:31.075 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:31.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 117.5601ms
2024-11-16 11:24:31.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:31.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:31.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7329ms
2024-11-16 11:24:31.121 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.2198ms
2024-11-16 11:24:46.590 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryrg3btk2LhjfBGqba 809
2024-11-16 11:24:46.597 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:46.613 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:46.616 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:24:46.645 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:24:46.646 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:24:46.654 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:46.664 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:24:46.672 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:24:46.675 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 11:24:46.676 +02:00 [INF] Student details:0
2024-11-16 11:24:46.753 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 10' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T11:24:46.6821582+02:00' (Nullable = true), @p10='20241116-71836' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 11:24:46.765 +02:00 [INF] Query with ID 125 successfully created.
2024-11-16 11:24:46.775 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 11:24:46.788 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 11:24:46.801 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 11:24:46.831 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='125', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T11:24:46.8044944+02:00' (Nullable = true), @p3='20241116-99347' (Nullable = false) (Size = 4000), @p4='125' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 11:24:46.844 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 11:24:46.847 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 11:24:46.850 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 11:24:46.860 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 11:24:46.869 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 11:24:46.871 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 11:24:46.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/assets/sounds/notification.wav - null null
2024-11-16 11:24:46.874 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 11:24:46.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/assets/sounds/notification.wav - 404 0 null 4.6803ms
2024-11-16 11:24:46.880 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/assets/sounds/notification.wav, Response status code: 404
2024-11-16 11:24:47.564 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 11:24:47.566 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 11:24:47.567 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 11:24:47.570 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 11:24:47.571 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 11:24:47.571 +02:00 [INF] sent notification to  10.
2024-11-16 11:24:47.572 +02:00 [INF] Query submission process completed successfully for QueryID 125.
2024-11-16 11:24:47.575 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:24:47.581 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:47.587 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:24:47.589 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 11:24:47.589 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 11:24:47.834 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 11:24:47.835 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 11:24:47.836 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 11:24:47.836 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1222.721ms
2024-11-16 11:24:47.839 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:47.840 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1249.2535ms
2024-11-16 11:24:47.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:24:47.848 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:47.849 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:24:47.852 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:24:47.854 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:24:47.855 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.7567ms.
2024-11-16 11:24:47.856 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 5.6088ms
2024-11-16 11:24:47.856 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:24:47.857 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 12.349ms
2024-11-16 11:24:47.899 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:24:47.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:24:47.907 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.5321ms
2024-11-16 11:24:47.910 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.4681ms
2024-11-16 11:32:50.595 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 11:32:50.768 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 11:32:50.769 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 11:32:50.773 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 11:32:50.775 +02:00 [INF] Hosting environment: Development
2024-11-16 11:32:50.777 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 11:32:51.071 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:32:51.183 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:32:51.698 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:32:51.702 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:32:51.719 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:32:51.721 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:32:51.725 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 658.0201ms
2024-11-16 11:32:51.726 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=IsCl1FEviNeY5hRHAOTL6w - null null
2024-11-16 11:32:51.737 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:32:51.743 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:32:51.759 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:32:51.762 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: Cbg65TORhWY7zNy2VyagfQ
2024-11-16 11:32:51.764 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: Cbg65TORhWY7zNy2VyagfQ
2024-11-16 11:32:51.844 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 88.5617ms.
2024-11-16 11:32:51.847 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 125.7451ms
2024-11-16 11:32:51.848 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:32:51.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 667.5736ms
2024-11-16 11:32:51.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:32:52.000 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:32:52.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.5213ms
2024-11-16 11:32:52.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.833ms
2024-11-16 11:32:57.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 11:32:57.773 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:32:57.776 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:32:57.783 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:32:57.789 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:32:57.790 +02:00 [ERR] User not logged in.
2024-11-16 11:32:57.790 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:32:57.791 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 10.9417ms
2024-11-16 11:32:57.792 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:32:57.793 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 27.7401ms
2024-11-16 11:32:57.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:32:57.804 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:32:57.808 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:32:59.259 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 11:33:00.085 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:33:00.159 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:33:00.161 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 11:33:00.164 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:33:00.166 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2357.2627ms
2024-11-16 11:33:00.168 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:00.170 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a47681a8-45ef-17fb-bd0c-8485aaa2ec71
2024-11-16 11:33:00.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2374.7301ms
2024-11-16 11:33:00.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:33:00.182 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:00.185 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:00.187 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 11:33:00.188 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.4807ms
2024-11-16 11:33:00.188 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:00.189 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 12.9265ms
2024-11-16 11:33:00.194 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:33:00.199 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:00.202 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:00.288 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:00.393 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:33:00.443 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:33:00.617 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:33:00.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:00.645 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:00.657 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:00.660 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:33:00.700 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 41.2077ms.
2024-11-16 11:33:00.701 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 497.3392ms
2024-11-16 11:33:00.702 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:00.703 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 509.5979ms
2024-11-16 11:33:00.722 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: Cbg65TORhWY7zNy2VyagfQ
2024-11-16 11:33:00.723 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: Cbg65TORhWY7zNy2VyagfQ
2024-11-16 11:33:00.726 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:33:00.727 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=IsCl1FEviNeY5hRHAOTL6w - 200 null null 9000.1947ms
2024-11-16 11:33:00.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 11:33:00.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:00.782 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:00.790 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-16 11:33:00.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.8619ms
2024-11-16 11:33:00.794 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 16.6592ms
2024-11-16 11:33:00.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0555ms
2024-11-16 11:33:00.912 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:33:00.915 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:33:00.917 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:33:00.918 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 5.8359ms
2024-11-16 11:33:00.955 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=p6j-5ynK8dr6IBvNO6F8fQ - null null
2024-11-16 11:33:00.958 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:33:01.011 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: VM4vS0v5_5Cy7nHfn7WWoA
2024-11-16 11:33:01.013 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: VM4vS0v5_5Cy7nHfn7WWoA
2024-11-16 11:33:02.752 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:33:02.758 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:02.759 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:02.761 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 11:33:02.762 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.0669ms
2024-11-16 11:33:02.764 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:02.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 13.7765ms
2024-11-16 11:33:02.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:33:02.773 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:02.774 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:02.827 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:02.837 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:33:02.846 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:33:02.889 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:33:02.898 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:02.901 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:02.905 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:02.907 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:33:02.910 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 3.0672ms.
2024-11-16 11:33:02.911 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 136.2059ms
2024-11-16 11:33:02.912 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:02.913 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 144.0074ms
2024-11-16 11:33:02.916 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: VM4vS0v5_5Cy7nHfn7WWoA
2024-11-16 11:33:02.917 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: VM4vS0v5_5Cy7nHfn7WWoA
2024-11-16 11:33:02.918 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:33:02.918 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=p6j-5ynK8dr6IBvNO6F8fQ - 200 null null 1963.6441ms
2024-11-16 11:33:02.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:02.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:02.933 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3444ms
2024-11-16 11:33:02.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.4347ms
2024-11-16 11:33:02.974 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:33:02.977 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:33:02.977 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:33:02.978 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 4.3831ms
2024-11-16 11:33:02.993 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=CRmodNCHS14hMSyrWyPb8Q - null null
2024-11-16 11:33:02.998 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:33:03.027 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: T8xNOYCvr0QcLyBEtojEsA
2024-11-16 11:33:03.028 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: T8xNOYCvr0QcLyBEtojEsA
2024-11-16 11:33:04.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:33:04.943 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:04.944 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:04.950 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:04.959 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:33:04.967 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:33:05.743 +02:00 [INF] Executed DbCommand (771ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:33:05.751 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:05.754 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:05.758 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:05.760 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:33:05.763 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.8615ms.
2024-11-16 11:33:05.764 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 819.5946ms
2024-11-16 11:33:05.766 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:05.767 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 828.5649ms
2024-11-16 11:33:05.774 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: T8xNOYCvr0QcLyBEtojEsA
2024-11-16 11:33:05.775 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: T8xNOYCvr0QcLyBEtojEsA
2024-11-16 11:33:05.776 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:33:05.777 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=CRmodNCHS14hMSyrWyPb8Q - 200 null null 2783.5337ms
2024-11-16 11:33:05.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:05.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:05.796 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6369ms
2024-11-16 11:33:05.804 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.1921ms
2024-11-16 11:33:05.842 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:33:05.846 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:33:05.848 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:33:05.850 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 7.996ms
2024-11-16 11:33:05.861 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Q6iwAh7t_kqzugu1t4h1ug - null null
2024-11-16 11:33:05.865 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:33:05.898 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: XBRmcBsKEYjnMB38YzHDaw
2024-11-16 11:33:05.899 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: XBRmcBsKEYjnMB38YzHDaw
2024-11-16 11:33:08.414 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:33:08.424 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:08.435 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:08.440 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:33:08.466 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:33:08.467 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:33:08.467 +02:00 [ERR] User not logged in.
2024-11-16 11:33:08.468 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:33:08.468 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 31.6428ms
2024-11-16 11:33:08.469 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:08.470 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 302 0 null 55.8944ms
2024-11-16 11:33:08.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:33:08.486 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:08.487 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:08.821 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:33:08.823 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:33:08.823 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 11:33:08.824 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:33:08.824 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 336.3115ms
2024-11-16 11:33:08.825 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:08.826 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:2b191b2f-1073-98f3-3b20-835adbd30167
2024-11-16 11:33:08.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 343.3479ms
2024-11-16 11:33:08.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:33:08.842 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:08.843 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:08.844 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:33:08.846 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.6641ms
2024-11-16 11:33:08.847 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:08.848 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 11.4957ms
2024-11-16 11:33:08.855 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:33:08.859 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:08.868 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:08.951 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:08.971 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:33:09.010 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:33:09.038 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:09.043 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:09.053 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:09.057 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:33:09.082 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 25.5734ms.
2024-11-16 11:33:09.090 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 221.3095ms
2024-11-16 11:33:09.092 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:09.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 237.542ms
2024-11-16 11:33:09.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:09.199 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1451ms
2024-11-16 11:33:09.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:09.249 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.9603ms
2024-11-16 11:33:11.406 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 11:33:11.415 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:11.418 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:11.421 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:33:11.423 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 11:33:11.433 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 10.8633ms.
2024-11-16 11:33:11.434 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 15.3585ms
2024-11-16 11:33:11.435 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:11.436 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 29.221ms
2024-11-16 11:33:11.478 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:11.479 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:11.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.191ms
2024-11-16 11:33:11.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.0025ms
2024-11-16 11:33:12.587 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:33:12.593 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:12.594 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:12.600 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:33:12.601 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:33:12.604 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 2.8156ms.
2024-11-16 11:33:12.605 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 9.8394ms
2024-11-16 11:33:12.606 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:12.607 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 20.2071ms
2024-11-16 11:33:12.657 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:12.668 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.0723ms
2024-11-16 11:33:12.669 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:12.675 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.0726ms
2024-11-16 11:33:13.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:33:13.543 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:13.545 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:13.552 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:33:13.553 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:33:13.564 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:33:13.570 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:13.614 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:13.645 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:33:13.747 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 11:33:13.774 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 27.2159ms.
2024-11-16 11:33:13.775 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 228.3747ms
2024-11-16 11:33:13.776 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:13.777 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 239.9289ms
2024-11-16 11:33:13.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:13.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:13.839 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6536ms
2024-11-16 11:33:13.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.5522ms
2024-11-16 11:33:23.702 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundaryViOk3NrSO9uwAJB0 809
2024-11-16 11:33:23.708 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:23.720 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:23.724 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:33:23.743 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:33:23.744 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:33:23.749 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:23.825 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:33:23.833 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:33:23.837 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 11:33:23.838 +02:00 [INF] Student details:0
2024-11-16 11:33:23.988 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 11' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T11:33:23.8515752+02:00' (Nullable = true), @p10='20241116-52908' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 11:33:24.007 +02:00 [INF] Query with ID 126 successfully created.
2024-11-16 11:33:24.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 11:33:24.030 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 11:33:24.047 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 11:33:24.084 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='126', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T11:33:24.0505993+02:00' (Nullable = true), @p3='20241116-81526' (Nullable = false) (Size = 4000), @p4='126' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 11:33:24.102 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 11:33:24.108 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 11:33:24.110 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 11:33:24.121 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 11:33:24.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/assets/sounds/nofification.wav - null null
2024-11-16 11:33:24.130 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 11:33:24.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/assets/sounds/nofification.wav - 404 0 null 5.5674ms
2024-11-16 11:33:24.132 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 11:33:24.134 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/assets/sounds/nofification.wav, Response status code: 404
2024-11-16 11:33:24.137 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 11:33:24.827 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 11:33:24.830 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 11:33:24.831 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 11:33:24.833 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 11:33:24.833 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 11:33:24.834 +02:00 [INF] sent notification to  10.
2024-11-16 11:33:24.834 +02:00 [INF] Query submission process completed successfully for QueryID 126.
2024-11-16 11:33:24.836 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:33:24.838 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:24.843 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:24.844 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 11:33:24.844 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 11:33:25.082 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 11:33:25.083 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 11:33:25.084 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 11:33:25.085 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1362.7606ms
2024-11-16 11:33:25.085 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:25.086 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1383.7012ms
2024-11-16 11:33:25.091 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:33:25.093 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:25.094 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:25.097 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:33:25.097 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:33:25.099 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.6402ms.
2024-11-16 11:33:25.100 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 4.8632ms
2024-11-16 11:33:25.100 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:25.101 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 10.2731ms
2024-11-16 11:33:25.133 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:25.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.3074ms
2024-11-16 11:33:25.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:25.151 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2811ms
2024-11-16 11:33:59.697 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 11:33:59.710 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:59.712 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:33:59.717 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:33:59.730 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:33:59.754 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 11:33:59.758 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 11:33:59.776 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 18.8904ms.
2024-11-16 11:33:59.777 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 63.2007ms
2024-11-16 11:33:59.778 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:33:59.779 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 81.9612ms
2024-11-16 11:33:59.791 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: XBRmcBsKEYjnMB38YzHDaw
2024-11-16 11:33:59.792 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: XBRmcBsKEYjnMB38YzHDaw
2024-11-16 11:33:59.793 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:33:59.794 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Q6iwAh7t_kqzugu1t4h1ug - 200 null null 53932.0511ms
2024-11-16 11:33:59.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:33:59.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:33:59.833 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7216ms
2024-11-16 11:33:59.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.408ms
2024-11-16 11:34:08.141 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 11:34:08.359 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 11:34:08.363 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 11:34:08.371 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 11:34:08.376 +02:00 [INF] Hosting environment: Development
2024-11-16 11:34:08.377 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 11:34:08.736 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:34:08.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 11:34:09.384 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:09.384 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:09.397 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:09.397 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:09.420 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:34:09.420 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:34:09.430 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:34:09.431 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:34:09.431 +02:00 [ERR] User not logged in.
2024-11-16 11:34:09.444 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:34:09.450 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 47.7512ms
2024-11-16 11:34:09.454 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:09.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 639.8886ms
2024-11-16 11:34:09.471 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:34:09.479 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:09.486 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:09.537 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 111.0999ms.
2024-11-16 11:34:09.541 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 141.3772ms
2024-11-16 11:34:09.544 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:09.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 813.9243ms
2024-11-16 11:34:09.610 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:09.619 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.5775ms
2024-11-16 11:34:11.108 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 11:34:11.822 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:34:11.914 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 11:34:11.917 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 11:34:11.919 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:34:11.920 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2432.2515ms
2024-11-16 11:34:11.921 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:11.924 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:6fe7eff8-445d-6410-b2be-a3b6a34fe493
2024-11-16 11:34:11.930 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2458.4456ms
2024-11-16 11:34:11.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:34:11.941 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:11.943 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:11.944 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 11:34:11.945 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.5044ms
2024-11-16 11:34:11.947 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:11.948 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.1496ms
2024-11-16 11:34:11.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:34:11.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:11.962 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:12.049 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:12.152 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:34:12.208 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:34:12.410 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:34:12.429 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:12.441 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:12.455 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:12.460 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:34:12.503 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 44.5308ms.
2024-11-16 11:34:12.505 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 541.463ms
2024-11-16 11:34:12.507 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:12.508 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 555.2408ms
2024-11-16 11:34:12.542 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:12.546 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3616ms
2024-11-16 11:34:12.550 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:34:12.577 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:34:12.581 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:34:12.593 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:34:12.594 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 16.619ms
2024-11-16 11:34:12.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.7309ms
2024-11-16 11:34:12.653 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=91qsnuDwBppIr53fCnMdOQ - null null
2024-11-16 11:34:12.657 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:34:12.690 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: nfeGtQ4uQyRJgCedqLlOYQ
2024-11-16 11:34:12.691 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: nfeGtQ4uQyRJgCedqLlOYQ
2024-11-16 11:34:15.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:34:15.040 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:15.053 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:15.059 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:34:15.080 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:34:15.081 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:34:15.082 +02:00 [ERR] User not logged in.
2024-11-16 11:34:15.083 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 11:34:15.084 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 28.9076ms
2024-11-16 11:34:15.085 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:15.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 302 0 null 58.4821ms
2024-11-16 11:34:15.092 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 11:34:15.099 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:15.100 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:15.492 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 11:34:15.495 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 11:34:15.497 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-16 11:34:15.498 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 11:34:15.499 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 397.5731ms
2024-11-16 11:34:15.500 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:15.500 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:141446b2-5fe3-5d08-f9ed-07bfa799e1c3
2024-11-16 11:34:15.502 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 409.1587ms
2024-11-16 11:34:15.508 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 11:34:15.511 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:15.512 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:15.515 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-16 11:34:15.516 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.9632ms
2024-11-16 11:34:15.517 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:15.517 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 9.6442ms
2024-11-16 11:34:15.524 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 11:34:15.527 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:15.533 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:15.560 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:15.576 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 11:34:15.609 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 11:34:15.634 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:15.639 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:15.646 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:15.650 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 11:34:15.675 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 25.3213ms.
2024-11-16 11:34:15.676 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 141.701ms
2024-11-16 11:34:15.677 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:15.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 154.5815ms
2024-11-16 11:34:15.736 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:34:15.736 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:15.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.2802ms
2024-11-16 11:34:15.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.2875ms
2024-11-16 11:34:17.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 11:34:17.727 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:17.731 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:17.736 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:34:17.738 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 11:34:17.753 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 16.0692ms.
2024-11-16 11:34:17.754 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 20.7365ms
2024-11-16 11:34:17.755 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:17.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 38.7466ms
2024-11-16 11:34:17.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:17.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:34:17.837 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.4057ms
2024-11-16 11:34:17.850 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.5731ms
2024-11-16 11:34:19.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:34:19.963 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:19.964 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:19.967 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:34:19.967 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:34:19.969 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.7175ms.
2024-11-16 11:34:19.970 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 4.7459ms
2024-11-16 11:34:19.971 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:19.973 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 16.1063ms
2024-11-16 11:34:20.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:34:20.022 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:20.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1595ms
2024-11-16 11:34:20.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.0509ms
2024-11-16 11:34:21.174 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - null null
2024-11-16 11:34:21.180 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:21.181 +02:00 [INF] Route matched with {action = "AcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcademicQuery(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:21.184 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:34:21.186 +02:00 [INF] AcademicQuery called with queryTypeId: 1
2024-11-16 11:34:21.191 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:34:21.197 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:21.222 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:21.238 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:34:21.294 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/AcademicQuery.
2024-11-16 11:34:21.311 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/AcademicQuery executed in 16.9551ms.
2024-11-16 11:34:21.313 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp) in 130.899ms
2024-11-16 11:34:21.314 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.AcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:21.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/AcademicQuery?queryTypeId=1 - 200 null text/html; charset=utf-8 141.0272ms
2024-11-16 11:34:21.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:21.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:34:21.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1493ms
2024-11-16 11:34:21.370 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7767ms
2024-11-16 11:34:28.734 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - multipart/form-data; boundary=----WebKitFormBoundary2p23VoWdmilNqB1w 809
2024-11-16 11:34:28.742 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:28.759 +02:00 [INF] Route matched with {action = "SubmitAcademicQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitAcademicQuery(QueryDto, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:28.763 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:34:28.788 +02:00 [INF] Query submission process started for FirebaseUID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:34:28.789 +02:00 [INF] GetAcademicQuery called with queryTypeId: 1
2024-11-16 11:34:28.793 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:28.803 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [c].[CourseCode], [d].[DepartmentName] AS [Department], [d].[DepartmentID], [c].[CourseID], [s].[Year]
FROM [StudentDetails] AS [s]
LEFT JOIN [Departments] AS [d] ON [s].[Department] = [d].[DepartmentName]
LEFT JOIN [Courses] AS [c] ON [s].[Course] = [c].[CourseCode]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:28.808 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__queryTypeId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryTypeID], [t].[TypeName], [q0].[CategoryID], [q0].[CategoryName], [q0].[QueryTypeID]
FROM (
    SELECT TOP(1) [q].[QueryTypeID], [q].[TypeName]
    FROM [QueryTypes] AS [q]
    WHERE [q].[QueryTypeID] = @__queryTypeId_0
) AS [t]
LEFT JOIN [QueryCategories] AS [q0] ON [t].[QueryTypeID] = [q0].[QueryTypeID]
ORDER BY [t].[QueryTypeID]
2024-11-16 11:34:28.811 +02:00 [INF] Received QueryTypeID: 1, CategoryID: 1
2024-11-16 11:34:28.812 +02:00 [INF] Student details:0
2024-11-16 11:34:28.937 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='1' (Nullable = true), @p1='5' (Nullable = true), @p2='6' (Nullable = true), @p3='test 12' (Size = 150), @p4=NULL (DbType = Int32), @p5='1' (Nullable = true), @p6=NULL (DbType = DateTime2), @p7='Pending' (Nullable = false) (Size = 4000), @p8='30', @p9='2024-11-16T11:34:28.8255116+02:00' (Nullable = true), @p10='20241116-62781' (Nullable = false) (Size = 20), @p11='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Queries] ([CategoryID], [CourseID], [DepartmentID], [Description], [ModuleID], [QueryTypeID], [ResolvedDate], [Status], [StudentID], [SubmissionDate], [TicketNumber], [Year])
OUTPUT INSERTED.[QueryID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-16 11:34:28.964 +02:00 [INF] Query with ID 127 successfully created.
2024-11-16 11:34:28.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_DepartmentID_0='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__query_DepartmentID_0
2024-11-16 11:34:28.986 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__departmentName_0='School of Law' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__departmentName_0 AND [p].[PositionName] = N'Lecturer'
2024-11-16 11:34:29.003 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__s_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__s_StaffID_0 AND [q].[ResolutionDate] IS NULL
2024-11-16 11:34:29.043 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='127', @p0='Ongoing' (Nullable = false) (Size = 4000), @p2='2024-11-16T11:34:29.0060615+02:00' (Nullable = true), @p3='20241116-31106' (Nullable = false) (Size = 4000), @p4='127' (Nullable = true), @p5=NULL (DbType = DateTime2), @p6='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [Status] = @p0
OUTPUT 1
WHERE [QueryID] = @p1;
INSERT INTO [QueryAssignments] ([AssignedDate], [AssignmentNumber], [QueryID], [ResolutionDate], [StaffID])
OUTPUT INSERTED.[AssignmentID]
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-11-16 11:34:29.062 +02:00 [INF] Query assigned to Lecturer with StaffID 10.
2024-11-16 11:34:29.071 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StaffID: 10
2024-11-16 11:34:29.074 +02:00 [INF] SendQuerySubmissionNotificationEmailStaff with staffId: 10
2024-11-16 11:34:29.090 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/assets/sounds/nofification.wav - null null
2024-11-16 11:34:29.093 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__staffId_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StaffDetails] AS [s]
WHERE [s].[StaffID] = @__staffId_0
2024-11-16 11:34:29.100 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/assets/sounds/nofification.wav - 404 0 null 9.623ms
2024-11-16 11:34:29.103 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/assets/sounds/nofification.wav, Response status code: 404
2024-11-16 11:34:29.108 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-16 11:34:29.111 +02:00 [INF] This is the email you require trentfisher16@gmail.com
2024-11-16 11:34:29.115 +02:00 [INF] Attempting to send template email to trentfisher16@gmail.com with template ID 2
2024-11-16 11:34:29.871 +02:00 [INF] Template email sent successfully to trentfisher16@gmail.com with template ID 2
2024-11-16 11:34:29.873 +02:00 [INF] Notification email sent to user trentfisher16@gmail.com
2024-11-16 11:34:29.874 +02:00 [INF] sending email to  { leastBusyLecturer.StaffID}.
2024-11-16 11:34:29.875 +02:00 [INF] Attempting to send notification to staff ID: 10
2024-11-16 11:34:29.878 +02:00 [INF] Notification sent successfully to staff ID: 10
2024-11-16 11:34:29.879 +02:00 [INF] sent notification to  10.
2024-11-16 11:34:29.880 +02:00 [INF] Query submission process completed successfully for QueryID 127.
2024-11-16 11:34:29.884 +02:00 [INF] GetStudentEmailAsync called with firebaseUid: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 11:34:29.888 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:29.892 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:29.894 +02:00 [INF] This is the email you require trentfisher017@gmail.com
2024-11-16 11:34:29.898 +02:00 [INF] Attempting to send template email to trentfisher017@gmail.com with template ID 1
2024-11-16 11:34:30.146 +02:00 [INF] Template email sent successfully to trentfisher017@gmail.com with template ID 1
2024-11-16 11:34:30.147 +02:00 [INF] Notification email sent to user trentfisher017@gmail.com
2024-11-16 11:34:30.148 +02:00 [INF] Executing RedirectResult, redirecting to /Query/CreateQuery.
2024-11-16 11:34:30.148 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp) in 1387.9843ms
2024-11-16 11:34:30.149 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitAcademicQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:30.150 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitAcademicQuery - 302 0 null 1416.2422ms
2024-11-16 11:34:30.156 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 11:34:30.159 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:30.160 +02:00 [INF] Route matched with {action = "CreateQuery", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuery() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:30.163 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 11:34:30.163 +02:00 [INF] Executing ViewResult, running view StudentQuery/NewQuery/CreateQuery.
2024-11-16 11:34:30.165 +02:00 [INF] Executed ViewResult - view StudentQuery/NewQuery/CreateQuery executed in 1.7951ms.
2024-11-16 11:34:30.165 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp) in 4.5941ms
2024-11-16 11:34:30.166 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.CreateQuery (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:30.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 200 null text/html; charset=utf-8 11.188ms
2024-11-16 11:34:30.201 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:34:30.204 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:30.207 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1963ms
2024-11-16 11:34:30.209 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.9855ms
2024-11-16 11:34:36.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:34:36.429 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:36.431 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:36.440 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:36.450 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:34:36.460 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:34:37.220 +02:00 [INF] Executed DbCommand (755ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:34:37.228 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:37.232 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:37.236 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:37.237 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:34:37.239 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.1499ms.
2024-11-16 11:34:37.240 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 808.5848ms
2024-11-16 11:34:37.241 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:37.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 817.7065ms
2024-11-16 11:34:37.261 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: nfeGtQ4uQyRJgCedqLlOYQ
2024-11-16 11:34:37.262 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: nfeGtQ4uQyRJgCedqLlOYQ
2024-11-16 11:34:37.269 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:34:37.271 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=91qsnuDwBppIr53fCnMdOQ - 200 null null 24617.225ms
2024-11-16 11:34:37.272 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 11:34:37.272 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 11:34:37.282 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 11:34:37.282 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 11:34:37.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 11:34:37.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 11:34:37.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 11:34:37.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 11:34:37.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 11:34:37.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 11:34:37.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 11:34:37.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:37.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 11:34:37.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 11:34:37.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 11:34:37.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 11:34:37.311 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 11:34:37.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 11:34:37.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-16 11:34:37.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 11:34:37.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-16 11:34:37.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-16 11:34:37.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-16 11:34:37.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:34:37.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-16 11:34:37.293 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 11:34:37.293 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 11:34:37.293 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 11:34:37.293 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 11:34:37.295 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 11:34:37.296 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 11:34:37.299 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 11:34:37.300 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 11:34:37.301 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 11:34:37.303 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 11:34:37.304 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.6491ms
2024-11-16 11:34:37.304 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 11:34:37.310 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 11:34:37.311 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 11:34:37.313 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 11:34:37.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 24.1941ms
2024-11-16 11:34:37.319 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 11:34:37.320 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-16 11:34:37.321 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 11:34:37.324 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-16 11:34:37.324 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-16 11:34:37.325 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-16 11:34:37.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 46.2592ms
2024-11-16 11:34:37.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.0714ms
2024-11-16 11:34:37.329 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-16 11:34:37.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 45.837ms
2024-11-16 11:34:37.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 48.3154ms
2024-11-16 11:34:37.331 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 59.1971ms
2024-11-16 11:34:37.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 47.5289ms
2024-11-16 11:34:37.333 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 60.8543ms
2024-11-16 11:34:37.334 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 49.3736ms
2024-11-16 11:34:37.335 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 48.9119ms
2024-11-16 11:34:37.336 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 49.1241ms
2024-11-16 11:34:37.337 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 49.169ms
2024-11-16 11:34:37.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 51.6262ms
2024-11-16 11:34:37.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 50.9712ms
2024-11-16 11:34:37.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 51.0073ms
2024-11-16 11:34:37.341 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 50.9401ms
2024-11-16 11:34:37.345 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 53.9748ms
2024-11-16 11:34:37.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 54.9037ms
2024-11-16 11:34:37.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 55.566ms
2024-11-16 11:34:37.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 56.8092ms
2024-11-16 11:34:37.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 57.6839ms
2024-11-16 11:34:37.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 58.7271ms
2024-11-16 11:34:37.354 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 62.1701ms
2024-11-16 11:34:37.363 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 11:34:37.380 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 11:34:37.381 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 17.7264ms
2024-11-16 11:34:37.398 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:34:37.401 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:34:37.402 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:34:37.402 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 11:34:37.403 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 4.463ms
2024-11-16 11:34:37.407 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 11:34:37.408 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 5.3331ms
2024-11-16 11:34:37.445 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=8FYhsltwauzb3f5mgvtEzw - null null
2024-11-16 11:34:37.463 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:34:37.498 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: IlaaTx_CT85-QdCUe37qaQ
2024-11-16 11:34:37.500 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: IlaaTx_CT85-QdCUe37qaQ
2024-11-16 11:34:37.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 11:34:37.525 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 11:34:37.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 6.5357ms
2024-11-16 11:34:38.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 11:34:38.383 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:38.385 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 11:34:38.391 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:38.401 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 11:34:38.413 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 11:34:38.489 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 11:34:38.497 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 11:34:38.504 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:38.510 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 11:34:38.514 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 11:34:38.516 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 1.9022ms.
2024-11-16 11:34:38.518 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 131.4907ms
2024-11-16 11:34:38.519 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 11:34:38.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 142.8139ms
2024-11-16 11:34:38.524 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: IlaaTx_CT85-QdCUe37qaQ
2024-11-16 11:34:38.525 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: IlaaTx_CT85-QdCUe37qaQ
2024-11-16 11:34:38.526 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:34:38.527 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=8FYhsltwauzb3f5mgvtEzw - 200 null null 1081.254ms
2024-11-16 11:34:38.540 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 11:34:38.544 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 11:34:38.546 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 6.1256ms
2024-11-16 11:34:38.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 11:34:38.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 11:34:38.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 11:34:38.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 11:34:38.555 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 11:34:38.552 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 11:34:38.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 11:34:38.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 11:34:38.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-16 11:34:38.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-16 11:34:38.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-16 11:34:38.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-16 11:34:38.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-16 11:34:38.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 11:34:38.553 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 11:34:38.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 11:34:38.556 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 11:34:38.556 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 7.7081ms
2024-11-16 11:34:38.559 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 11:34:38.562 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 11:34:38.563 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 11:34:38.565 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 11:34:38.566 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 11:34:38.567 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.4735ms
2024-11-16 11:34:38.570 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 11:34:38.572 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 11:34:38.573 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 11:34:38.574 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 25.3533ms
2024-11-16 11:34:38.574 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 11:34:38.576 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 11:34:38.578 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 11:34:38.579 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-16 11:34:38.581 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-16 11:34:38.583 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-16 11:34:38.583 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-16 11:34:38.585 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-16 11:34:38.586 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 37.1926ms
2024-11-16 11:34:38.588 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.1759ms
2024-11-16 11:34:38.588 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 39.4249ms
2024-11-16 11:34:38.589 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 11:34:38.590 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 11:34:38.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 39.8257ms
2024-11-16 11:34:38.592 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 40.4787ms
2024-11-16 11:34:38.593 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 41.7938ms
2024-11-16 11:34:38.593 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 42.2749ms
2024-11-16 11:34:38.594 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 43.098ms
2024-11-16 11:34:38.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 46.9002ms
2024-11-16 11:34:38.599 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 47.7128ms
2024-11-16 11:34:38.600 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 48.4295ms
2024-11-16 11:34:38.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 50.8332ms
2024-11-16 11:34:38.603 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 50.7237ms
2024-11-16 11:34:38.604 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 51.2101ms
2024-11-16 11:34:38.605 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 51.8842ms
2024-11-16 11:34:38.605 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 52.6752ms
2024-11-16 11:34:38.606 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 53.4152ms
2024-11-16 11:34:38.607 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 54.174ms
2024-11-16 11:34:38.608 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 55.0431ms
2024-11-16 11:34:38.613 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 62.0529ms
2024-11-16 11:34:38.615 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 11:34:38.634 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 44.6052ms
2024-11-16 11:34:38.648 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 11:34:38.650 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 11:34:38.651 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 11:34:38.652 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 3.8817ms
2024-11-16 11:34:38.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 11:34:38.659 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 11:34:38.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 7.8974ms
2024-11-16 11:34:38.691 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=HCZwGKkyGMgKH-ek4hwZ6g - null null
2024-11-16 11:34:38.694 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 11:34:38.729 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: u_iUtQINSth1BmZNe0g5YQ
2024-11-16 11:34:38.731 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: u_iUtQINSth1BmZNe0g5YQ
2024-11-16 11:34:38.746 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 11:34:38.750 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 11:34:38.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 5.5355ms
2024-11-16 11:59:26.455 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: u_iUtQINSth1BmZNe0g5YQ
2024-11-16 11:59:26.472 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: u_iUtQINSth1BmZNe0g5YQ
2024-11-16 11:59:26.488 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 11:59:26.508 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=HCZwGKkyGMgKH-ek4hwZ6g - 200 null null 1487809.4122ms
2024-11-16 12:13:54.859 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:13:55.001 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751556. Expected to be greater than 1731752034.
2024-11-16 12:13:55.013 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Staff)
2024-11-16 12:13:55.019 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 12:13:55.020 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 401 0 null 160.9196ms
2024-11-16 12:15:59.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:15:59.605 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751556. Expected to be greater than 1731752159.
2024-11-16 12:15:59.609 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751556. Expected to be greater than 1731752159.
2024-11-16 12:15:59.616 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:15:59.632 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:15:59.645 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731751556. Expected to be greater than 1731752159.
2024-11-16 12:15:59.665 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 12:15:59.722 +02:00 [INF] Executed ViewResult - view Login executed in 72.7059ms.
2024-11-16 12:15:59.722 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 88.5399ms
2024-11-16 12:15:59.723 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:15:59.724 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 174.4206ms
2024-11-16 12:15:59.757 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:15:59.761 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.9764ms
2024-11-16 12:15:59.761 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:15:59.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.7994ms
2024-11-16 12:16:07.632 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 236
2024-11-16 12:16:07.639 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751556. Expected to be greater than 1731752167.
2024-11-16 12:16:07.641 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751556. Expected to be greater than 1731752167.
2024-11-16 12:16:07.642 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:07.702 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:16:07.751 +02:00 [INF] Attempting to log in user with email: trentfisher16@gmail.com
2024-11-16 12:16:07.805 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 12:16:07.812 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 12:16:08.383 +02:00 [INF] Received HTTP response headers after 565.3708ms - 200
2024-11-16 12:16:08.385 +02:00 [INF] End processing HTTP request after 584.0446ms - 200
2024-11-16 12:16:08.388 +02:00 [INF] User logged in successfully.
2024-11-16 12:16:09.009 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:16:09.053 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p1='45', @p0='2024-11-16T10:16:09.0184317Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 12:16:09.073 +02:00 [INF] User trentfisher16@gmail.com logged in successfully.
2024-11-16 12:16:09.075 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:16:09.076 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1372.3968ms
2024-11-16 12:16:09.077 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:09.079 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 1446.8305ms
2024-11-16 12:16:09.084 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:16:09.090 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:09.091 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:16:09.114 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:16:09.152 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:16:09.172 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:16:09.236 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:16:09.243 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:16:09.256 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:16:09.261 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:16:09.263 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:16:09.270 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 7.609ms.
2024-11-16 12:16:09.271 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 178.0241ms
2024-11-16 12:16:09.272 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:09.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 188.645ms
2024-11-16 12:16:09.316 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:16:09.319 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 12:16:09.320 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3129ms
2024-11-16 12:16:09.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:16:09.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.4269ms
2024-11-16 12:16:09.342 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-16 12:16:09.344 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 24.2384ms
2024-11-16 12:16:09.424 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:16:09.425 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:16:09.430 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:16:09.431 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 7.4645ms
2024-11-16 12:16:09.473 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=rtWRMlnoYBT4bKVGLJcrmQ - null null
2024-11-16 12:16:09.476 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:16:09.510 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: FZePiYBIYsRTid7opdNzYg
2024-11-16 12:16:09.513 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: FZePiYBIYsRTid7opdNzYg
2024-11-16 12:16:19.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/CreateQuery - null null
2024-11-16 12:16:19.733 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751608. Expected to be greater than 1731752179.
2024-11-16 12:16:19.734 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 12:16:19.736 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 12:16:19.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/CreateQuery - 401 0 null 12.6041ms
2024-11-16 12:16:23.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:16:23.194 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751608. Expected to be greater than 1731752183.
2024-11-16 12:16:23.195 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751608. Expected to be greater than 1731752183.
2024-11-16 12:16:23.195 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:23.196 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:16:23.199 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731751608. Expected to be greater than 1731752183.
2024-11-16 12:16:23.200 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 12:16:23.205 +02:00 [INF] Executed ViewResult - view Login executed in 5.6569ms.
2024-11-16 12:16:23.206 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 8.1426ms
2024-11-16 12:16:23.208 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:23.209 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 20.8858ms
2024-11-16 12:16:23.276 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:16:23.278 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7975ms
2024-11-16 12:16:23.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:16:23.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.4148ms
2024-11-16 12:16:34.700 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/GoogleLogin - application/json 1191
2024-11-16 12:16:34.705 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751608. Expected to be greater than 1731752194.
2024-11-16 12:16:34.706 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731751608. Expected to be greater than 1731752194.
2024-11-16 12:16:34.710 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:34.729 +02:00 [INF] Route matched with {action = "GoogleLogin", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(GoogleLoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:16:34.771 +02:00 [INF] GoogleLogin attempt initiated
2024-11-16 12:16:34.772 +02:00 [INF] here is your token grump eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlNTIxYmY1ZjdhNDAwOGMzYmQ3MjFmMzk2OTcwOWI1MzY0MzA5NjEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVHJlbnQgRmlzaGVyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lfMG11MTRncWZqLW4zMDZsZUlEZ2JmZk83bHByOWQyUUlUd2h2OVdLanZCaXdMcDh3PXM5Ni1jIiwicm9sZSI6IlN0dWRlbnQiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vdXFtcy1hM2Q4NyIsImF1ZCI6InVxbXMtYTNkODciLCJhdXRoX3RpbWUiOjE3MzE3NTIxOTQsInVzZXJfaWQiOiJjc3VzVXRJWkMzY1Z0cW5UOW1xRjNlN0pnbDIzIiwic3ViIjoiY3N1c1V0SVpDM2NWdHFuVDltcUYzZTdKZ2wyMyIsImlhdCI6MTczMTc1MjE5NCwiZXhwIjoxNzMxNzU1Nzk0LCJlbWFpbCI6InRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE4MDQwODkyMzQ5OTA3NzczODcyIl0sImVtYWlsIjpbInRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.DRIraRwvVJ9vBus3DmX6yDRxTGTiyg1jSpC2Fis9tgZm5_QpDUQnb1Db7-3kdlLvCKk8Ru_KuT5TdvZIjHvNyo7YRDi24p2vJXA6p55PQ1JmuwVsKY4tWI0iU_gmWXIiRZlUgeiQOH91c43OQS5a9-c_FlB9OQdAr3uQC4SfXyI5gKQ1aG2ChtW_pCNjXrUcP-YgRMtbTkHomaIiBmNsTyVUv9IY8PE07GfJRlaF9n4R4I0iRUdcatVbTMWp57NCv0GyVEOjyxqqkAzSrapzF8NsuHPJ75kBuEBPfUCvlxh2MqNKNAFhvrpCxbtbUaOIXocit5M43NXUsvxbxwk25Q
2024-11-16 12:16:34.772 +02:00 [INF] Verifying Firebase ID token.
2024-11-16 12:16:34.774 +02:00 [INF] Firebase ID token verified successfully for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 12:16:34.775 +02:00 [INF] Retrieving user information for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-16 12:16:35.083 +02:00 [INF] User information retrieved successfully. Email: trentfisher017@gmail.com, Display Name: Trent Fisher
2024-11-16 12:16:35.122 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__uid_0
2024-11-16 12:16:35.129 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='46', @p0='2024-11-16T10:16:35.1241828Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 12:16:35.132 +02:00 [INF] Accessing expired session, Key:84310605-81c9-62a9-5bdc-0648e09af279
2024-11-16 12:16:35.133 +02:00 [INF] GoogleLogin successful for user trentfisher017@gmail.com with role Student
2024-11-16 12:16:35.136 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 12:16:35.141 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp) in 407.789ms
2024-11-16 12:16:35.142 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:35.142 +02:00 [INF] Session started; Key:84310605-81c9-62a9-5bdc-0648e09af279, Id:d9b4d7c8-427a-f51d-5a1c-a5571e46d171
2024-11-16 12:16:35.145 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/GoogleLogin - 200 null application/json; charset=utf-8 445.1225ms
2024-11-16 12:16:35.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-16 12:16:35.171 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:35.172 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:16:35.184 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:16:35.192 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-16 12:16:35.209 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-16 12:16:35.218 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:16:35.221 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:16:35.233 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:16:35.236 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-16 12:16:35.241 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 6.29ms.
2024-11-16 12:16:35.242 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 67.7886ms
2024-11-16 12:16:35.243 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:16:35.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 78.21ms
2024-11-16 12:16:35.305 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:16:35.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2189ms
2024-11-16 12:16:35.309 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:16:35.318 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.1226ms
2024-11-16 12:27:28.193 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:27:28.255 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:27:28.259 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:27:28.281 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:27:28.385 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:27:28.434 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 12:27:28.448 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 12:27:28.487 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 42.3526ms.
2024-11-16 12:27:28.488 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 228.0248ms
2024-11-16 12:27:28.489 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:27:28.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 297.7072ms
2024-11-16 12:27:28.514 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: FZePiYBIYsRTid7opdNzYg
2024-11-16 12:27:28.515 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: FZePiYBIYsRTid7opdNzYg
2024-11-16 12:27:28.516 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:27:28.517 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=rtWRMlnoYBT4bKVGLJcrmQ - 200 null null 679051.441ms
2024-11-16 12:27:28.541 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:27:28.542 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:27:28.545 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.802ms
2024-11-16 12:27:28.555 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.0702ms
2024-11-16 12:31:58.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 12:31:58.963 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:31:58.980 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:31:59.031 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:31:59.058 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 12:31:59.123 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 82.4233ms.
2024-11-16 12:31:59.126 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 143.1504ms
2024-11-16 12:31:59.130 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:31:59.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 349.9904ms
2024-11-16 12:31:59.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:31:59.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:31:59.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 29.2755ms
2024-11-16 12:31:59.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.8037ms
2024-11-16 12:37:15.415 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:37:15.566 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:37:15.567 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:37:15.570 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:37:15.570 +02:00 [INF] Hosting environment: Development
2024-11-16 12:37:15.571 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:37:16.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 12:37:16.645 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:16.660 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:37:16.685 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:37:16.696 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 12:37:16.827 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 133.5103ms.
2024-11-16 12:37:16.834 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 172.0954ms
2024-11-16 12:37:16.836 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:16.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 781.5886ms
2024-11-16 12:37:17.009 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:37:17.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.1292ms
2024-11-16 12:37:17.047 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:37:17.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.458ms
2024-11-16 12:37:18.281 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:37:18.302 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:18.305 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:37:18.319 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:37:18.321 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 14.7451ms
2024-11-16 12:37:18.322 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:18.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 43.7936ms
2024-11-16 12:37:18.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:37:18.387 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:18.392 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:37:18.400 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:37:18.401 +02:00 [ERR] User not logged in.
2024-11-16 12:37:18.402 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:37:18.403 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 10.1437ms
2024-11-16 12:37:18.404 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:18.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 24.755ms
2024-11-16 12:37:18.412 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:37:18.416 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:18.419 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:37:19.055 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 12:37:19.062 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:19.063 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:37:19.066 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:37:19.067 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-16 12:37:19.072 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 4.7129ms.
2024-11-16 12:37:19.074 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 9.4612ms
2024-11-16 12:37:19.075 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:19.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 21.5503ms
2024-11-16 12:37:19.106 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:37:19.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0086ms
2024-11-16 12:37:19.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:37:19.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.727ms
2024-11-16 12:37:19.820 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:37:20.356 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:37:20.419 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:37:20.421 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:37:20.423 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:37:20.424 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2003.8847ms
2024-11-16 12:37:20.424 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:20.427 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:292c81d6-4ff8-8c6b-ffef-69c76023b274
2024-11-16 12:37:20.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:37:20.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2020.51ms
2024-11-16 12:37:20.436 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:20.437 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:37:20.440 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:37:20.440 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.4449ms
2024-11-16 12:37:20.441 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:20.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 9.6572ms
2024-11-16 12:37:20.448 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:37:20.452 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:20.452 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:37:20.586 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:37:20.692 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:37:20.773 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:37:20.933 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:37:20.950 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:37:20.958 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:37:20.969 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:37:20.972 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:37:20.999 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 28.3352ms.
2024-11-16 12:37:21.001 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 547.1849ms
2024-11-16 12:37:21.001 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:21.002 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 554.7495ms
2024-11-16 12:37:21.073 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:37:21.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9509ms
2024-11-16 12:37:21.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:37:21.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 12:37:21.096 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.0008ms
2024-11-16 12:37:21.100 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-16 12:37:21.106 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 27.2566ms
2024-11-16 12:37:21.257 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:37:21.259 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:37:21.266 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:37:21.267 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 9.8443ms
2024-11-16 12:37:21.312 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=rMB1uX-Nj-0IVXXbmxuJoA - null null
2024-11-16 12:37:21.315 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:37:21.501 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: XziN9bNR0Bv4HdB51-ZXjg
2024-11-16 12:37:21.503 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: XziN9bNR0Bv4HdB51-ZXjg
2024-11-16 12:37:22.931 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:37:22.935 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:22.938 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:37:22.941 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:37:22.943 +02:00 [INF] Executing ViewResult, running view StaffQuery/TicketDashboard.
2024-11-16 12:37:22.944 +02:00 [ERR] The view 'StaffQuery/TicketDashboard' was not found. Searched locations: ["/Views/StaffQuery/StaffQuery/TicketDashboard.cshtml","/Views/Shared/StaffQuery/TicketDashboard.cshtml"]
2024-11-16 12:37:22.948 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 9.3732ms
2024-11-16 12:37:22.949 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:37:22.950 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'StaffQuery/TicketDashboard' was not found. The following locations were searched:
/Views/StaffQuery/StaffQuery/TicketDashboard.cshtml
/Views/Shared/StaffQuery/TicketDashboard.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 12:37:23.009 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 500 null text/html; charset=utf-8 77.7603ms
2024-11-16 12:37:23.023 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: XziN9bNR0Bv4HdB51-ZXjg
2024-11-16 12:37:23.025 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: XziN9bNR0Bv4HdB51-ZXjg
2024-11-16 12:37:23.029 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:37:23.030 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=rMB1uX-Nj-0IVXXbmxuJoA - 200 null null 1717.8892ms
2024-11-16 12:37:23.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:37:23.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:37:23.043 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3017ms
2024-11-16 12:37:23.046 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.1131ms
2024-11-16 12:38:09.894 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:38:10.028 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:38:10.029 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:38:10.033 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:38:10.033 +02:00 [INF] Hosting environment: Development
2024-11-16 12:38:10.034 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:38:10.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:38:11.096 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:38:11.111 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:38:11.139 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:38:11.153 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:38:11.300 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 148.4584ms.
2024-11-16 12:38:11.311 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 197.6265ms
2024-11-16 12:38:11.315 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:38:11.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 902.4139ms
2024-11-16 12:38:11.353 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:38:11.353 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:38:11.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 22.9005ms
2024-11-16 12:38:11.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.1709ms
2024-11-16 12:41:21.824 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:41:21.955 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:41:21.956 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:41:21.959 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:41:21.959 +02:00 [INF] Hosting environment: Development
2024-11-16 12:41:21.960 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:41:22.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:41:23.047 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:23.059 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:41:24.763 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:41:25.322 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:41:25.397 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:41:25.401 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:41:25.414 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:41:25.419 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2355.2762ms
2024-11-16 12:41:25.421 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:25.425 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:1c779863-bd96-464f-aa7c-632286d694d6
2024-11-16 12:41:25.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2929.3866ms
2024-11-16 12:41:25.437 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:41:25.451 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:25.454 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:41:25.456 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:41:25.457 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.4604ms
2024-11-16 12:41:25.458 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:25.458 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 21.0038ms
2024-11-16 12:41:25.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:41:25.471 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:25.474 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:41:25.558 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:41:25.643 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:41:25.694 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:41:25.873 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:41:25.894 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:41:25.903 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:41:25.913 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:41:25.920 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:41:26.010 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 93.818ms.
2024-11-16 12:41:26.013 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 537.5648ms
2024-11-16 12:41:26.014 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:26.018 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 554.8826ms
2024-11-16 12:41:26.053 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:41:26.056 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:41:26.066 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.8555ms
2024-11-16 12:41:26.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.9012ms
2024-11-16 12:41:26.148 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:41:26.156 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:41:26.168 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:41:26.169 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 20.8207ms
2024-11-16 12:41:26.273 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=VLBFGO_XIMrfjATNCs8-Wg - null null
2024-11-16 12:41:26.278 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:41:26.436 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: j7ugf8Kcbl8BCL2rq1BV7g
2024-11-16 12:41:26.439 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: j7ugf8Kcbl8BCL2rq1BV7g
2024-11-16 12:41:28.817 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:41:28.824 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:28.827 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:41:28.850 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:41:28.858 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:41:28.878 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 21.2074ms.
2024-11-16 12:41:28.879 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 50.3403ms
2024-11-16 12:41:28.883 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:28.885 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 67.4171ms
2024-11-16 12:41:28.903 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: j7ugf8Kcbl8BCL2rq1BV7g
2024-11-16 12:41:28.905 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: j7ugf8Kcbl8BCL2rq1BV7g
2024-11-16 12:41:28.910 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:41:28.911 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=VLBFGO_XIMrfjATNCs8-Wg - 200 null null 2638.3355ms
2024-11-16 12:41:28.912 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:41:28.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:41:28.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3897ms
2024-11-16 12:41:28.928 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.3117ms
2024-11-16 12:41:29.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:41:29.950 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 12.3263ms
2024-11-16 12:41:29.953 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:41:31.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:41:31.930 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:31.932 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:41:31.935 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:41:31.936 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:41:31.938 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.3403ms.
2024-11-16 12:41:31.939 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.1111ms
2024-11-16 12:41:31.940 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:31.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 17.0013ms
2024-11-16 12:41:32.009 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:41:32.012 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5052ms
2024-11-16 12:41:33.048 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/CreateQuery - null null
2024-11-16 12:41:33.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/CreateQuery - 404 0 null 6.9465ms
2024-11-16 12:41:33.058 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/CreateQuery, Response status code: 404
2024-11-16 12:41:33.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:41:33.983 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:33.984 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:41:33.989 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:41:33.991 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:41:33.993 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.0103ms.
2024-11-16 12:41:33.994 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.6269ms
2024-11-16 12:41:33.995 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:33.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 17.3883ms
2024-11-16 12:41:34.022 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:41:34.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.868ms
2024-11-16 12:41:34.759 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - null null
2024-11-16 12:41:34.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - 404 0 null 5.526ms
2024-11-16 12:41:34.766 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/ViewFeedback, Response status code: 404
2024-11-16 12:41:35.816 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:41:35.823 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:35.823 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:41:35.827 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:41:35.828 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:41:35.829 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.6511ms.
2024-11-16 12:41:35.830 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.6044ms
2024-11-16 12:41:35.832 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:35.834 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 17.4576ms
2024-11-16 12:41:35.923 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:41:35.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.129ms
2024-11-16 12:41:36.760 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/CreateQuery - null null
2024-11-16 12:41:36.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/CreateQuery - 404 0 null 3.3559ms
2024-11-16 12:41:36.767 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/CreateQuery, Response status code: 404
2024-11-16 12:41:39.210 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:41:39.215 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:39.216 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:41:39.219 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:41:39.220 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:41:39.221 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.4957ms.
2024-11-16 12:41:39.222 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.9104ms
2024-11-16 12:41:39.223 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:41:39.223 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 12.8906ms
2024-11-16 12:41:39.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:41:39.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7605ms
2024-11-16 12:42:03.860 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:42:03.867 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 7.2942ms
2024-11-16 12:42:03.870 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:43:13.143 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:43:13.302 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:43:13.304 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:43:13.308 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:43:13.310 +02:00 [INF] Hosting environment: Development
2024-11-16 12:43:13.312 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:43:14.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:43:16.076 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:16.099 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:17.650 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:43:18.577 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:43:18.672 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:43:18.674 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:43:18.693 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:43:18.699 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2595.9925ms
2024-11-16 12:43:18.704 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:18.708 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:b5ec9837-f1f6-7d46-0e43-11a6e5f45886
2024-11-16 12:43:18.720 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 4571.8691ms
2024-11-16 12:43:18.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:43:18.744 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:18.749 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:18.753 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:43:18.756 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 5.2385ms
2024-11-16 12:43:18.757 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:18.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 35.2891ms
2024-11-16 12:43:18.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:43:18.781 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:18.786 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:18.905 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:43:19.034 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:43:19.095 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:43:19.319 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:43:19.357 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:43:19.370 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:43:19.392 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:43:19.404 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:43:19.521 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 122.5677ms.
2024-11-16 12:43:19.523 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 734.6239ms
2024-11-16 12:43:19.525 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:19.529 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 762.055ms
2024-11-16 12:43:19.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:43:19.584 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:43:19.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.2369ms
2024-11-16 12:43:19.624 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.3587ms
2024-11-16 12:43:19.752 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:43:19.756 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:43:19.765 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:43:19.766 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 13.3743ms
2024-11-16 12:43:19.810 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=UGIy_4j7-VOzSqGuwNTp8g - null null
2024-11-16 12:43:19.813 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:43:20.111 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: 4LlP7OU68ydms2uY-jGVtQ
2024-11-16 12:43:20.114 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: 4LlP7OU68ydms2uY-jGVtQ
2024-11-16 12:43:21.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:43:21.238 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:21.241 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:21.274 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:43:21.277 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:43:21.300 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 24.202ms.
2024-11-16 12:43:21.302 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 58.5883ms
2024-11-16 12:43:21.303 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:21.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 72.5758ms
2024-11-16 12:43:21.328 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: 4LlP7OU68ydms2uY-jGVtQ
2024-11-16 12:43:21.330 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: 4LlP7OU68ydms2uY-jGVtQ
2024-11-16 12:43:21.339 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:43:21.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:43:21.341 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:43:21.341 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=UGIy_4j7-VOzSqGuwNTp8g - 200 null null 1531.2457ms
2024-11-16 12:43:21.344 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.4604ms
2024-11-16 12:43:21.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.2269ms
2024-11-16 12:43:22.065 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:43:22.073 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 8.3114ms
2024-11-16 12:43:22.076 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:43:43.955 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:43:43.965 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:43.966 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:43.969 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:43:43.970 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:43:43.973 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.751ms.
2024-11-16 12:43:43.975 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.5431ms
2024-11-16 12:43:43.975 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:43.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 20.5747ms
2024-11-16 12:43:44.045 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:43:44.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.421ms
2024-11-16 12:43:50.663 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:43:50.855 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:43:50.856 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:43:50.860 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:43:50.863 +02:00 [INF] Hosting environment: Development
2024-11-16 12:43:50.863 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:43:51.201 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:43:52.283 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:52.297 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:52.323 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:43:52.335 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:43:52.442 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 108.3734ms.
2024-11-16 12:43:52.451 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 149.7892ms
2024-11-16 12:43:52.452 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:52.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 1262.8547ms
2024-11-16 12:43:52.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:43:52.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:43:52.480 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.9256ms
2024-11-16 12:43:52.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.7523ms
2024-11-16 12:43:53.511 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:43:53.541 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 29.8501ms
2024-11-16 12:43:53.544 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:43:54.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:43:54.734 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:54.736 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:54.740 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:43:54.743 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:43:54.752 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 9.7775ms.
2024-11-16 12:43:54.756 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 18.6993ms
2024-11-16 12:43:54.757 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:54.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 46.1872ms
2024-11-16 12:43:54.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:43:54.919 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 21.0638ms
2024-11-16 12:43:56.700 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:43:56.709 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:56.715 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:56.718 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:43:56.719 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.3014ms
2024-11-16 12:43:56.720 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:56.721 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 20.7664ms
2024-11-16 12:43:56.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:43:56.776 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:56.782 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:56.793 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:43:56.795 +02:00 [ERR] User not logged in.
2024-11-16 12:43:56.797 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:43:56.798 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 14.3006ms
2024-11-16 12:43:56.799 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:56.799 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 30.5463ms
2024-11-16 12:43:56.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:43:56.808 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:56.815 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:58.630 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:43:59.389 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:43:59.487 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:43:59.490 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:43:59.494 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:43:59.496 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2679.4425ms
2024-11-16 12:43:59.497 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:59.500 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:49a53035-a6b8-9767-09d7-7d8f3a05c60c
2024-11-16 12:43:59.504 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2700.3912ms
2024-11-16 12:43:59.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:43:59.509 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:59.509 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:59.511 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:43:59.512 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.5535ms
2024-11-16 12:43:59.512 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:59.513 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 8.3266ms
2024-11-16 12:43:59.516 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:43:59.519 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:43:59.520 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:43:59.605 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:43:59.706 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:43:59.762 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:43:59.981 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:44:00.013 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:44:00.026 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:44:00.041 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:44:00.046 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:44:00.089 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 43.908ms.
2024-11-16 12:44:00.090 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 569.2795ms
2024-11-16 12:44:00.092 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:00.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 576.5169ms
2024-11-16 12:44:00.121 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:00.124 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:44:00.132 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.714ms
2024-11-16 12:44:00.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.1281ms
2024-11-16 12:44:00.273 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:44:00.277 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:44:00.287 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:44:00.288 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 14.4751ms
2024-11-16 12:44:00.302 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Pq6DVRLiQuKd8285vWIEHA - null null
2024-11-16 12:44:00.308 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:44:00.442 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: mri_hdK5R6riMjBDSJbSpg
2024-11-16 12:44:00.445 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: mri_hdK5R6riMjBDSJbSpg
2024-11-16 12:44:02.438 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:02.444 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:02.445 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:02.450 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:02.450 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:02.452 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.7143ms.
2024-11-16 12:44:02.453 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.6358ms
2024-11-16 12:44:02.453 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:02.454 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.0544ms
2024-11-16 12:44:02.471 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: mri_hdK5R6riMjBDSJbSpg
2024-11-16 12:44:02.472 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: mri_hdK5R6riMjBDSJbSpg
2024-11-16 12:44:02.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:02.477 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:44:02.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:44:02.478 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1096ms
2024-11-16 12:44:02.478 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Pq6DVRLiQuKd8285vWIEHA - 200 null null 2176.0432ms
2024-11-16 12:44:02.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.0676ms
2024-11-16 12:44:03.207 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:44:03.213 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:03.213 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:03.214 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:44:03.215 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.5683ms
2024-11-16 12:44:03.215 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:03.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 8.6269ms
2024-11-16 12:44:03.220 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:44:03.222 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:03.223 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:03.276 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:44:03.291 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:44:03.302 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:44:03.368 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:44:03.378 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:44:03.382 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:44:03.387 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:44:03.389 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:44:03.391 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.6245ms.
2024-11-16 12:44:03.392 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 168.513ms
2024-11-16 12:44:03.393 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:03.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 174.2564ms
2024-11-16 12:44:03.409 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:03.409 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:44:03.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5896ms
2024-11-16 12:44:03.419 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.4392ms
2024-11-16 12:44:03.446 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:44:03.449 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:44:03.451 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:44:03.454 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 8.15ms
2024-11-16 12:44:03.474 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=KMj8KQ7NpSdQ2lqraihcLg - null null
2024-11-16 12:44:03.479 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:44:03.515 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: 8nxeblhSbQ1mLJb3OPJuOQ
2024-11-16 12:44:03.517 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: 8nxeblhSbQ1mLJb3OPJuOQ
2024-11-16 12:44:04.135 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:04.139 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:04.140 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:04.145 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:04.146 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:04.148 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.9344ms.
2024-11-16 12:44:04.149 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.8126ms
2024-11-16 12:44:04.151 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:04.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.5331ms
2024-11-16 12:44:04.155 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: 8nxeblhSbQ1mLJb3OPJuOQ
2024-11-16 12:44:04.156 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: 8nxeblhSbQ1mLJb3OPJuOQ
2024-11-16 12:44:04.157 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:44:04.158 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=KMj8KQ7NpSdQ2lqraihcLg - 200 null null 683.4532ms
2024-11-16 12:44:04.169 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:04.173 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:44:04.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.1133ms
2024-11-16 12:44:04.187 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.7465ms
2024-11-16 12:44:04.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:44:05.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 6.9436ms
2024-11-16 12:44:05.009 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:44:06.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:06.372 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:06.373 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:06.376 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:06.377 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:06.379 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.9461ms.
2024-11-16 12:44:06.380 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.9705ms
2024-11-16 12:44:06.381 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:06.381 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.8631ms
2024-11-16 12:44:06.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:06.465 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6837ms
2024-11-16 12:44:06.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/CreateQuery - null null
2024-11-16 12:44:06.928 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/CreateQuery - 404 0 null 5.6422ms
2024-11-16 12:44:06.930 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/CreateQuery, Response status code: 404
2024-11-16 12:44:07.546 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:07.550 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:07.551 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:07.554 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:07.555 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:07.557 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.6499ms.
2024-11-16 12:44:07.558 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.8496ms
2024-11-16 12:44:07.559 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:07.560 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.9962ms
2024-11-16 12:44:07.637 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:07.639 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.218ms
2024-11-16 12:44:08.177 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - null null
2024-11-16 12:44:08.182 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - 404 0 null 4.6636ms
2024-11-16 12:44:08.184 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/ViewFeedback, Response status code: 404
2024-11-16 12:44:08.907 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:08.912 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:08.913 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:08.916 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:08.917 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:08.919 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.0362ms.
2024-11-16 12:44:08.920 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.2015ms
2024-11-16 12:44:08.922 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:08.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.505ms
2024-11-16 12:44:09.029 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:09.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.465ms
2024-11-16 12:44:10.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - null null
2024-11-16 12:44:10.224 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - 404 0 null 5.5974ms
2024-11-16 12:44:10.228 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/ViewFeedback, Response status code: 404
2024-11-16 12:44:11.008 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:11.012 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:11.013 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:11.016 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:11.016 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:11.017 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.1578ms.
2024-11-16 12:44:11.018 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.0519ms
2024-11-16 12:44:11.019 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:11.020 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 12.1637ms
2024-11-16 12:44:11.087 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:11.091 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.2627ms
2024-11-16 12:44:12.416 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:44:12.419 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 3.3442ms
2024-11-16 12:44:12.423 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:44:13.348 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:13.353 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:13.354 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:13.358 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:13.358 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:13.361 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.2066ms.
2024-11-16 12:44:13.361 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.0254ms
2024-11-16 12:44:13.362 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:13.363 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.8292ms
2024-11-16 12:44:13.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:13.452 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.07ms
2024-11-16 12:44:16.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:44:16.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 4.7911ms
2024-11-16 12:44:16.830 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:44:17.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:17.632 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:17.633 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:17.636 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:17.638 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:17.639 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.7063ms.
2024-11-16 12:44:17.640 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.1848ms
2024-11-16 12:44:17.641 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:17.643 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.3223ms
2024-11-16 12:44:17.730 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:17.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7291ms
2024-11-16 12:44:18.584 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/CreateQuery - null null
2024-11-16 12:44:18.587 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/CreateQuery - 404 0 null 3.0878ms
2024-11-16 12:44:18.589 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/CreateQuery, Response status code: 404
2024-11-16 12:44:19.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:44:19.124 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:19.126 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:44:19.130 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:44:19.131 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:44:19.132 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.4136ms.
2024-11-16 12:44:19.133 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.7575ms
2024-11-16 12:44:19.134 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:44:19.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 15.9209ms
2024-11-16 12:44:19.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:44:19.219 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3106ms
2024-11-16 12:44:19.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:44:19.989 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 3.9913ms
2024-11-16 12:44:19.991 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:46:24.548 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:46:24.556 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:24.558 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:24.562 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:46:24.563 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:46:24.565 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.9607ms.
2024-11-16 12:46:24.567 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.2354ms
2024-11-16 12:46:24.568 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:24.568 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 20.6867ms
2024-11-16 12:46:24.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:46:24.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3383ms
2024-11-16 12:46:30.798 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:46:30.908 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:46:30.909 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:46:30.912 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:46:30.913 +02:00 [INF] Hosting environment: Development
2024-11-16 12:46:30.913 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:46:31.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:46:31.697 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:31.706 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:31.723 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:46:31.729 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:46:31.820 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 90.1696ms.
2024-11-16 12:46:31.835 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 125.766ms
2024-11-16 12:46:31.837 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:31.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:46:31.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:46:31.850 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 706.7264ms
2024-11-16 12:46:31.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.8769ms
2024-11-16 12:46:31.886 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.2437ms
2024-11-16 12:46:33.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs/Index - null null
2024-11-16 12:46:33.365 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:33.368 +02:00 [INF] Route matched with {action = "Index", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:33.385 +02:00 [INF] Found 31 log files
2024-11-16 12:46:33.388 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 12:46:33.404 +02:00 [INF] Executed ViewResult - view Index executed in 17.2015ms.
2024-11-16 12:46:33.406 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp) in 36.1778ms
2024-11-16 12:46:33.407 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:33.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs/Index - 200 null text/html; charset=utf-8 63.9394ms
2024-11-16 12:46:33.429 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:46:33.435 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:46:33.438 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.8302ms
2024-11-16 12:46:33.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.448ms
2024-11-16 12:46:34.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:46:34.493 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:34.494 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:34.500 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:46:34.502 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:46:34.510 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 7.4591ms.
2024-11-16 12:46:34.512 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 16.3057ms
2024-11-16 12:46:34.514 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:34.518 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 43.7297ms
2024-11-16 12:46:34.546 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:46:34.548 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3849ms
2024-11-16 12:46:34.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:46:34.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.0604ms
2024-11-16 12:46:35.330 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:46:35.337 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:35.341 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:35.345 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:46:35.346 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.7994ms
2024-11-16 12:46:35.347 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:35.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 17.7284ms
2024-11-16 12:46:35.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:46:35.364 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:35.368 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:35.382 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:46:35.387 +02:00 [ERR] User not logged in.
2024-11-16 12:46:35.388 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:46:35.389 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 20.4617ms
2024-11-16 12:46:35.390 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:35.391 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 32.9956ms
2024-11-16 12:46:35.395 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:46:35.398 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:35.401 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:36.764 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:46:37.178 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:46:37.235 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:46:37.238 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:46:37.241 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:46:37.242 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1839.9535ms
2024-11-16 12:46:37.243 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:37.254 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:01b721c8-b1c4-fcd9-c7c0-82da8936dd45
2024-11-16 12:46:37.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1863.5011ms
2024-11-16 12:46:37.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:46:37.263 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:37.264 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:37.266 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:46:37.266 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.4497ms
2024-11-16 12:46:37.267 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:37.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 8.1115ms
2024-11-16 12:46:37.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:46:37.273 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:37.274 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:37.334 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:46:37.402 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:46:37.439 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:46:37.565 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:46:37.584 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:46:37.591 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:46:37.600 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:46:37.603 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:46:37.618 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 16.0371ms.
2024-11-16 12:46:37.619 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 344.4758ms
2024-11-16 12:46:37.620 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:37.621 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 350.889ms
2024-11-16 12:46:37.645 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:46:37.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:46:37.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 12:46:37.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.7041ms
2024-11-16 12:46:37.669 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.5096ms
2024-11-16 12:46:37.674 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-16 12:46:37.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 30.3428ms
2024-11-16 12:46:37.733 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:46:37.739 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:46:37.748 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:46:37.752 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 18.9386ms
2024-11-16 12:46:37.810 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=pWk9FuLMHlPhMZxqbGD2dg - null null
2024-11-16 12:46:37.812 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:46:37.851 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: hOFJCpVwZmpePkqGQ9gnXQ
2024-11-16 12:46:37.853 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: hOFJCpVwZmpePkqGQ9gnXQ
2024-11-16 12:46:38.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:46:38.680 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:38.681 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:46:38.684 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:46:38.685 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:46:38.686 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.479ms.
2024-11-16 12:46:38.687 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.394ms
2024-11-16 12:46:38.689 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:46:38.689 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.4265ms
2024-11-16 12:46:38.698 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: hOFJCpVwZmpePkqGQ9gnXQ
2024-11-16 12:46:38.699 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: hOFJCpVwZmpePkqGQ9gnXQ
2024-11-16 12:46:38.703 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:46:38.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:46:38.704 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=pWk9FuLMHlPhMZxqbGD2dg - 200 null null 894.1176ms
2024-11-16 12:46:38.705 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:46:38.706 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.721ms
2024-11-16 12:46:38.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.4619ms
2024-11-16 12:46:39.558 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:46:39.713 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 154.5686ms
2024-11-16 12:46:39.716 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:49:43.440 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:49:43.446 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:43.447 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:43.450 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:49:43.451 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:49:43.452 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.6662ms.
2024-11-16 12:49:43.453 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.5058ms
2024-11-16 12:49:43.454 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:43.454 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.4126ms
2024-11-16 12:49:43.530 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:49:43.534 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5082ms
2024-11-16 12:49:45.710 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:49:45.714 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:45.715 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:45.717 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:49:45.718 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.9415ms
2024-11-16 12:49:45.719 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:45.720 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 9.8906ms
2024-11-16 12:49:45.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:49:45.728 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:45.728 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:45.792 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:49:45.802 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:49:45.811 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:49:45.877 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:49:45.888 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:49:45.892 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:49:45.897 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:49:45.898 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:49:45.901 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.2546ms.
2024-11-16 12:49:45.901 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 171.8071ms
2024-11-16 12:49:45.902 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:45.903 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 178.5424ms
2024-11-16 12:49:45.927 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:49:45.929 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0238ms
2024-11-16 12:49:45.931 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:49:45.939 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.2009ms
2024-11-16 12:49:46.029 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:49:46.031 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:49:46.032 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:49:46.033 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 4.2998ms
2024-11-16 12:49:46.047 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=PnxUqMOyYhBXVimsxrhi1Q - null null
2024-11-16 12:49:46.049 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:49:46.087 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: L5_W33tx3zw0PCHb-UmM-g
2024-11-16 12:49:46.088 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: L5_W33tx3zw0PCHb-UmM-g
2024-11-16 12:49:51.664 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:49:51.856 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:49:51.861 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:49:51.868 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:49:51.869 +02:00 [INF] Hosting environment: Development
2024-11-16 12:49:51.870 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:49:52.244 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:49:52.271 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:49:52.791 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:49:52.795 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:52.801 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:49:52.805 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 533.5897ms
2024-11-16 12:49:52.805 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:52.811 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=pK_pb3gBtiLHhWafgZaUEA - null null
2024-11-16 12:49:52.817 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:49:52.819 +02:00 [ERR] User not logged in.
2024-11-16 12:49:52.821 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:49:52.829 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:49:52.832 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 21.0322ms
2024-11-16 12:49:52.833 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:52.834 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 591.4362ms
2024-11-16 12:49:52.836 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: s0-JrQtNdcit7pMPmSGm9g
2024-11-16 12:49:52.837 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: s0-JrQtNdcit7pMPmSGm9g
2024-11-16 12:49:52.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:49:52.842 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:52.846 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:54.141 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:49:54.598 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:49:54.663 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:49:54.665 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:49:54.668 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:49:54.669 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1822.4709ms
2024-11-16 12:49:54.670 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:54.673 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:78a8c6fa-4ada-c261-bad4-575e4987825e
2024-11-16 12:49:54.677 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1838.5777ms
2024-11-16 12:49:54.678 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:49:54.687 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:54.689 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:54.691 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:49:54.692 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.7534ms
2024-11-16 12:49:54.693 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:54.693 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 14.907ms
2024-11-16 12:49:54.697 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:49:54.702 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:54.703 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:54.788 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:49:54.868 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:49:54.915 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:49:55.088 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:49:55.110 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:49:55.119 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:49:55.128 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:49:55.138 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:49:55.229 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 97.0778ms.
2024-11-16 12:49:55.233 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 528.2954ms
2024-11-16 12:49:55.236 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:55.245 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: s0-JrQtNdcit7pMPmSGm9g
2024-11-16 12:49:55.246 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 548.6469ms
2024-11-16 12:49:55.246 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: s0-JrQtNdcit7pMPmSGm9g
2024-11-16 12:49:55.253 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:49:55.255 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=pK_pb3gBtiLHhWafgZaUEA - 200 null null 2443.5501ms
2024-11-16 12:49:55.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:49:55.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:49:55.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.8753ms
2024-11-16 12:49:55.299 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:49:55.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.9669ms
2024-11-16 12:49:55.304 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:49:55.310 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:49:55.311 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 11.3912ms
2024-11-16 12:49:55.355 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=uvNvWjGVV2bo9bbxA1zWiQ - null null
2024-11-16 12:49:55.359 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:49:55.377 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: aWwfKTjVDwKB5MNn6wy-sw
2024-11-16 12:49:55.378 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: aWwfKTjVDwKB5MNn6wy-sw
2024-11-16 12:49:57.150 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs/Index - null null
2024-11-16 12:49:57.159 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:57.162 +02:00 [INF] Route matched with {action = "Index", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:57.167 +02:00 [INF] Found 31 log files
2024-11-16 12:49:57.171 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 12:49:57.176 +02:00 [INF] Executed ViewResult - view Index executed in 6.7602ms.
2024-11-16 12:49:57.177 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp) in 14.647ms
2024-11-16 12:49:57.178 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:57.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs/Index - 200 null text/html; charset=utf-8 28.2991ms
2024-11-16 12:49:57.182 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: aWwfKTjVDwKB5MNn6wy-sw
2024-11-16 12:49:57.183 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: aWwfKTjVDwKB5MNn6wy-sw
2024-11-16 12:49:57.184 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:49:57.185 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=uvNvWjGVV2bo9bbxA1zWiQ - 200 null null 1830.2265ms
2024-11-16 12:49:57.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:49:57.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:49:57.199 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1226ms
2024-11-16 12:49:57.211 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.1226ms
2024-11-16 12:49:57.871 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:49:57.877 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:57.878 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:57.879 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:49:57.880 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 0.5878ms
2024-11-16 12:49:57.880 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:57.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 9.1233ms
2024-11-16 12:49:57.885 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:49:57.888 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:57.889 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:57.950 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:49:58.160 +02:00 [INF] Executed DbCommand (205ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:49:58.186 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:49:58.246 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:49:58.256 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:49:58.259 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:49:58.262 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:49:58.264 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:49:58.267 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 3.7389ms.
2024-11-16 12:49:58.268 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 378.2507ms
2024-11-16 12:49:58.269 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:58.270 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 384.9493ms
2024-11-16 12:49:58.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:49:58.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:49:58.287 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.8656ms
2024-11-16 12:49:58.293 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1793ms
2024-11-16 12:49:58.307 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:49:58.309 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:49:58.310 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:49:58.311 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 4.7443ms
2024-11-16 12:49:58.341 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=3m8pcMWu-yzFM8vQ96AUPw - null null
2024-11-16 12:49:58.343 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:49:58.383 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: KP3iETS8m_HfUu3yn0jYXQ
2024-11-16 12:49:58.385 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: KP3iETS8m_HfUu3yn0jYXQ
2024-11-16 12:49:59.332 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:49:59.338 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:59.342 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:49:59.365 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:49:59.367 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:49:59.377 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 10.9131ms.
2024-11-16 12:49:59.378 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 35.1495ms
2024-11-16 12:49:59.379 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:49:59.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 47.8712ms
2024-11-16 12:49:59.385 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: KP3iETS8m_HfUu3yn0jYXQ
2024-11-16 12:49:59.386 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: KP3iETS8m_HfUu3yn0jYXQ
2024-11-16 12:49:59.387 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:49:59.388 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=3m8pcMWu-yzFM8vQ96AUPw - 200 null null 1046.3958ms
2024-11-16 12:49:59.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:49:59.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:49:59.404 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.4829ms
2024-11-16 12:49:59.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7382ms
2024-11-16 12:50:00.093 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:50:00.101 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 8.2745ms
2024-11-16 12:50:00.105 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:50:02.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:02.296 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:02.296 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:02.300 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:02.301 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:02.303 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.1938ms.
2024-11-16 12:50:02.304 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.8359ms
2024-11-16 12:50:02.305 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:02.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.9577ms
2024-11-16 12:50:02.402 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:02.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5266ms
2024-11-16 12:50:03.061 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:50:03.068 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:03.073 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:03.077 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:03.084 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:50:03.092 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:50:03.134 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staffDetail_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:50:03.150 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:50:03.152 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 77.5396ms
2024-11-16 12:50:03.154 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:03.155 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 93.5577ms
2024-11-16 12:50:04.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:04.812 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:04.813 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:04.818 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:04.819 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:04.820 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.3723ms.
2024-11-16 12:50:04.821 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.305ms
2024-11-16 12:50:04.822 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:04.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 15.4938ms
2024-11-16 12:50:04.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:04.837 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4746ms
2024-11-16 12:50:11.480 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:50:11.484 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:11.485 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:11.488 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:11.491 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:50:11.494 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:50:11.505 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staffDetail_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:50:11.509 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:50:11.510 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 23.7282ms
2024-11-16 12:50:11.510 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:11.511 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 31.2585ms
2024-11-16 12:50:12.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:12.798 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:12.799 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:12.803 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:12.804 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:12.805 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.2666ms.
2024-11-16 12:50:12.806 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.248ms
2024-11-16 12:50:12.807 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:12.808 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.2313ms
2024-11-16 12:50:12.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:12.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7343ms
2024-11-16 12:50:20.972 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:50:20.975 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:20.976 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:20.980 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:20.984 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:50:21.082 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:50:21.101 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staffDetail_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:50:21.104 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:50:21.105 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 126.7039ms
2024-11-16 12:50:21.105 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:21.106 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 134.2188ms
2024-11-16 12:50:21.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:21.988 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:21.989 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:21.992 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:21.993 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:21.995 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.4453ms.
2024-11-16 12:50:21.995 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.9796ms
2024-11-16 12:50:21.996 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:21.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.3575ms
2024-11-16 12:50:22.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:22.014 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.9885ms
2024-11-16 12:50:24.388 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:24.392 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:24.393 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:24.395 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:24.396 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:24.397 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.2695ms.
2024-11-16 12:50:24.399 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.2334ms
2024-11-16 12:50:24.400 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:24.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.4055ms
2024-11-16 12:50:24.425 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:50:24.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:50:24.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:50:24.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:50:24.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:50:24.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:50:24.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:50:24.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:50:24.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:50:24.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:50:24.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-11-16 12:50:24.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:24.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:50:24.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:50:24.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:50:24.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:50:24.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:50:24.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:50:24.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:50:24.445 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:50:24.445 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:50:24.445 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:50:24.445 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:50:24.445 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:50:24.445 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:50:24.447 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:50:24.448 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:50:24.451 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:50:24.453 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:50:24.454 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-16 12:50:24.455 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.5105ms
2024-11-16 12:50:24.459 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:50:24.461 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:50:24.462 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:50:24.465 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:50:24.488 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 44.341ms
2024-11-16 12:50:24.470 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4305ms
2024-11-16 12:50:24.471 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 42.1505ms
2024-11-16 12:50:24.472 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:50:24.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 44.5684ms
2024-11-16 12:50:24.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 40.4205ms
2024-11-16 12:50:24.475 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 42.3625ms
2024-11-16 12:50:24.476 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 42.9379ms
2024-11-16 12:50:24.478 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 43.6332ms
2024-11-16 12:50:24.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 53.5922ms
2024-11-16 12:50:24.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 45.3863ms
2024-11-16 12:50:24.481 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 38.5699ms
2024-11-16 12:50:24.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 39.4624ms
2024-11-16 12:50:24.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 200 5518 text/css 40.0372ms
2024-11-16 12:50:24.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 42.5321ms
2024-11-16 12:50:24.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 42.5918ms
2024-11-16 12:50:24.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 44.3491ms
2024-11-16 12:50:24.470 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:50:24.494 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:50:24.495 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 51.478ms
2024-11-16 12:50:24.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 72.8061ms
2024-11-16 12:50:24.520 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:50:24.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 26.8636ms
2024-11-16 12:50:24.544 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:50:24.550 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:50:24.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 7.2858ms
2024-11-16 12:50:24.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 12:50:24.631 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 12:50:24.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 4.3797ms
2024-11-16 12:50:26.437 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:50:26.440 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:26.441 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:26.444 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:26.447 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:50:26.670 +02:00 [INF] Executed DbCommand (221ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:50:26.690 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staffDetail_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:50:26.694 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:50:26.695 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 253.1161ms
2024-11-16 12:50:26.697 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:26.698 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 261.2398ms
2024-11-16 12:50:27.401 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:27.405 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:27.406 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:27.410 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:27.411 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:27.412 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.7586ms.
2024-11-16 12:50:27.414 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.4504ms
2024-11-16 12:50:27.416 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:27.419 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 17.57ms
2024-11-16 12:50:27.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:27.434 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.8592ms
2024-11-16 12:50:28.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:50:28.247 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 5.7154ms
2024-11-16 12:50:28.250 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:50:29.036 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:29.042 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:29.043 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:29.046 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:29.047 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:29.049 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.6615ms.
2024-11-16 12:50:29.050 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.3409ms
2024-11-16 12:50:29.052 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:29.053 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 17.7737ms
2024-11-16 12:50:29.131 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:29.134 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5628ms
2024-11-16 12:50:29.621 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/CreateQuery - null null
2024-11-16 12:50:29.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/CreateQuery - 404 0 null 3.9393ms
2024-11-16 12:50:29.627 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/CreateQuery, Response status code: 404
2024-11-16 12:50:30.243 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:30.247 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:30.248 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:30.252 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:30.253 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:30.254 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.7529ms.
2024-11-16 12:50:30.255 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.7335ms
2024-11-16 12:50:30.256 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:30.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.8521ms
2024-11-16 12:50:30.332 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:30.334 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2051ms
2024-11-16 12:50:30.838 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:50:30.841 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:30.843 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:30.846 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:30.851 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:50:30.854 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:50:30.869 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__staffDetail_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:50:30.872 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:50:30.873 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 28.9708ms
2024-11-16 12:50:30.874 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:30.874 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 36.8202ms
2024-11-16 12:50:31.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:50:31.423 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:31.424 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:50:31.427 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:50:31.428 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:50:31.430 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.3233ms.
2024-11-16 12:50:31.430 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.5287ms
2024-11-16 12:50:31.432 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:50:31.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.1741ms
2024-11-16 12:50:31.452 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:50:31.456 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3878ms
2024-11-16 12:52:56.513 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:52:56.745 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:52:56.746 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:52:56.750 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:52:56.752 +02:00 [INF] Hosting environment: Development
2024-11-16 12:52:56.752 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:52:56.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:52:57.552 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:52:57.560 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:52:57.574 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:52:57.583 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:52:57.673 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 90.8481ms.
2024-11-16 12:52:57.680 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 117.7034ms
2024-11-16 12:52:57.682 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:52:57.687 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 775.6991ms
2024-11-16 12:52:57.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:52:57.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:52:57.724 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.1679ms
2024-11-16 12:52:57.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.6386ms
2024-11-16 12:52:59.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:52:59.667 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:52:59.671 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:52:59.673 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:52:59.673 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.6828ms
2024-11-16 12:52:59.674 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:52:59.675 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 24.3378ms
2024-11-16 12:52:59.679 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:52:59.686 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:52:59.691 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:52:59.697 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:52:59.699 +02:00 [ERR] User not logged in.
2024-11-16 12:52:59.700 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:52:59.701 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 9.2113ms
2024-11-16 12:52:59.701 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:52:59.702 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 23.2349ms
2024-11-16 12:52:59.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:52:59.709 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:52:59.714 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:01.328 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:53:01.819 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:53:01.894 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:53:01.896 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:53:01.899 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:53:01.900 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2184.9703ms
2024-11-16 12:53:01.901 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:01.906 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:714100c1-fc80-3c84-8ac2-9b35d02ea07b
2024-11-16 12:53:01.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2209.0473ms
2024-11-16 12:53:01.916 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:53:01.922 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:01.923 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:01.926 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:53:01.927 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.7087ms
2024-11-16 12:53:01.928 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:01.929 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 13.0616ms
2024-11-16 12:53:01.933 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:53:01.937 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:01.938 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:02.014 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:02.083 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:53:02.123 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:53:02.261 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:53:02.278 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:02.285 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:02.297 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:02.300 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:53:02.325 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 25.8534ms.
2024-11-16 12:53:02.326 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 386.8981ms
2024-11-16 12:53:02.327 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:02.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 395.1567ms
2024-11-16 12:53:02.349 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:02.350 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:02.352 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.4335ms
2024-11-16 12:53:02.362 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.6942ms
2024-11-16 12:53:02.487 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:53:02.490 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:53:02.497 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:53:02.498 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 11.2005ms
2024-11-16 12:53:02.515 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=F6I11EnIP24pF4OJnjAWoQ - null null
2024-11-16 12:53:02.518 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:53:02.572 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: YlPtBl0HJhcT06Di4fzAJQ
2024-11-16 12:53:02.573 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: YlPtBl0HJhcT06Di4fzAJQ
2024-11-16 12:53:08.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:53:08.948 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:08.949 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:09.002 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:09.017 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:53:09.028 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:53:09.084 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:53:09.097 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:09.100 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:09.104 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:09.106 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:53:09.110 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 3.8136ms.
2024-11-16 12:53:09.111 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 160.8244ms
2024-11-16 12:53:09.112 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:09.114 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 173.0343ms
2024-11-16 12:53:09.131 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: YlPtBl0HJhcT06Di4fzAJQ
2024-11-16 12:53:09.133 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: YlPtBl0HJhcT06Di4fzAJQ
2024-11-16 12:53:09.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:09.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:09.140 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:53:09.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.8279ms
2024-11-16 12:53:09.143 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=F6I11EnIP24pF4OJnjAWoQ - 200 null null 6628.1395ms
2024-11-16 12:53:09.147 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.0787ms
2024-11-16 12:53:09.182 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:53:09.187 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:53:09.188 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:53:09.189 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 7.3718ms
2024-11-16 12:53:09.203 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=BKMlhcfmU5Giifoof44QVQ - null null
2024-11-16 12:53:09.208 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:53:09.251 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: VGm1j5JLvC_EawSdpU7u8Q
2024-11-16 12:53:09.253 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: VGm1j5JLvC_EawSdpU7u8Q
2024-11-16 12:53:20.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:53:20.344 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:20.344 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:20.346 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:53:20.346 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.0055ms
2024-11-16 12:53:20.347 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:20.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 8.3588ms
2024-11-16 12:53:20.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:53:20.355 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:20.355 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:20.374 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:20.382 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:53:20.598 +02:00 [INF] Executed DbCommand (212ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:53:20.650 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:53:20.661 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:20.666 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:20.671 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:20.673 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:53:20.676 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.8887ms.
2024-11-16 12:53:20.677 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 320.1734ms
2024-11-16 12:53:20.677 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:20.679 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 326.9855ms
2024-11-16 12:53:20.684 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: VGm1j5JLvC_EawSdpU7u8Q
2024-11-16 12:53:20.685 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: VGm1j5JLvC_EawSdpU7u8Q
2024-11-16 12:53:20.687 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:53:20.687 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=BKMlhcfmU5Giifoof44QVQ - 200 null null 11484.7021ms
2024-11-16 12:53:20.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:20.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:20.706 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6802ms
2024-11-16 12:53:20.714 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7893ms
2024-11-16 12:53:20.750 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:53:20.752 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:53:20.753 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:53:20.754 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 3.607ms
2024-11-16 12:53:20.768 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=jmECxD9Xl60pt7OQ8yMqBQ - null null
2024-11-16 12:53:20.770 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:53:20.803 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: Newq7qts_s2lOdT9lmf9QA
2024-11-16 12:53:20.804 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: Newq7qts_s2lOdT9lmf9QA
2024-11-16 12:53:25.095 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:53:25.100 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:25.102 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:25.107 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:25.116 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:53:25.123 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:53:25.182 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:53:25.189 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:25.193 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:25.198 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:25.199 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:53:25.200 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 1.6271ms.
2024-11-16 12:53:25.201 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 97.7442ms
2024-11-16 12:53:25.202 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:25.203 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 107.1461ms
2024-11-16 12:53:25.205 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: Newq7qts_s2lOdT9lmf9QA
2024-11-16 12:53:25.206 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: Newq7qts_s2lOdT9lmf9QA
2024-11-16 12:53:25.207 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:53:25.207 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=jmECxD9Xl60pt7OQ8yMqBQ - 200 null null 4439.1981ms
2024-11-16 12:53:25.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:53:25.222 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:53:25.228 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:53:25.228 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:53:25.228 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:53:25.228 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:53:25.229 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:53:25.239 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:53:25.230 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:53:25.230 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:53:25.230 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:53:25.231 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 12:53:25.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:25.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:53:25.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:53:25.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:53:25.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:53:25.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:53:25.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:53:25.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-16 12:53:25.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-16 12:53:25.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-16 12:53:25.264 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-16 12:53:25.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-16 12:53:25.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-16 12:53:25.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:25.237 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:53:25.237 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:53:25.237 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:53:25.237 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:53:25.238 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:53:25.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 12.1953ms
2024-11-16 12:53:25.241 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:53:25.244 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:53:25.246 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:53:25.248 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:53:25.249 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 12:53:25.249 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 17.7225ms
2024-11-16 12:53:25.254 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:53:25.255 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:53:25.255 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:53:25.257 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:53:25.259 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:53:25.260 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:53:25.263 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-16 12:53:25.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 59.038ms
2024-11-16 12:53:25.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 32.4867ms
2024-11-16 12:53:25.270 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-16 12:53:25.270 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-16 12:53:25.271 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 43.3115ms
2024-11-16 12:53:25.272 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 44.0188ms
2024-11-16 12:53:25.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 51.1069ms
2024-11-16 12:53:25.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 54.5174ms
2024-11-16 12:53:25.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 46.1706ms
2024-11-16 12:53:25.275 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.2245ms
2024-11-16 12:53:25.278 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 48.8925ms
2024-11-16 12:53:25.279 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 49.3584ms
2024-11-16 12:53:25.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 49.5936ms
2024-11-16 12:53:25.281 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 50.342ms
2024-11-16 12:53:25.282 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 50.142ms
2024-11-16 12:53:25.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 53.8343ms
2024-11-16 12:53:25.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 54.4771ms
2024-11-16 12:53:25.288 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 55.5951ms
2024-11-16 12:53:25.288 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 56.0909ms
2024-11-16 12:53:25.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 56.8529ms
2024-11-16 12:53:25.291 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 58.0589ms
2024-11-16 12:53:25.266 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-16 12:53:25.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:53:25.297 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 63.7798ms
2024-11-16 12:53:25.299 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 64.9042ms
2024-11-16 12:53:25.334 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 100.651ms
2024-11-16 12:53:25.337 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:53:25.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 43.8474ms
2024-11-16 12:53:25.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:53:25.360 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:53:25.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 8.6283ms
2024-11-16 12:53:25.384 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:53:25.386 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:53:25.387 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:53:25.388 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 3.5887ms
2024-11-16 12:53:25.410 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=qCdJ5UpX3qkZ9RST1Zf2EQ - null null
2024-11-16 12:53:25.414 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:53:25.442 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: 4sJsCu_f3g1h8FA0UWoA9Q
2024-11-16 12:53:25.442 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: 4sJsCu_f3g1h8FA0UWoA9Q
2024-11-16 12:53:25.457 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 12:53:25.461 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 12:53:25.463 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 5.2617ms
2024-11-16 12:53:25.711 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:53:25.714 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:25.715 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:25.723 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:25.732 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:53:25.740 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:53:25.779 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:53:25.783 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:53:25.786 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:25.788 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:53:25.790 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:53:25.792 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 1.9098ms.
2024-11-16 12:53:25.793 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 75.7627ms
2024-11-16 12:53:25.794 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:25.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 84.2075ms
2024-11-16 12:53:25.798 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: 4sJsCu_f3g1h8FA0UWoA9Q
2024-11-16 12:53:25.799 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: 4sJsCu_f3g1h8FA0UWoA9Q
2024-11-16 12:53:25.799 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:53:25.800 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=qCdJ5UpX3qkZ9RST1Zf2EQ - 200 null null 389.7229ms
2024-11-16 12:53:25.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:53:25.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:53:25.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:53:25.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:53:25.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:53:25.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:53:25.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:53:25.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:53:25.814 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:53:25.815 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:53:25.817 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:53:25.819 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:53:25.820 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:53:25.821 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:53:25.823 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:53:25.824 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 14.3483ms
2024-11-16 12:53:25.825 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 15.0578ms
2024-11-16 12:53:25.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:53:25.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 15.3398ms
2024-11-16 12:53:25.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 15.8293ms
2024-11-16 12:53:25.827 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 16.5836ms
2024-11-16 12:53:25.828 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 16.5344ms
2024-11-16 12:53:25.828 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 17.0971ms
2024-11-16 12:53:25.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:53:25.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 12:53:25.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:25.834 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:53:25.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:53:25.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:53:25.838 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:53:25.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:53:25.841 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:53:25.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:53:25.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:53:25.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 17.7104ms
2024-11-16 12:53:25.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-16 12:53:25.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-16 12:53:25.846 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:53:25.847 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:53:25.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 16.9419ms
2024-11-16 12:53:25.848 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:53:25.849 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:53:25.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-16 12:53:25.851 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-16 12:53:25.852 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-16 12:53:25.852 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 13.766ms
2024-11-16 12:53:25.852 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 13.1799ms
2024-11-16 12:53:25.853 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-16 12:53:25.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 11.8168ms
2024-11-16 12:53:25.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 11.942ms
2024-11-16 12:53:25.856 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-16 12:53:25.857 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-16 12:53:25.857 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 12.3181ms
2024-11-16 12:53:25.858 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-16 12:53:25.860 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:25.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 15.3913ms
2024-11-16 12:53:25.862 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:53:25.875 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 62.4508ms
2024-11-16 12:53:25.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 14.5085ms
2024-11-16 12:53:25.868 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 12:53:25.868 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 34.8791ms
2024-11-16 12:53:25.871 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-16 12:53:25.874 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:53:25.864 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 14.7636ms
2024-11-16 12:53:25.877 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:53:25.879 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:53:25.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.3375ms
2024-11-16 12:53:25.885 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 53.8767ms
2024-11-16 12:53:25.888 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 30.48ms
2024-11-16 12:53:25.892 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:53:25.893 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 56.8313ms
2024-11-16 12:53:25.895 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 59.6719ms
2024-11-16 12:53:25.902 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 27.9574ms
2024-11-16 12:53:25.916 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:53:25.921 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:53:25.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 5.7417ms
2024-11-16 12:53:25.947 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:53:25.951 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:53:25.952 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:53:25.953 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 6.2377ms
2024-11-16 12:53:25.986 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=SpH3_N9Ed-A7EFpDDckaYg - null null
2024-11-16 12:53:25.988 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:53:26.018 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: RtCS7gTb-3nJHlV1Evu7BQ
2024-11-16 12:53:26.019 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: RtCS7gTb-3nJHlV1Evu7BQ
2024-11-16 12:53:26.036 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 12:53:26.038 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 12:53:26.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 2.636ms
2024-11-16 12:53:27.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:53:27.969 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:27.970 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:27.973 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:53:27.974 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:53:27.976 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.8584ms.
2024-11-16 12:53:27.978 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.5803ms
2024-11-16 12:53:27.978 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:27.979 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.8193ms
2024-11-16 12:53:27.984 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: RtCS7gTb-3nJHlV1Evu7BQ
2024-11-16 12:53:27.985 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: RtCS7gTb-3nJHlV1Evu7BQ
2024-11-16 12:53:27.985 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:53:27.986 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=SpH3_N9Ed-A7EFpDDckaYg - 200 null null 2000.2218ms
2024-11-16 12:53:27.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:27.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:27.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5051ms
2024-11-16 12:53:28.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.2315ms
2024-11-16 12:53:29.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:53:29.973 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:29.974 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:29.979 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:53:29.980 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:53:29.982 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.4909ms.
2024-11-16 12:53:29.983 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 8.6342ms
2024-11-16 12:53:29.984 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:29.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.5339ms
2024-11-16 12:53:30.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:53:30.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:53:30.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:53:30.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:53:30.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:53:30.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:53:30.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:53:30.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:53:30.013 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:53:30.015 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:53:30.017 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:53:30.018 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:53:30.021 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:53:30.022 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:53:30.023 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:53:30.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 18.0072ms
2024-11-16 12:53:30.024 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:53:30.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 13.5183ms
2024-11-16 12:53:30.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 14.0473ms
2024-11-16 12:53:30.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 14.4814ms
2024-11-16 12:53:30.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 13.8748ms
2024-11-16 12:53:30.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 14.1592ms
2024-11-16 12:53:30.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 14.7137ms
2024-11-16 12:53:30.029 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:53:30.030 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:53:30.031 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-11-16 12:53:30.032 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:30.033 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:53:30.035 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:53:30.036 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:53:30.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:53:30.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 14.7799ms
2024-11-16 12:53:30.039 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:53:30.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:53:30.041 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:53:30.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:30.045 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:53:30.046 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:53:30.047 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:53:30.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 16.1064ms
2024-11-16 12:53:30.050 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 21.1481ms
2024-11-16 12:53:30.053 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:53:30.054 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:53:30.055 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-16 12:53:30.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 42.6587ms
2024-11-16 12:53:30.056 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 20.3525ms
2024-11-16 12:53:30.057 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 19.7723ms
2024-11-16 12:53:30.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:53:30.060 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:53:30.060 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 20.1389ms
2024-11-16 12:53:30.061 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 20.3558ms
2024-11-16 12:53:30.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 200 5518 text/css 31.113ms
2024-11-16 12:53:30.065 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:53:30.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.0455ms
2024-11-16 12:53:30.071 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 36.0646ms
2024-11-16 12:53:30.072 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:53:30.077 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 43.9416ms
2024-11-16 12:53:30.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 21.7226ms
2024-11-16 12:53:30.097 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:53:30.099 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:53:30.100 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 2.8213ms
2024-11-16 12:53:30.164 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 12:53:30.167 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 12:53:30.168 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 3.8678ms
2024-11-16 12:53:30.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:53:30.437 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:30.438 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:30.441 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:53:30.442 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:53:30.444 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.88ms.
2024-11-16 12:53:30.444 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.3231ms
2024-11-16 12:53:30.445 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:30.446 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 11.8451ms
2024-11-16 12:53:30.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:53:30.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:53:30.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:53:30.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:53:30.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:53:30.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:53:30.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:53:30.471 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:53:30.464 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:53:30.465 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:53:30.466 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:53:30.468 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:53:30.462 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:53:30.478 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:30.472 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:53:30.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 12.4768ms
2024-11-16 12:53:30.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:53:30.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 14.4357ms
2024-11-16 12:53:30.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:53:30.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-11-16 12:53:30.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:30.475 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 15.0604ms
2024-11-16 12:53:30.476 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 16.3316ms
2024-11-16 12:53:30.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 16.6681ms
2024-11-16 12:53:30.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:53:30.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:53:30.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:53:30.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:53:30.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:53:30.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:53:30.472 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:53:30.478 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 18.6214ms
2024-11-16 12:53:30.480 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 20.0713ms
2024-11-16 12:53:30.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.7788ms
2024-11-16 12:53:30.487 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:53:30.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:53:30.490 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:53:30.493 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-16 12:53:30.493 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 18.9373ms
2024-11-16 12:53:30.503 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:53:30.505 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:53:30.506 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:53:30.508 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:53:30.510 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:53:30.512 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:53:30.514 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:53:30.518 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 44.2481ms
2024-11-16 12:53:30.519 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 45.2251ms
2024-11-16 12:53:30.520 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:53:30.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 200 5518 text/css 45.796ms
2024-11-16 12:53:30.522 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 45.0492ms
2024-11-16 12:53:30.523 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 45.4618ms
2024-11-16 12:53:30.524 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 46.2021ms
2024-11-16 12:53:30.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 47.1896ms
2024-11-16 12:53:30.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 48.1747ms
2024-11-16 12:53:30.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 48.9104ms
2024-11-16 12:53:30.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 55.5191ms
2024-11-16 12:53:30.531 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 43.0975ms
2024-11-16 12:53:30.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:53:30.551 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:53:30.552 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 2.8489ms
2024-11-16 12:53:30.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 12:53:30.603 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 12:53:30.604 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 3.3536ms
2024-11-16 12:53:30.782 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:53:30.785 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:30.786 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:30.789 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:53:30.790 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:53:30.791 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.2541ms.
2024-11-16 12:53:30.793 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.0137ms
2024-11-16 12:53:30.795 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:30.796 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.4652ms
2024-11-16 12:53:30.819 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:53:30.822 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:53:30.822 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:53:30.822 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:53:30.823 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:53:30.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:53:30.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:53:30.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:53:30.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:53:30.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:53:30.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:53:30.830 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:53:30.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:30.832 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:53:30.834 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 14.5852ms
2024-11-16 12:53:30.835 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:53:30.836 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:53:30.838 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:53:30.842 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:53:30.842 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:53:30.843 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:53:30.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 32.4371ms
2024-11-16 12:53:30.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 37.8378ms
2024-11-16 12:53:30.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 40.297ms
2024-11-16 12:53:30.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 38.6133ms
2024-11-16 12:53:30.864 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 39.2825ms
2024-11-16 12:53:30.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 37.7901ms
2024-11-16 12:53:30.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 38.1658ms
2024-11-16 12:53:30.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 38.8446ms
2024-11-16 12:53:30.868 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:53:30.870 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:53:30.871 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:53:30.873 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:53:30.874 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:53:30.877 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 46.8103ms
2024-11-16 12:53:30.878 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-16 12:53:30.881 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:53:30.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 53.7306ms
2024-11-16 12:53:30.882 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 51.8785ms
2024-11-16 12:53:30.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 52.5149ms
2024-11-16 12:53:30.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 53.3589ms
2024-11-16 12:53:30.885 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 54.6117ms
2024-11-16 12:53:30.889 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:53:30.889 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 200 5518 text/css 59.4325ms
2024-11-16 12:53:30.891 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 61.0423ms
2024-11-16 12:53:30.894 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:53:30.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.7229ms
2024-11-16 12:53:30.902 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 72.183ms
2024-11-16 12:53:30.911 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:53:30.913 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 18.6536ms
2024-11-16 12:53:30.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:53:30.935 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:53:30.936 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 4.6418ms
2024-11-16 12:53:30.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 12:53:30.986 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 12:53:30.987 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 2.7533ms
2024-11-16 12:53:31.033 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:53:31.035 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:31.035 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:31.038 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:53:31.039 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:53:31.040 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.5454ms.
2024-11-16 12:53:31.041 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.5257ms
2024-11-16 12:53:31.042 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:31.043 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 10.419ms
2024-11-16 12:53:31.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:53:31.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:53:31.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:53:31.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:53:31.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:53:31.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:53:31.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:53:31.068 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:53:31.068 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:53:31.068 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:53:31.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-11-16 12:53:31.070 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:53:31.071 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:53:31.073 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:53:31.075 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 11.7972ms
2024-11-16 12:53:31.075 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:53:31.075 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 12.2492ms
2024-11-16 12:53:31.075 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:53:31.075 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:53:31.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:31.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:53:31.077 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 14.3737ms
2024-11-16 12:53:31.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:53:31.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:53:31.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:53:31.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:53:31.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 16.4155ms
2024-11-16 12:53:31.081 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:53:31.081 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:53:31.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 17.1047ms
2024-11-16 12:53:31.081 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:31.082 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-16 12:53:31.082 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 18.2521ms
2024-11-16 12:53:31.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 20.6935ms
2024-11-16 12:53:31.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:53:31.088 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:53:31.090 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:53:31.114 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 39.015ms
2024-11-16 12:53:31.093 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:53:31.096 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:53:31.097 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:53:31.098 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:53:31.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 40.8387ms
2024-11-16 12:53:31.103 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:53:31.104 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:53:31.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 200 5518 text/css 29.6906ms
2024-11-16 12:53:31.110 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.9009ms
2024-11-16 12:53:31.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 38.0103ms
2024-11-16 12:53:31.114 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:53:31.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.3669ms
2024-11-16 12:53:31.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 48.8623ms
2024-11-16 12:53:31.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 39.407ms
2024-11-16 12:53:31.119 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 40.3223ms
2024-11-16 12:53:31.100 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:53:31.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 41.5055ms
2024-11-16 12:53:31.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 42.3264ms
2024-11-16 12:53:31.129 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 44.0121ms
2024-11-16 12:53:31.138 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 59.2638ms
2024-11-16 12:53:31.150 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:53:31.153 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:53:31.158 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 7.8028ms
2024-11-16 12:53:31.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 12:53:31.218 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 12:53:31.219 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 10.5979ms
2024-11-16 12:53:31.251 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:53:31.254 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:31.255 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:31.258 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:53:31.259 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:53:31.261 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.6561ms.
2024-11-16 12:53:31.263 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.2827ms
2024-11-16 12:53:31.264 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:31.265 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.5966ms
2024-11-16 12:53:31.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:53:31.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:53:31.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:53:31.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:53:31.288 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:53:31.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:53:31.283 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:53:31.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:53:31.284 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:53:31.285 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:53:31.289 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:53:31.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:53:31.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 9.5462ms
2024-11-16 12:53:31.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:53:31.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:53:31.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-11-16 12:53:31.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:31.293 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:53:31.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:53:31.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:53:31.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:53:31.283 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:53:31.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:53:31.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:53:31.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:31.295 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:53:31.297 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 16.7467ms
2024-11-16 12:53:31.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 19.4653ms
2024-11-16 12:53:31.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 20.1662ms
2024-11-16 12:53:31.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 28.5075ms
2024-11-16 12:53:31.315 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:53:31.316 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:53:31.317 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:53:31.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 33.9337ms
2024-11-16 12:53:31.319 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:53:31.320 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:53:31.321 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:53:31.323 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:53:31.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 32.8403ms
2024-11-16 12:53:31.324 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 32.0947ms
2024-11-16 12:53:31.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 31.0187ms
2024-11-16 12:53:31.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 32.8867ms
2024-11-16 12:53:31.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 35.3016ms
2024-11-16 12:53:31.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 44.3019ms
2024-11-16 12:53:31.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 35.322ms
2024-11-16 12:53:31.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 36.2017ms
2024-11-16 12:53:31.333 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:53:31.336 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-16 12:53:31.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:53:31.340 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:53:31.344 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:53:31.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.7412ms
2024-11-16 12:53:31.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 59.5903ms
2024-11-16 12:53:31.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 200 5518 text/css 58.3435ms
2024-11-16 12:53:31.352 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 58.7855ms
2024-11-16 12:53:31.353 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:53:31.353 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 59.806ms
2024-11-16 12:53:31.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 26.3723ms
2024-11-16 12:53:31.396 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:53:31.413 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:53:31.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 20.685ms
2024-11-16 12:53:31.452 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:53:31.455 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:31.456 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:31.461 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:53:31.462 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:53:31.464 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.6625ms.
2024-11-16 12:53:31.472 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 14.7627ms
2024-11-16 12:53:31.473 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:31.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 22.1567ms
2024-11-16 12:53:31.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 12:53:31.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 12:53:31.504 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 12:53:31.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 12:53:31.504 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 12:53:31.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 12:53:31.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 12:53:31.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 12:53:31.519 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 12:53:31.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 12:53:31.507 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 12:53:31.512 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 11.4923ms
2024-11-16 12:53:31.529 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 12:53:31.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 12:53:31.537 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 12:53:31.520 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 12:53:31.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 14.7711ms
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:53:31.520 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 12:53:31.521 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 12:53:31.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 22.9968ms
2024-11-16 12:53:31.528 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 12:53:31.556 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 50.4496ms
2024-11-16 12:53:31.532 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 12.4585ms
2024-11-16 12:53:31.535 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 12:53:31.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 12:53:31.538 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 12:53:31.570 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 50.0476ms
2024-11-16 12:53:31.542 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 22.0244ms
2024-11-16 12:53:31.543 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 12:53:31.546 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 40.5181ms
2024-11-16 12:53:31.548 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 12:53:31.549 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 12:53:31.549 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 12:53:31.552 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 47.5021ms
2024-11-16 12:53:31.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 52.841ms
2024-11-16 12:53:31.514 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 12:53:31.564 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 12:53:31.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.7477ms
2024-11-16 12:53:31.567 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 61.3976ms
2024-11-16 12:53:31.538 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 200 5518 text/css 17.9194ms
2024-11-16 12:53:31.572 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 12:53:31.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 54.6763ms
2024-11-16 12:53:31.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 60.2646ms
2024-11-16 12:53:31.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 60.8274ms
2024-11-16 12:53:31.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 61.5092ms
2024-11-16 12:53:31.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 79.3527ms
2024-11-16 12:53:31.588 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 12:53:31.593 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 72.996ms
2024-11-16 12:53:31.605 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 40.6702ms
2024-11-16 12:53:31.635 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 12:53:31.645 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 12:53:31.647 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 11.6822ms
2024-11-16 12:53:31.707 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 12:53:31.714 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 12:53:31.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 7.6104ms
2024-11-16 12:53:32.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:53:32.711 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 5.6531ms
2024-11-16 12:53:32.713 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:53:35.129 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:53:35.135 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:35.135 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:53:35.139 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:53:35.140 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:53:35.141 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.4667ms.
2024-11-16 12:53:35.143 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.7293ms
2024-11-16 12:53:35.144 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:53:35.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.777ms
2024-11-16 12:53:35.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:53:35.237 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.4192ms
2024-11-16 12:54:19.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/CreateQuery - null null
2024-11-16 12:54:19.722 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/CreateQuery - 404 0 null 6.45ms
2024-11-16 12:54:19.725 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/CreateQuery, Response status code: 404
2024-11-16 12:54:20.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:54:20.487 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:20.487 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:54:20.491 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:54:20.492 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:54:20.494 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.8337ms.
2024-11-16 12:54:20.495 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.4334ms
2024-11-16 12:54:20.496 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:20.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 15.7521ms
2024-11-16 12:54:20.581 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:54:20.583 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2562ms
2024-11-16 12:54:22.017 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/CreateQuery - null null
2024-11-16 12:54:22.021 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/CreateQuery - 404 0 null 4.1597ms
2024-11-16 12:54:22.023 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/CreateQuery, Response status code: 404
2024-11-16 12:54:24.309 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:54:24.314 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:24.315 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:54:24.319 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:54:24.320 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:54:24.322 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.9855ms.
2024-11-16 12:54:24.322 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.9137ms
2024-11-16 12:54:24.323 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:24.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.4167ms
2024-11-16 12:54:24.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:54:24.406 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6683ms
2024-11-16 12:54:25.644 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - null null
2024-11-16 12:54:25.648 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - 404 0 null 4.3646ms
2024-11-16 12:54:25.650 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/ViewFeedback, Response status code: 404
2024-11-16 12:54:26.501 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:54:26.506 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:26.508 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:54:26.511 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:54:26.512 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:54:26.513 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.1117ms.
2024-11-16 12:54:26.514 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 3.8853ms
2024-11-16 12:54:26.514 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:26.515 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.6309ms
2024-11-16 12:54:26.587 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:54:26.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3232ms
2024-11-16 12:54:52.884 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:54:52.998 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:54:52.999 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:54:53.004 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:54:53.005 +02:00 [INF] Hosting environment: Development
2024-11-16 12:54:53.006 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:54:53.490 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:54:53.994 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:54.004 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:54:54.028 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:54:54.034 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:54:54.106 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 71.6547ms.
2024-11-16 12:54:54.114 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 106.5066ms
2024-11-16 12:54:54.115 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:54.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 633.3586ms
2024-11-16 12:54:54.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:54:54.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:54:54.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.9852ms
2024-11-16 12:54:54.166 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.0144ms
2024-11-16 12:54:57.207 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:54:57.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 23.8516ms
2024-11-16 12:54:57.234 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:54:58.678 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:54:58.687 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:58.688 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:54:58.693 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:54:58.696 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:54:58.700 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 3.4272ms.
2024-11-16 12:54:58.701 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 10.7606ms
2024-11-16 12:54:58.701 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:54:58.703 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 24.5923ms
2024-11-16 12:54:58.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:54:58.802 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.0393ms
2024-11-16 12:55:02.024 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:55:02.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 8.2347ms
2024-11-16 12:55:02.034 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:55:03.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:55:03.013 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:55:03.014 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:55:03.018 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:55:03.019 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:55:03.024 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 5.1175ms.
2024-11-16 12:55:03.026 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 10.5037ms
2024-11-16 12:55:03.026 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:55:03.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 21.5924ms
2024-11-16 12:55:03.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:55:03.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.0384ms
2024-11-16 12:55:05.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - null null
2024-11-16 12:55:05.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - 404 0 null 9.6414ms
2024-11-16 12:55:05.563 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/ViewFeedback, Response status code: 404
2024-11-16 12:55:06.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:55:06.263 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:55:06.265 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:55:06.269 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:55:06.270 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:55:06.273 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.6178ms.
2024-11-16 12:55:06.274 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.6053ms
2024-11-16 12:55:06.275 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:55:06.276 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 17.4534ms
2024-11-16 12:55:06.349 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:55:06.357 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.2383ms
2024-11-16 12:55:07.239 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:55:07.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 4.5787ms
2024-11-16 12:55:07.246 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:55:08.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:55:08.315 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:55:08.316 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:55:08.320 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:55:08.322 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:55:08.324 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.0433ms.
2024-11-16 12:55:08.329 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 11.5783ms
2024-11-16 12:55:08.331 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:55:08.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 32.37ms
2024-11-16 12:55:08.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:55:08.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6338ms
2024-11-16 12:55:10.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/StaffQueries - null null
2024-11-16 12:55:10.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/StaffQueries - 404 0 null 5.4342ms
2024-11-16 12:55:10.844 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/StaffQueries, Response status code: 404
2024-11-16 12:55:16.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:55:16.261 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:55:16.263 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:55:16.266 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:55:16.267 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:55:16.268 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.6717ms.
2024-11-16 12:55:16.269 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.2258ms
2024-11-16 12:55:16.270 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:55:16.271 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 15.7474ms
2024-11-16 12:55:16.352 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:55:16.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.9149ms
2024-11-16 12:56:39.795 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:56:39.901 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:56:39.903 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:56:39.906 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:56:39.907 +02:00 [INF] Hosting environment: Development
2024-11-16 12:56:39.908 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:56:40.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:56:40.997 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:41.010 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:56:41.027 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:56:41.034 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:56:41.133 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 100.9162ms.
2024-11-16 12:56:41.141 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 129.2203ms
2024-11-16 12:56:41.143 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:41.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 674.8718ms
2024-11-16 12:56:41.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:56:41.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:56:41.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.2693ms
2024-11-16 12:56:41.213 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.7299ms
2024-11-16 12:56:43.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:56:43.130 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:43.135 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:56:43.138 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:56:43.146 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:56:43.148 +02:00 [ERR] User not logged in.
2024-11-16 12:56:43.149 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:56:43.150 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 13.9165ms
2024-11-16 12:56:43.151 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:43.151 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 40.5865ms
2024-11-16 12:56:43.157 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:56:43.163 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:43.166 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:56:44.611 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:56:45.122 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:56:45.187 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:56:45.188 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:56:45.192 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:56:45.193 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2026.1321ms
2024-11-16 12:56:45.194 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:45.197 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:ea7e6289-0ec7-dbc7-3e9b-4d0cdd625beb
2024-11-16 12:56:45.203 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2045.5686ms
2024-11-16 12:56:45.206 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:56:45.211 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:45.212 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:56:45.214 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:56:45.214 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.2937ms
2024-11-16 12:56:45.215 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:45.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 9.5105ms
2024-11-16 12:56:45.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:56:45.226 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:45.229 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:56:45.300 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:56:45.369 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:56:45.410 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:56:45.562 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:56:45.580 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:56:45.588 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:56:45.599 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:56:45.602 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:56:45.630 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 29.1569ms.
2024-11-16 12:56:45.631 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 402.0064ms
2024-11-16 12:56:45.632 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:45.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 411.9675ms
2024-11-16 12:56:45.657 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:56:45.660 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:56:45.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2592ms
2024-11-16 12:56:45.677 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.0839ms
2024-11-16 12:56:45.776 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:56:45.778 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:56:45.785 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:56:45.786 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 9.9419ms
2024-11-16 12:56:45.834 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=MMi7R1EOYop2CjwfkRawYQ - null null
2024-11-16 12:56:45.836 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:56:45.880 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: DuBw5h5euRjpDmlxvlO7NA
2024-11-16 12:56:45.882 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: DuBw5h5euRjpDmlxvlO7NA
2024-11-16 12:56:47.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:56:47.297 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:47.298 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:56:47.304 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:56:47.306 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:56:47.308 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.4927ms.
2024-11-16 12:56:47.309 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 8.5039ms
2024-11-16 12:56:47.310 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:47.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 18.3999ms
2024-11-16 12:56:47.325 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: DuBw5h5euRjpDmlxvlO7NA
2024-11-16 12:56:47.327 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: DuBw5h5euRjpDmlxvlO7NA
2024-11-16 12:56:47.330 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:56:47.331 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:56:47.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3865ms
2024-11-16 12:56:47.332 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:56:47.338 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=MMi7R1EOYop2CjwfkRawYQ - 200 null null 1503.9453ms
2024-11-16 12:56:47.341 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.6067ms
2024-11-16 12:56:47.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:56:47.969 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:47.971 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:56:47.974 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:56:48.027 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:56:48.050 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 12:56:48.076 +02:00 [INF] Executing ViewResult, running view Query/StaffQuery/StaffQueries.
2024-11-16 12:56:48.077 +02:00 [ERR] The view 'Query/StaffQuery/StaffQueries' was not found. Searched locations: ["/Views/StaffQuery/Query/StaffQuery/StaffQueries.cshtml","/Views/Shared/Query/StaffQuery/StaffQueries.cshtml"]
2024-11-16 12:56:48.082 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 110.0372ms
2024-11-16 12:56:48.085 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:56:48.086 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Query/StaffQuery/StaffQueries' was not found. The following locations were searched:
/Views/StaffQuery/Query/StaffQuery/StaffQueries.cshtml
/Views/Shared/Query/StaffQuery/StaffQueries.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 12:56:48.128 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 500 null text/html; charset=utf-8 164.9274ms
2024-11-16 12:56:48.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:56:48.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:56:48.151 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6144ms
2024-11-16 12:56:48.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.2425ms
2024-11-16 12:57:44.700 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:57:44.980 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:57:44.982 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:57:44.988 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:57:44.990 +02:00 [INF] Hosting environment: Development
2024-11-16 12:57:44.991 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:57:45.171 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:57:46.122 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:46.136 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:46.157 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:57:46.164 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:57:46.165 +02:00 [ERR] User not logged in.
2024-11-16 12:57:46.177 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:57:46.181 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 40.3146ms
2024-11-16 12:57:46.186 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:46.190 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 1021.3096ms
2024-11-16 12:57:46.198 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:57:46.210 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:46.215 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:47.779 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:57:48.364 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:57:48.460 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:57:48.462 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:57:48.465 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:57:48.467 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2250.6597ms
2024-11-16 12:57:48.468 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:48.472 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:17554200-1cf9-9c0b-cba8-dd548d52dac0
2024-11-16 12:57:48.480 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2281.7322ms
2024-11-16 12:57:48.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:57:48.491 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:48.494 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:48.498 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:57:48.498 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.7378ms
2024-11-16 12:57:48.499 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:48.500 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 18.5827ms
2024-11-16 12:57:48.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:57:48.512 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:48.518 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:48.629 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:57:48.739 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:57:48.801 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:57:49.093 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:57:49.122 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:57:49.134 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:57:49.150 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:57:49.158 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:57:49.256 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 101.3282ms.
2024-11-16 12:57:49.259 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 738.5496ms
2024-11-16 12:57:49.261 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:49.265 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 760.5545ms
2024-11-16 12:57:49.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:57:49.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:57:49.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.6471ms
2024-11-16 12:57:49.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.0852ms
2024-11-16 12:57:49.406 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:57:49.412 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:57:49.424 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:57:49.426 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 20.0504ms
2024-11-16 12:57:49.516 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=TXw8lvxy9hv9jKxJg05CeA - null null
2024-11-16 12:57:49.520 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:57:49.581 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: PzitnkCBKLrhqlk8WsBMEQ
2024-11-16 12:57:49.583 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: PzitnkCBKLrhqlk8WsBMEQ
2024-11-16 12:57:51.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:57:51.814 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:51.819 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:51.823 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:57:51.826 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:57:51.842 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 16.5842ms.
2024-11-16 12:57:51.843 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 22.1302ms
2024-11-16 12:57:51.844 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:51.846 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 42.4831ms
2024-11-16 12:57:51.860 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: PzitnkCBKLrhqlk8WsBMEQ
2024-11-16 12:57:51.862 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: PzitnkCBKLrhqlk8WsBMEQ
2024-11-16 12:57:51.866 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:57:51.867 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=TXw8lvxy9hv9jKxJg05CeA - 200 null null 2350.9978ms
2024-11-16 12:57:51.872 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:57:51.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:57:51.875 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5148ms
2024-11-16 12:57:51.893 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.1613ms
2024-11-16 12:57:54.363 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:57:54.370 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:54.372 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:54.376 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:57:54.459 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:57:54.487 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 12:57:54.504 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 12:57:54.523 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 19.6325ms.
2024-11-16 12:57:54.524 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 151.5463ms
2024-11-16 12:57:54.525 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:54.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 162.5819ms
2024-11-16 12:57:54.550 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:57:54.550 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:57:54.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5373ms
2024-11-16 12:57:54.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.2091ms
2024-11-16 12:57:55.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:57:55.847 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:55.847 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:55.852 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:57:55.853 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:57:55.855 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.2622ms.
2024-11-16 12:57:55.856 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.2888ms
2024-11-16 12:57:55.857 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:55.858 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.3517ms
2024-11-16 12:57:55.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:57:55.886 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2366ms
2024-11-16 12:57:56.515 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/CreateQuery - null null
2024-11-16 12:57:56.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/CreateQuery - 404 0 null 11.073ms
2024-11-16 12:57:56.530 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/CreateQuery, Response status code: 404
2024-11-16 12:57:57.128 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:57:57.132 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:57.133 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:57.139 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:57:57.140 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:57:57.142 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.814ms.
2024-11-16 12:57:57.143 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 8.2608ms
2024-11-16 12:57:57.144 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:57.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 17.3167ms
2024-11-16 12:57:57.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:57:57.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.5541ms
2024-11-16 12:57:57.923 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - null null
2024-11-16 12:57:57.929 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/ViewFeedback - 404 0 null 5.9469ms
2024-11-16 12:57:57.931 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/ViewFeedback, Response status code: 404
2024-11-16 12:57:59.843 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:57:59.849 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:59.851 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:57:59.856 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:57:59.857 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:57:59.859 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.0895ms.
2024-11-16 12:57:59.861 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.9558ms
2024-11-16 12:57:59.862 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:57:59.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 19.8152ms
2024-11-16 12:57:59.935 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:57:59.938 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0083ms
2024-11-16 12:58:33.653 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 12:58:33.760 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 12:58:33.761 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 12:58:33.764 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 12:58:33.765 +02:00 [INF] Hosting environment: Development
2024-11-16 12:58:33.766 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 12:58:34.560 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:58:35.728 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:58:35.743 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:58:35.781 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:58:35.796 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:58:35.982 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 188.0511ms.
2024-11-16 12:58:36.026 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 280.9286ms
2024-11-16 12:58:36.031 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:58:36.031 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:58:36.035 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:58:36.060 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 1508.9663ms
2024-11-16 12:58:36.064 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 31.9794ms
2024-11-16 12:58:36.164 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 128.8801ms
2024-11-16 12:59:06.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:59:06.651 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:06.660 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:06.664 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:06.675 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:59:07.279 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 12:59:07.891 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] IS NULL
2024-11-16 12:59:07.934 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:59:07.937 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 1276.2541ms
2024-11-16 12:59:07.939 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:07.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 1323.6143ms
2024-11-16 12:59:09.238 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:59:09.246 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:09.247 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:09.252 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:09.255 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:59:09.258 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 3.2778ms.
2024-11-16 12:59:09.259 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 11.4079ms
2024-11-16 12:59:09.260 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:09.261 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 22.2099ms
2024-11-16 12:59:09.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:09.284 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5444ms
2024-11-16 12:59:10.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:59:10.205 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:10.207 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:10.211 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:10.212 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:59:10.231 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] IS NULL
2024-11-16 12:59:10.235 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:59:10.238 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 29.6606ms
2024-11-16 12:59:10.239 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:10.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 39.9347ms
2024-11-16 12:59:10.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:59:10.986 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:10.987 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:10.990 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:10.991 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:59:10.992 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.7316ms.
2024-11-16 12:59:10.993 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.5126ms
2024-11-16 12:59:10.994 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:10.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 13.631ms
2024-11-16 12:59:11.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:11.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.166ms
2024-11-16 12:59:12.394 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:59:12.398 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:12.402 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:12.406 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:12.408 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:59:12.409 +02:00 [ERR] User not logged in.
2024-11-16 12:59:12.410 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:59:12.410 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 6.4307ms
2024-11-16 12:59:12.411 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:12.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 16.8284ms
2024-11-16 12:59:12.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:59:12.422 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:12.426 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:13.463 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:59:13.523 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 12:59:13.524 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 12:59:13.525 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 12:59:13.525 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1098.5689ms
2024-11-16 12:59:13.528 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:13.529 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:debe1ce8-ef31-44e4-776e-3b8cde62f89b
2024-11-16 12:59:13.530 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1110.7423ms
2024-11-16 12:59:13.535 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 12:59:13.538 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:13.540 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:13.542 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:59:13.542 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.1555ms
2024-11-16 12:59:13.543 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:13.543 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 8.6742ms
2024-11-16 12:59:13.547 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:59:13.552 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:13.555 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:13.634 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:13.738 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:59:13.778 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:59:13.938 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:59:13.955 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:13.964 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:13.976 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:13.980 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:59:14.008 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 28.9518ms.
2024-11-16 12:59:14.008 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 453.0094ms
2024-11-16 12:59:14.009 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:14.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 463.3294ms
2024-11-16 12:59:14.034 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:14.038 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:14.038 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3062ms
2024-11-16 12:59:14.052 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.7902ms
2024-11-16 12:59:14.167 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:59:14.169 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:59:14.181 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:59:14.182 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 15.5252ms
2024-11-16 12:59:14.224 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=ZjKsx22mB7F9QV1yo-ykdQ - null null
2024-11-16 12:59:14.226 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:59:14.274 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: mC5P2iY5sjG6V0shrUPUtA
2024-11-16 12:59:14.275 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: mC5P2iY5sjG6V0shrUPUtA
2024-11-16 12:59:15.588 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:59:15.593 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:15.594 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:15.597 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:15.599 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:59:15.601 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.146ms.
2024-11-16 12:59:15.602 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.3997ms
2024-11-16 12:59:15.602 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:15.603 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 15.4022ms
2024-11-16 12:59:15.622 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: mC5P2iY5sjG6V0shrUPUtA
2024-11-16 12:59:15.625 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:15.628 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: mC5P2iY5sjG6V0shrUPUtA
2024-11-16 12:59:15.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:15.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7346ms
2024-11-16 12:59:15.634 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:59:15.634 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=ZjKsx22mB7F9QV1yo-ykdQ - 200 null null 1410.5117ms
2024-11-16 12:59:15.640 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.3706ms
2024-11-16 12:59:16.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:59:16.304 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:16.306 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:16.309 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:16.313 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:16.322 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:16.348 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__staffDetail_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:59:16.352 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:59:16.354 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 46.4804ms
2024-11-16 12:59:16.355 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:16.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 55.4596ms
2024-11-16 12:59:17.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:59:17.225 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:17.226 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:17.228 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:17.229 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:59:17.230 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.3005ms.
2024-11-16 12:59:17.230 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.1159ms
2024-11-16 12:59:17.232 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:17.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 11.387ms
2024-11-16 12:59:17.247 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:17.251 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5081ms
2024-11-16 12:59:17.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:59:17.855 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:17.856 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:17.859 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:17.871 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:17.891 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 12:59:17.905 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 12:59:17.918 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 13.9395ms.
2024-11-16 12:59:17.919 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 61.888ms
2024-11-16 12:59:17.920 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:17.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 72.4094ms
2024-11-16 12:59:17.943 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:17.943 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:17.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.936ms
2024-11-16 12:59:17.951 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.6365ms
2024-11-16 12:59:18.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:59:18.852 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:18.853 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:18.856 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:18.860 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:18.863 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:18.877 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staffDetail_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:59:18.878 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 12:59:18.879 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 24.5876ms
2024-11-16 12:59:18.880 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:18.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 32.6861ms
2024-11-16 12:59:19.887 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:59:19.891 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:19.891 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:19.895 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:19.901 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:19.910 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 12:59:19.913 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 12:59:19.917 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 3.3022ms.
2024-11-16 12:59:19.918 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 24.7589ms
2024-11-16 12:59:19.919 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:19.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 33.0405ms
2024-11-16 12:59:19.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:19.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7066ms
2024-11-16 12:59:22.191 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-16 12:59:22.195 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:22.197 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:22.199 +02:00 [INF] User logged out.
2024-11-16 12:59:22.201 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 12:59:22.201 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 2.5235ms
2024-11-16 12:59:22.202 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:22.202 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 11.2914ms
2024-11-16 12:59:22.207 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 12:59:22.209 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 12:59:22.210 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 12:59:22.210 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:22.211 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:22.213 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 12:59:22.226 +02:00 [INF] Executed ViewResult - view Login executed in 13.3083ms.
2024-11-16 12:59:22.227 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 15.0646ms
2024-11-16 12:59:22.229 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:22.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 22.5138ms
2024-11-16 12:59:22.254 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:22.254 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:22.256 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4508ms
2024-11-16 12:59:22.261 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.2921ms
2024-11-16 12:59:27.552 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 225
2024-11-16 12:59:27.557 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 12:59:27.558 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 12:59:27.559 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:27.585 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:27.629 +02:00 [INF] Attempting to log in user with email: Daniel@gmail.com
2024-11-16 12:59:27.657 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 12:59:27.663 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 12:59:28.219 +02:00 [INF] Received HTTP response headers after 550.9552ms - 200
2024-11-16 12:59:28.223 +02:00 [INF] End processing HTTP request after 566.8749ms - 200
2024-11-16 12:59:28.224 +02:00 [INF] User logged in successfully.
2024-11-16 12:59:28.841 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 12:59:28.987 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p1='3', @p0='2024-11-16T10:59:28.8438924Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 12:59:29.010 +02:00 [INF] User Daniel@gmail.com logged in successfully.
2024-11-16 12:59:29.011 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 12:59:29.012 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1425.2697ms
2024-11-16 12:59:29.014 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:29.015 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 1463.7421ms
2024-11-16 12:59:29.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 12:59:29.028 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:29.029 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:29.041 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:29.061 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 12:59:29.083 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 12:59:29.183 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 12:59:29.194 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:29.202 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:29.215 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:29.217 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 12:59:29.222 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 5.2131ms.
2024-11-16 12:59:29.225 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 193.6297ms
2024-11-16 12:59:29.227 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:29.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 206.8557ms
2024-11-16 12:59:29.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:29.278 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.3993ms
2024-11-16 12:59:29.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:29.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.7804ms
2024-11-16 12:59:29.339 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 12:59:29.353 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 12:59:29.356 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 12:59:29.362 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 23.6401ms
2024-11-16 12:59:29.429 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=sO8KVpxfy1zQGgNJAkTzhg - null null
2024-11-16 12:59:29.433 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 12:59:29.458 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: 7t1MWDr_XcNfa7HfYU7OPw
2024-11-16 12:59:29.460 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: 7t1MWDr_XcNfa7HfYU7OPw
2024-11-16 12:59:30.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:59:30.541 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:30.542 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:30.546 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:30.546 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:59:30.550 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 3.3453ms.
2024-11-16 12:59:30.550 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.7866ms
2024-11-16 12:59:30.551 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:30.552 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.1271ms
2024-11-16 12:59:30.559 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: 7t1MWDr_XcNfa7HfYU7OPw
2024-11-16 12:59:30.560 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: 7t1MWDr_XcNfa7HfYU7OPw
2024-11-16 12:59:30.561 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 12:59:30.561 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=sO8KVpxfy1zQGgNJAkTzhg - 200 null null 1132.8274ms
2024-11-16 12:59:30.579 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:30.581 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:30.583 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6957ms
2024-11-16 12:59:30.595 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.5583ms
2024-11-16 12:59:31.246 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:59:31.250 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:31.252 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:31.257 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:32.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:59:32.835 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:32.836 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:32.841 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:32.858 +02:00 [INF] Executed DbCommand (1,599ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:32.859 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:32.879 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 12:59:32.883 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 12:59:32.886 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 2.5177ms.
2024-11-16 12:59:32.888 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 50.4846ms
2024-11-16 12:59:32.889 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:32.890 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 60.0762ms
2024-11-16 12:59:32.894 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 12:59:32.899 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 12:59:32.902 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 2.7424ms.
2024-11-16 12:59:32.904 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 1649.7176ms
2024-11-16 12:59:32.905 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:32.906 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 1660.6751ms
2024-11-16 12:59:32.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:32.916 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.4229ms
2024-11-16 12:59:32.917 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:32.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.7703ms
2024-11-16 12:59:34.000 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:59:34.004 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:34.005 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:34.009 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:34.013 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:34.018 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:34.039 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__staffDetail_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:59:34.042 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml.
2024-11-16 12:59:34.047 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml executed in 4.7484ms.
2024-11-16 12:59:34.048 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 41.0044ms
2024-11-16 12:59:34.049 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:34.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 200 null text/html; charset=utf-8 49.1046ms
2024-11-16 12:59:34.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:34.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:34.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5687ms
2024-11-16 12:59:34.069 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.1923ms
2024-11-16 12:59:34.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 12:59:34.963 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:34.965 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:34.968 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:35.380 +02:00 [INF] Executed DbCommand (411ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:35.388 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 12:59:35.391 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 12:59:35.393 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 2.0279ms.
2024-11-16 12:59:35.396 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 430.1331ms
2024-11-16 12:59:35.399 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:35.400 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 440.0389ms
2024-11-16 12:59:35.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:35.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2758ms
2024-11-16 12:59:36.032 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:59:36.036 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:36.036 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:36.039 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:36.040 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:59:36.041 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.2648ms.
2024-11-16 12:59:36.042 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.4698ms
2024-11-16 12:59:36.043 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:36.043 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 10.6923ms
2024-11-16 12:59:36.061 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:36.063 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1885ms
2024-11-16 12:59:36.644 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:59:36.649 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:36.651 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:36.654 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:36.671 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:36.677 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:43.675 +02:00 [INF] Executed DbCommand (6,995ms) [Parameters=[@__staffDetail_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:59:43.678 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml.
2024-11-16 12:59:43.682 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml executed in 4.2702ms.
2024-11-16 12:59:43.684 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 7032.1093ms
2024-11-16 12:59:43.685 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:43.687 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 200 null text/html; charset=utf-8 7042.4525ms
2024-11-16 12:59:43.726 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:43.727 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:43.733 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.5025ms
2024-11-16 12:59:43.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.6533ms
2024-11-16 12:59:50.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:59:50.669 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:50.670 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:50.672 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:50.672 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:59:50.674 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.141ms.
2024-11-16 12:59:50.675 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 4.2424ms
2024-11-16 12:59:50.676 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:50.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.9865ms
2024-11-16 12:59:50.694 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:50.696 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.6252ms
2024-11-16 12:59:51.332 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:59:51.339 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:51.339 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:51.343 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:51.346 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:51.352 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:51.369 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staffDetail_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:59:51.372 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml.
2024-11-16 12:59:51.374 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml executed in 1.5522ms.
2024-11-16 12:59:51.374 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 33.9474ms
2024-11-16 12:59:51.375 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:51.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 200 null text/html; charset=utf-8 44.6812ms
2024-11-16 12:59:51.395 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:51.399 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:51.401 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4161ms
2024-11-16 12:59:51.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.3224ms
2024-11-16 12:59:57.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 12:59:57.670 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:57.671 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:57.674 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:57.675 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 12:59:57.677 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.5927ms.
2024-11-16 12:59:57.678 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.0538ms
2024-11-16 12:59:57.678 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:57.679 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 18.5211ms
2024-11-16 12:59:57.707 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:57.708 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7244ms
2024-11-16 12:59:58.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 12:59:58.959 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:58.959 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 12:59:58.963 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 12:59:58.970 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 12:59:58.974 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 12:59:58.989 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__staffDetail_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 12:59:58.992 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml.
2024-11-16 12:59:58.993 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml executed in 1.1079ms.
2024-11-16 12:59:58.994 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 32.2279ms
2024-11-16 12:59:58.995 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 12:59:58.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 200 null text/html; charset=utf-8 44.0474ms
2024-11-16 12:59:59.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 12:59:59.019 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 12:59:59.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6052ms
2024-11-16 12:59:59.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.7834ms
2024-11-16 13:00:01.996 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 13:00:02.002 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:02.003 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:02.007 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 13:00:02.008 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 13:00:02.009 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.2888ms.
2024-11-16 13:00:02.010 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.2747ms
2024-11-16 13:00:02.011 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:02.012 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 15.8679ms
2024-11-16 13:00:02.028 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:00:02.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.8685ms
2024-11-16 13:00:04.843 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-16 13:00:04.852 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:04.854 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:04.855 +02:00 [INF] User logged out.
2024-11-16 13:00:04.855 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:00:04.856 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 1.0621ms
2024-11-16 13:00:04.856 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:04.857 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 13.9803ms
2024-11-16 13:00:04.860 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:00:04.862 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 13:00:04.863 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 13:00:04.864 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:04.865 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:04.867 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 13:00:04.868 +02:00 [INF] Executed ViewResult - view Login executed in 1.4543ms.
2024-11-16 13:00:04.869 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2.1562ms
2024-11-16 13:00:04.870 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:04.871 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 10.2883ms
2024-11-16 13:00:04.892 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:00:04.893 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:00:04.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0721ms
2024-11-16 13:00:04.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.4675ms
2024-11-16 13:00:13.085 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 236
2024-11-16 13:00:13.090 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 13:00:13.092 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-16 13:00:13.094 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:13.095 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:13.098 +02:00 [INF] Attempting to log in user with email: trentfisher16@gmail.com
2024-11-16 13:00:13.099 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 13:00:13.100 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 13:00:13.413 +02:00 [INF] Received HTTP response headers after 312.1082ms - 200
2024-11-16 13:00:13.415 +02:00 [INF] End processing HTTP request after 315.9058ms - 200
2024-11-16 13:00:13.418 +02:00 [INF] User logged in successfully.
2024-11-16 13:00:13.759 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:00:13.773 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='45', @p0='2024-11-16T11:00:13.7637129Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 13:00:13.777 +02:00 [INF] User trentfisher16@gmail.com logged in successfully.
2024-11-16 13:00:13.778 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:00:13.778 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 682.7889ms
2024-11-16 13:00:13.779 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:13.780 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 694.6178ms
2024-11-16 13:00:13.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:00:13.792 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:13.793 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:14.260 +02:00 [INF] Executed DbCommand (464ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:00:14.280 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:00:14.307 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:00:14.389 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:00:14.403 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:00:14.409 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:00:14.423 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:00:14.426 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:00:14.431 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 5.2302ms.
2024-11-16 13:00:14.434 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 638.5485ms
2024-11-16 13:00:14.435 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:14.437 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 649.3426ms
2024-11-16 13:00:14.471 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:00:14.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:00:14.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.457ms
2024-11-16 13:00:14.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3689ms
2024-11-16 13:00:14.525 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:00:14.528 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:00:14.531 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:00:14.533 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 8.4373ms
2024-11-16 13:00:14.548 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=kE0GpM-Sl4GSnFMcbot5Gg - null null
2024-11-16 13:00:14.555 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:00:14.623 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: RkPXonBElnL20M8f_jJxwg
2024-11-16 13:00:14.624 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: RkPXonBElnL20M8f_jJxwg
2024-11-16 13:00:15.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-16 13:00:15.960 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:15.961 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:15.966 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 13:00:15.966 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-16 13:00:15.968 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.6585ms.
2024-11-16 13:00:15.969 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.9916ms
2024-11-16 13:00:15.970 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:15.971 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.74ms
2024-11-16 13:00:15.975 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: RkPXonBElnL20M8f_jJxwg
2024-11-16 13:00:15.976 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: RkPXonBElnL20M8f_jJxwg
2024-11-16 13:00:15.977 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:00:15.977 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=kE0GpM-Sl4GSnFMcbot5Gg - 200 null null 1428.8794ms
2024-11-16 13:00:15.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:00:15.995 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:00:15.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.1387ms
2024-11-16 13:00:16.002 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.0434ms
2024-11-16 13:00:17.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 13:00:17.009 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:17.011 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:17.017 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 13:00:17.022 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:00:17.032 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 13:00:17.035 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 13:00:17.039 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 3.261ms.
2024-11-16 13:00:17.041 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 27.9342ms
2024-11-16 13:00:17.042 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:17.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 41.896ms
2024-11-16 13:00:17.061 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:00:17.062 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:00:17.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.2229ms
2024-11-16 13:00:17.072 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.6018ms
2024-11-16 13:00:19.034 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-16 13:00:19.041 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:19.042 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:19.046 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 13:00:19.052 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:00:19.056 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:00:19.071 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staffDetail_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-16 13:00:19.073 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-11-16 13:00:19.075 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 30.8348ms
2024-11-16 13:00:19.075 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:19.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 404 null text/plain; charset=utf-8 41.862ms
2024-11-16 13:00:20.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 13:00:20.035 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:20.037 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 13:00:20.040 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 13:00:20.045 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:00:20.055 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-16 13:00:20.058 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-16 13:00:20.060 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 1.5749ms.
2024-11-16 13:00:20.061 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 22.8507ms
2024-11-16 13:00:20.061 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 13:00:20.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 35.5305ms
2024-11-16 13:00:20.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:00:20.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.8705ms
2024-11-16 13:02:06.009 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 13:02:06.206 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 13:02:06.212 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 13:02:06.217 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 13:02:06.219 +02:00 [INF] Hosting environment: Development
2024-11-16 13:02:06.220 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 13:02:06.679 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-16 13:02:07.532 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 13:02:07.550 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-16 13:02:07.577 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-16 13:02:07.587 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:02:07.588 +02:00 [ERR] User not logged in.
2024-11-16 13:02:07.603 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:02:07.607 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 51.5693ms
2024-11-16 13:02:07.611 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-16 13:02:07.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 940.9164ms
2024-11-16 13:02:07.629 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:02:07.643 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:02:07.649 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:02:09.397 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 13:02:10.259 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:02:10.335 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:02:10.338 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 13:02:10.341 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 13:02:10.342 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2691.5501ms
2024-11-16 13:02:10.344 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:02:10.348 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:77238baa-0c27-0c72-dcd6-b81dd00060ee
2024-11-16 13:02:10.354 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2724.8733ms
2024-11-16 13:02:10.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 13:02:10.366 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:02:10.368 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:02:10.370 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:02:10.370 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.4778ms
2024-11-16 13:02:10.371 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:02:10.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 14.751ms
2024-11-16 13:02:10.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:02:10.382 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:02:10.385 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:02:10.483 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:02:10.603 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:02:10.679 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:02:10.891 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:02:10.915 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:02:10.926 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:02:10.940 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:02:10.951 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:02:11.049 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 102.2553ms.
2024-11-16 13:02:11.053 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 666.9969ms
2024-11-16 13:02:11.055 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:02:11.057 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 681.8985ms
2024-11-16 13:02:11.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:02:11.166 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.3087ms
2024-11-16 13:02:11.201 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:02:11.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1791ms
2024-11-16 13:02:11.247 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:02:11.251 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:02:11.259 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:02:11.261 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 14.3327ms
2024-11-16 13:02:11.346 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=PEfmdBvXsYf9m43CSSU1Mw - null null
2024-11-16 13:02:11.352 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:02:11.475 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: kNlcNxJErui-EwWEM0uJWA
2024-11-16 13:02:11.481 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: kNlcNxJErui-EwWEM0uJWA
2024-11-16 13:07:06.311 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 13:07:06.467 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 13:07:06.468 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 13:07:06.472 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 13:07:06.474 +02:00 [INF] Hosting environment: Development
2024-11-16 13:07:06.474 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 13:07:06.676 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:07:06.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:07:07.272 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:07:07.277 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:07.288 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:07:07.290 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:07:07.297 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 621.2226ms
2024-11-16 13:07:07.301 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=UFFlzoNaB98yCxvsNIfx9Q - null null
2024-11-16 13:07:07.303 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:07:07.308 +02:00 [ERR] User not logged in.
2024-11-16 13:07:07.310 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:07:07.324 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:07:07.329 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 34.6747ms
2024-11-16 13:07:07.331 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:07.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 391.3819ms
2024-11-16 13:07:07.337 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: Ea_QuZzcxxXnuvdK-QNxkg
2024-11-16 13:07:07.339 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: Ea_QuZzcxxXnuvdK-QNxkg
2024-11-16 13:07:07.346 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:07:07.351 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:07.355 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:07:08.787 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 13:07:09.382 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:07:09.459 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:07:09.461 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 13:07:09.464 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 13:07:09.465 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2109.2002ms
2024-11-16 13:07:09.466 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:09.469 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:3c371a02-a05f-b94c-4c2f-2d059c6fd8ba
2024-11-16 13:07:09.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2126.2972ms
2024-11-16 13:07:09.478 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 13:07:09.484 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:09.486 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:07:09.487 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:07:09.488 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.4894ms
2024-11-16 13:07:09.488 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:09.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 11.1438ms
2024-11-16 13:07:09.493 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:07:09.496 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:09.497 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:07:09.582 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:07:09.699 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:07:09.754 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:07:09.960 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:07:09.989 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:07:10.000 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:07:10.018 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:07:10.031 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:07:10.167 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 141.6875ms.
2024-11-16 13:07:10.171 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 673.3483ms
2024-11-16 13:07:10.173 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:10.177 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 683.33ms
2024-11-16 13:07:10.207 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: Ea_QuZzcxxXnuvdK-QNxkg
2024-11-16 13:07:10.209 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: Ea_QuZzcxxXnuvdK-QNxkg
2024-11-16 13:07:10.213 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:07:10.213 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=UFFlzoNaB98yCxvsNIfx9Q - 200 null null 2912.5495ms
2024-11-16 13:07:10.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 13:07:10.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:07:10.276 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:07:10.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.7438ms
2024-11-16 13:07:10.287 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-16 13:07:10.293 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 17.3676ms
2024-11-16 13:07:10.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.8253ms
2024-11-16 13:07:10.462 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:07:10.472 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:07:10.473 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:07:10.476 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 14.1259ms
2024-11-16 13:07:10.497 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=q5YLECnsscwlVdqse1_ssQ - null null
2024-11-16 13:07:10.507 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:07:10.660 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: _Bya4ZJh12hsOO5RmjL73A
2024-11-16 13:07:10.661 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: _Bya4ZJh12hsOO5RmjL73A
2024-11-16 13:07:23.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/get-available-queries - null null
2024-11-16 13:07:23.306 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/get-available-queries - 404 0 null 11.4923ms
2024-11-16 13:07:23.309 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/get-available-queries, Response status code: 404
2024-11-16 13:07:35.809 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:07:35.818 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:35.819 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:07:35.889 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:07:35.904 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:07:35.916 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:07:35.966 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:07:35.978 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:07:35.981 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:07:35.989 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:07:35.991 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:07:35.996 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 5.014ms.
2024-11-16 13:07:35.998 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 177.6971ms
2024-11-16 13:07:35.998 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:07:35.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 190.2348ms
2024-11-16 13:07:36.005 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: _Bya4ZJh12hsOO5RmjL73A
2024-11-16 13:07:36.006 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: _Bya4ZJh12hsOO5RmjL73A
2024-11-16 13:07:36.007 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:07:36.008 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=q5YLECnsscwlVdqse1_ssQ - 200 null null 25511.2472ms
2024-11-16 13:07:36.019 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:07:36.019 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:07:36.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2139ms
2024-11-16 13:07:36.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.7699ms
2024-11-16 13:07:36.073 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:07:36.076 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:07:36.078 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:07:36.079 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 6.1631ms
2024-11-16 13:07:36.093 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=uhPhocyzSoHRJIzPzI4xWg - null null
2024-11-16 13:07:36.096 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:07:36.137 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: fHrY6QVaImjapWYaMT7KUQ
2024-11-16 13:07:36.138 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: fHrY6QVaImjapWYaMT7KUQ
2024-11-16 13:07:37.490 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/get-available-queries - null null
2024-11-16 13:07:37.495 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/get-available-queries - 404 0 null 5.3305ms
2024-11-16 13:07:37.497 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/get-available-queries, Response status code: 404
2024-11-16 13:08:18.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:08:18.514 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:08:18.515 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:08:18.523 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:08:18.534 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:08:18.542 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:08:18.587 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:08:18.598 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:08:18.604 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:08:18.607 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:08:18.608 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:08:18.611 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 2.9646ms.
2024-11-16 13:08:18.612 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 95.6362ms
2024-11-16 13:08:18.613 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:08:18.615 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 109.3327ms
2024-11-16 13:08:18.622 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: fHrY6QVaImjapWYaMT7KUQ
2024-11-16 13:08:18.623 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: fHrY6QVaImjapWYaMT7KUQ
2024-11-16 13:08:18.623 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:08:18.624 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=uhPhocyzSoHRJIzPzI4xWg - 200 null null 42531.9427ms
2024-11-16 13:08:18.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:08:18.635 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:08:18.635 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0496ms
2024-11-16 13:08:18.639 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.7352ms
2024-11-16 13:08:18.678 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:08:18.681 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:08:18.684 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:08:18.686 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 8.1037ms
2024-11-16 13:08:18.703 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=V_aJgj3ONevujiBCvMLQOg - null null
2024-11-16 13:08:18.707 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:08:18.751 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: vdr-mcdSJCXw6ucYcyXk4g
2024-11-16 13:08:18.752 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: vdr-mcdSJCXw6ucYcyXk4g
2024-11-16 13:08:20.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/get-available-queries - null null
2024-11-16 13:08:20.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/get-available-queries - 404 0 null 5.9521ms
2024-11-16 13:08:20.271 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/get-available-queries, Response status code: 404
2024-11-16 13:11:56.431 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 13:11:56.562 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 13:11:56.563 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 13:11:56.567 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 13:11:56.568 +02:00 [INF] Hosting environment: Development
2024-11-16 13:11:56.569 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 13:11:56.761 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:11:56.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:11:57.475 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:11:57.480 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:11:57.493 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:11:57.494 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:11:57.500 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 740.3854ms
2024-11-16 13:11:57.506 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Yj0gaDg4U1WSj0JsO23-cg - null null
2024-11-16 13:11:57.508 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:11:57.509 +02:00 [ERR] User not logged in.
2024-11-16 13:11:57.510 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:11:57.523 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:11:57.527 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 29.7983ms
2024-11-16 13:11:57.528 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:11:57.530 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 562.4269ms
2024-11-16 13:11:57.532 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: PUlZrPZNja5n_0R5lU8PFQ
2024-11-16 13:11:57.533 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: PUlZrPZNja5n_0R5lU8PFQ
2024-11-16 13:11:57.539 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:11:57.544 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:11:57.548 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:11:59.448 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 13:12:00.021 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:12:00.108 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:12:00.111 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 13:12:00.114 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 13:12:00.115 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2566.1203ms
2024-11-16 13:12:00.116 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:00.119 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:0fc3de27-36ab-60db-5551-804d46e8cc5d
2024-11-16 13:12:00.127 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2587.5704ms
2024-11-16 13:12:00.127 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 13:12:00.137 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:00.140 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:12:00.144 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:12:00.145 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.5003ms
2024-11-16 13:12:00.146 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:00.147 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 19.8472ms
2024-11-16 13:12:00.155 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:12:00.160 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:00.161 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:12:00.261 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:12:00.365 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:12:00.435 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:12:00.629 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:12:00.655 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:12:00.667 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:12:00.680 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:12:00.689 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:12:00.802 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 118.0046ms.
2024-11-16 13:12:00.807 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 644.8243ms
2024-11-16 13:12:00.810 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:00.813 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 658.4983ms
2024-11-16 13:12:00.896 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: PUlZrPZNja5n_0R5lU8PFQ
2024-11-16 13:12:00.899 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: PUlZrPZNja5n_0R5lU8PFQ
2024-11-16 13:12:00.907 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:12:00.910 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Yj0gaDg4U1WSj0JsO23-cg - 200 null null 3404.4373ms
2024-11-16 13:12:00.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:12:00.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:12:01.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 16.3405ms
2024-11-16 13:12:01.054 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.1449ms
2024-11-16 13:12:01.259 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:12:01.270 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:12:01.323 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:12:01.349 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 89.8983ms
2024-11-16 13:12:01.625 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=lqhXHdtdqAprSNHg-JxvJQ - null null
2024-11-16 13:12:01.636 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:12:01.724 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: DN8AgNBf6TZViXwwneX0sQ
2024-11-16 13:12:01.755 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: DN8AgNBf6TZViXwwneX0sQ
2024-11-16 13:12:03.038 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:12:03.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 10.5892ms
2024-11-16 13:12:03.052 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:12:05.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:05.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 9.0405ms
2024-11-16 13:12:05.871 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:12:07.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:12:07.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 6.3191ms
2024-11-16 13:12:07.015 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:12:07.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:12:07.607 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 4.4242ms
2024-11-16 13:12:07.610 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:12:07.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:12:07.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 4.6994ms
2024-11-16 13:12:07.815 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:12:07.991 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:12:07.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 5.1534ms
2024-11-16 13:12:07.998 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:12:08.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:12:08.196 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 5.8752ms
2024-11-16 13:12:08.199 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:12:26.099 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 13:12:26.198 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 13:12:26.199 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 13:12:26.202 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 13:12:26.205 +02:00 [INF] Hosting environment: Development
2024-11-16 13:12:26.206 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 13:12:26.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:12:26.733 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:26.743 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:12:26.754 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:12:26.755 +02:00 [ERR] User not logged in.
2024-11-16 13:12:26.767 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:12:26.771 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 23.1811ms
2024-11-16 13:12:26.773 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:26.779 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 511.2777ms
2024-11-16 13:12:26.784 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:12:26.795 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:26.799 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:12:27.700 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:12:27.710 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:12:27.722 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:12:27.725 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 24.9029ms
2024-11-16 13:12:27.729 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=jSaOV5LKJjBPjlwKa0bdDw - null null
2024-11-16 13:12:27.735 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:12:27.760 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: uaRw3PdYOZ99rNVVoJiM2g
2024-11-16 13:12:27.762 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: uaRw3PdYOZ99rNVVoJiM2g
2024-11-16 13:12:28.198 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 13:12:28.655 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:12:28.721 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:12:28.725 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 13:12:28.730 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 13:12:28.733 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1933.5379ms
2024-11-16 13:12:28.734 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:28.737 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:4911d67e-ea2d-a4fc-b7a8-e6809a810158
2024-11-16 13:12:28.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1958.2588ms
2024-11-16 13:12:28.744 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 13:12:28.749 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:28.751 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:12:28.753 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:12:28.753 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.4828ms
2024-11-16 13:12:28.754 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:28.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 10.3404ms
2024-11-16 13:12:28.760 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:12:28.763 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:28.763 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:12:28.846 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:12:28.922 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:12:28.966 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:12:29.109 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:12:29.134 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:12:29.145 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:12:29.157 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:12:29.164 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:12:29.263 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 102.0726ms.
2024-11-16 13:12:29.268 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 502.5885ms
2024-11-16 13:12:29.269 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:29.277 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 517.4869ms
2024-11-16 13:12:29.284 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: uaRw3PdYOZ99rNVVoJiM2g
2024-11-16 13:12:29.288 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: uaRw3PdYOZ99rNVVoJiM2g
2024-11-16 13:12:29.295 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:12:29.297 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=jSaOV5LKJjBPjlwKa0bdDw - 200 null null 1568.0808ms
2024-11-16 13:12:29.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:12:29.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:12:29.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.7189ms
2024-11-16 13:12:29.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:12:29.352 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:12:29.353 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:12:29.366 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 20.2246ms
2024-11-16 13:12:29.366 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.5144ms
2024-11-16 13:12:29.435 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Asr4uDCaNHVCC9ZVI00LXA - null null
2024-11-16 13:12:29.439 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:12:29.473 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: UhdBKKJyKVkgLKfU1HNDYA
2024-11-16 13:12:29.485 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: UhdBKKJyKVkgLKfU1HNDYA
2024-11-16 13:12:31.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:12:31.174 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 10.2157ms
2024-11-16 13:12:31.177 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:12:33.174 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:33.181 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 7.1038ms
2024-11-16 13:12:33.184 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:12:33.557 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:33.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 5.2977ms
2024-11-16 13:12:33.564 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:12:33.742 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:33.746 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 4.171ms
2024-11-16 13:12:33.749 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:12:33.926 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:33.930 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 4.3703ms
2024-11-16 13:12:33.932 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:12:36.177 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:12:36.187 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:36.189 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:12:36.251 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:12:36.263 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:12:36.272 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:12:36.404 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:12:36.421 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:12:36.427 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:12:36.432 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:12:36.434 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:12:36.443 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 8.7537ms.
2024-11-16 13:12:36.444 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 253.4597ms
2024-11-16 13:12:36.445 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:12:36.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 269.883ms
2024-11-16 13:12:36.452 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: UhdBKKJyKVkgLKfU1HNDYA
2024-11-16 13:12:36.453 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: UhdBKKJyKVkgLKfU1HNDYA
2024-11-16 13:12:36.455 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:12:36.456 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Asr4uDCaNHVCC9ZVI00LXA - 200 null null 7020.5567ms
2024-11-16 13:12:36.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 13:12:36.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 13:12:36.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 13:12:36.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 13:12:36.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 13:12:36.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-16 13:12:36.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 13:12:36.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 13:12:36.495 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-16 13:12:36.486 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 13:12:36.486 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 13:12:36.486 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:12:36.486 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 13:12:36.487 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 13:12:36.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 13:12:36.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 13:12:36.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 13:12:36.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 13:12:36.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-16 13:12:36.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 13:12:36.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-16 13:12:36.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-16 13:12:36.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-16 13:12:36.490 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:12:36.495 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 13:12:36.495 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 13:12:36.495 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 13:12:36.495 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 13:12:36.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 13:12:36.497 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 7.8886ms
2024-11-16 13:12:36.497 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 13:12:36.498 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 13:12:36.498 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 13:12:36.501 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 13:12:36.501 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 13:12:36.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 16.0628ms
2024-11-16 13:12:36.507 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 13:12:36.509 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 13:12:36.511 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 13:12:36.512 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 13:12:36.512 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 13:12:36.514 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 13:12:36.515 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-16 13:12:36.516 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 13:12:36.518 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-16 13:12:36.519 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-16 13:12:36.520 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-16 13:12:36.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 38.7496ms
2024-11-16 13:12:36.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 39.7239ms
2024-11-16 13:12:36.522 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 48.7268ms
2024-11-16 13:12:36.523 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 41.2248ms
2024-11-16 13:12:36.527 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 13:12:36.528 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 54.9367ms
2024-11-16 13:12:36.529 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 46.8234ms
2024-11-16 13:12:36.529 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 47.1895ms
2024-11-16 13:12:36.530 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 44.1781ms
2024-11-16 13:12:36.531 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 44.9534ms
2024-11-16 13:12:36.531 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.4536ms
2024-11-16 13:12:36.534 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 47.8754ms
2024-11-16 13:12:36.535 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 48.7238ms
2024-11-16 13:12:36.536 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 48.5019ms
2024-11-16 13:12:36.537 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 49.448ms
2024-11-16 13:12:36.539 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 50.4455ms
2024-11-16 13:12:36.539 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 50.9675ms
2024-11-16 13:12:36.540 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 51.758ms
2024-11-16 13:12:36.544 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 55.7961ms
2024-11-16 13:12:36.545 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 56.4367ms
2024-11-16 13:12:36.546 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 56.1615ms
2024-11-16 13:12:36.546 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 56.7817ms
2024-11-16 13:12:36.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 70.257ms
2024-11-16 13:12:36.563 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 13:12:36.587 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 13:12:36.589 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 26.424ms
2024-11-16 13:12:36.622 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 13:12:36.628 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 13:12:36.630 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 7.7559ms
2024-11-16 13:12:36.663 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:12:36.666 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:12:36.667 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:12:36.668 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 5.5398ms
2024-11-16 13:12:36.693 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=xljT4F5clAMGBNNqNbz0ZQ - null null
2024-11-16 13:12:36.696 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:12:36.735 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: CXnF7cmHCeN4XrAiJ9LPsw
2024-11-16 13:12:36.736 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: CXnF7cmHCeN4XrAiJ9LPsw
2024-11-16 13:12:36.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 13:12:36.753 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 13:12:36.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 5.4393ms
2024-11-16 13:12:37.912 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:12:37.916 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 4.0904ms
2024-11-16 13:12:37.919 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:12:39.211 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:39.214 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 3.4071ms
2024-11-16 13:12:39.217 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:12:39.578 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:39.582 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 3.8519ms
2024-11-16 13:12:39.585 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:12:39.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:39.749 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 4.0204ms
2024-11-16 13:12:39.752 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:12:39.914 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:12:39.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 4.1596ms
2024-11-16 13:12:39.920 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:13:04.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:13:04.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 4.5108ms
2024-11-16 13:13:04.292 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:13:12.319 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/10 - null null
2024-11-16 13:13:12.324 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/10 - 404 0 null 4.6489ms
2024-11-16 13:13:12.327 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/10, Response status code: 404
2024-11-16 13:14:55.688 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 13:14:55.850 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 13:14:55.851 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 13:14:55.853 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 13:14:55.854 +02:00 [INF] Hosting environment: Development
2024-11-16 13:14:55.854 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 13:14:55.998 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:14:56.312 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:14:56.575 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:14:56.579 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:14:56.595 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:14:56.597 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:14:56.603 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 604.9333ms
2024-11-16 13:14:56.604 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=LSqGV8UFhhQLjZ6P7dfK2w - null null
2024-11-16 13:14:56.609 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:14:56.610 +02:00 [ERR] User not logged in.
2024-11-16 13:14:56.611 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:14:56.624 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:14:56.627 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 26.8705ms
2024-11-16 13:14:56.628 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:14:56.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 316.7719ms
2024-11-16 13:14:56.631 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: TyPpOeLptYaggEoXXg-a3A
2024-11-16 13:14:56.632 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: TyPpOeLptYaggEoXXg-a3A
2024-11-16 13:14:56.637 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:14:56.642 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:14:56.647 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:14:58.312 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 13:14:58.865 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:14:58.936 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:14:58.939 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 13:14:58.942 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 13:14:58.943 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2294.8096ms
2024-11-16 13:14:58.945 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:14:58.958 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:ba1df595-29af-191b-8650-2035541df7de
2024-11-16 13:14:58.965 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2328.4071ms
2024-11-16 13:14:58.968 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 13:14:58.979 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:14:58.982 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:14:58.985 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:14:58.986 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.4825ms
2024-11-16 13:14:58.988 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:14:58.989 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 21.2784ms
2024-11-16 13:14:58.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:14:58.997 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:14:58.998 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:14:59.082 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:14:59.182 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:14:59.251 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:14:59.465 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:14:59.492 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:14:59.505 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:14:59.521 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:14:59.530 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:14:59.644 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 117.9178ms.
2024-11-16 13:14:59.648 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 649.481ms
2024-11-16 13:14:59.650 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:14:59.654 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 660.0816ms
2024-11-16 13:14:59.678 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: TyPpOeLptYaggEoXXg-a3A
2024-11-16 13:14:59.679 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: TyPpOeLptYaggEoXXg-a3A
2024-11-16 13:14:59.683 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:14:59.684 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=LSqGV8UFhhQLjZ6P7dfK2w - 200 null null 3080.2969ms
2024-11-16 13:14:59.723 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:14:59.725 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:14:59.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.4079ms
2024-11-16 13:14:59.794 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:14:59.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.6846ms
2024-11-16 13:14:59.800 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:14:59.801 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:14:59.802 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 8.2594ms
2024-11-16 13:14:59.827 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=UKvuj_wKFngy9eWWUq_JcQ - null null
2024-11-16 13:14:59.832 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:14:59.952 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: Db0Abim3B0iq0A_S8a3wfg
2024-11-16 13:14:59.956 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: Db0Abim3B0iq0A_S8a3wfg
2024-11-16 13:15:02.673 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - null null
2024-11-16 13:15:02.685 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/1 - 404 0 null 12.5255ms
2024-11-16 13:15:02.689 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/1, Response status code: 404
2024-11-16 13:15:16.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - null null
2024-11-16 13:15:16.827 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/getQueriesForStaff/2 - 404 0 null 5.7257ms
2024-11-16 13:15:16.829 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/getQueriesForStaff/2, Response status code: 404
2024-11-16 13:19:31.964 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 13:19:32.070 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 13:19:32.073 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 13:19:32.076 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 13:19:32.077 +02:00 [INF] Hosting environment: Development
2024-11-16 13:19:32.077 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 13:19:32.183 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:19:32.423 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:19:32.688 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:19:32.693 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:32.702 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:19:32.703 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:19:32.706 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 524.208ms
2024-11-16 13:19:32.709 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=u6_YeSGmmav4NUm6sYSONw - null null
2024-11-16 13:19:32.715 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:19:32.716 +02:00 [ERR] User not logged in.
2024-11-16 13:19:32.718 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:19:32.729 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:19:32.734 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 27.1487ms
2024-11-16 13:19:32.736 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:32.736 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: h_BAYikSTNU6mp6eZZECUw
2024-11-16 13:19:32.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 313.6682ms
2024-11-16 13:19:32.737 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: h_BAYikSTNU6mp6eZZECUw
2024-11-16 13:19:32.744 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:19:32.749 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:32.753 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:19:34.147 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 13:19:34.639 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:19:34.705 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:19:34.708 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 13:19:34.711 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 13:19:34.714 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1960.2243ms
2024-11-16 13:19:34.717 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:34.721 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a66c6fe6-cf61-5b64-6673-57709fe042a2
2024-11-16 13:19:34.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1983.1085ms
2024-11-16 13:19:34.731 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 13:19:34.738 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:34.740 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:19:34.742 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:19:34.742 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.5745ms
2024-11-16 13:19:34.743 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:34.744 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 12.8655ms
2024-11-16 13:19:34.753 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:19:34.757 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:34.758 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:19:34.841 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:19:34.943 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:19:34.985 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:19:35.160 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:19:35.187 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:19:35.197 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:19:35.212 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:19:35.219 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:19:35.305 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 87.6932ms.
2024-11-16 13:19:35.308 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 549.6812ms
2024-11-16 13:19:35.310 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:35.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 562.2306ms
2024-11-16 13:19:35.321 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: h_BAYikSTNU6mp6eZZECUw
2024-11-16 13:19:35.324 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: h_BAYikSTNU6mp6eZZECUw
2024-11-16 13:19:35.333 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:19:35.334 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=u6_YeSGmmav4NUm6sYSONw - 200 null null 2625.2105ms
2024-11-16 13:19:35.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:19:35.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:19:35.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.3167ms
2024-11-16 13:19:35.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.9331ms
2024-11-16 13:19:35.491 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:19:35.497 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:19:35.499 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:19:35.500 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 8.3008ms
2024-11-16 13:19:35.521 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=B7-FobQ-2SpRt_1pyRMqyw - null null
2024-11-16 13:19:35.525 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:19:35.652 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: Ty1sKqdx2hsorjzKue_16Q
2024-11-16 13:19:35.653 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: Ty1sKqdx2hsorjzKue_16Q
2024-11-16 13:19:40.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:19:40.676 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:40.678 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:19:40.786 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:19:40.808 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:19:40.844 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:19:40.904 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:19:40.917 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:19:40.921 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:19:40.925 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:19:40.927 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:19:40.935 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 8.3897ms.
2024-11-16 13:19:40.936 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 255.891ms
2024-11-16 13:19:40.937 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:19:40.938 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 272.2593ms
2024-11-16 13:19:40.944 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: Ty1sKqdx2hsorjzKue_16Q
2024-11-16 13:19:40.946 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: Ty1sKqdx2hsorjzKue_16Q
2024-11-16 13:19:40.947 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:19:40.950 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=B7-FobQ-2SpRt_1pyRMqyw - 200 null null 5429.3204ms
2024-11-16 13:19:40.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-16 13:19:40.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-16 13:19:40.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 13:19:40.970 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-16 13:19:40.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-16 13:19:40.972 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-16 13:19:40.972 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-16 13:19:40.973 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-16 13:19:40.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-16 13:19:40.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 13:19:40.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-16 13:19:40.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:19:40.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-16 13:19:40.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-16 13:19:40.970 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-16 13:19:40.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-16 13:19:40.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-16 13:19:40.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-16 13:19:40.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-16 13:19:40.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-16 13:19:41.017 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-16 13:19:40.977 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-16 13:19:40.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-16 13:19:40.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:19:40.983 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-16 13:19:40.983 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-16 13:19:40.983 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-16 13:19:41.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4416 text/css 57.781ms
2024-11-16 13:19:40.985 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-16 13:19:40.988 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-16 13:19:40.990 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-16 13:19:40.991 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-16 13:19:40.993 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-16 13:19:40.996 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-16 13:19:40.998 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-16 13:19:40.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 23.9555ms
2024-11-16 13:19:41.005 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-16 13:19:41.006 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-16 13:19:41.006 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-16 13:19:41.008 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-16 13:19:41.013 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-16 13:19:41.016 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-16 13:19:40.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-16 13:19:41.018 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 42.0483ms
2024-11-16 13:19:41.019 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-16 13:19:41.023 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-16 13:19:41.024 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-16 13:19:41.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 59.2975ms
2024-11-16 13:19:41.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 61.3861ms
2024-11-16 13:19:40.983 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-16 13:19:41.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 56.9437ms
2024-11-16 13:19:41.033 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 61.4251ms
2024-11-16 13:19:41.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 61.5941ms
2024-11-16 13:19:41.035 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 61.8871ms
2024-11-16 13:19:41.037 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 62.5986ms
2024-11-16 13:19:41.038 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 63.211ms
2024-11-16 13:19:41.038 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 64.0548ms
2024-11-16 13:19:41.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.5066ms
2024-11-16 13:19:41.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 68.6094ms
2024-11-16 13:19:41.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 73.3835ms
2024-11-16 13:19:41.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 79.0963ms
2024-11-16 13:19:41.050 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 74.6274ms
2024-11-16 13:19:41.051 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 75.0049ms
2024-11-16 13:19:41.052 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 75.5313ms
2024-11-16 13:19:41.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 78.7786ms
2024-11-16 13:19:41.055 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-16 13:19:41.056 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 79.2713ms
2024-11-16 13:19:41.057 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 79.0122ms
2024-11-16 13:19:41.061 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 100.831ms
2024-11-16 13:19:41.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-16 13:19:41.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 107.6498ms
2024-11-16 13:19:41.090 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-16 13:19:41.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 18.7724ms
2024-11-16 13:19:41.103 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-16 13:19:41.108 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-16 13:19:41.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 6.5221ms
2024-11-16 13:19:41.138 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:19:41.143 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:19:41.144 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:19:41.148 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 9.4572ms
2024-11-16 13:19:41.172 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=WXwyk4D0vdywauuSLJNthw - null null
2024-11-16 13:19:41.175 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:19:41.224 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: kuMtHJBizuB0PDtA1zEKag
2024-11-16 13:19:41.225 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: kuMtHJBizuB0PDtA1zEKag
2024-11-16 13:19:41.243 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-16 13:19:41.251 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-16 13:19:41.253 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 9.7929ms
2024-11-16 13:20:26.960 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 13:20:27.095 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 13:20:27.095 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 13:20:27.098 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 13:20:27.101 +02:00 [INF] Hosting environment: Development
2024-11-16 13:20:27.102 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 13:20:27.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:20:27.565 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:20:27.993 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:20:27.998 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:20:28.003 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:20:28.007 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 443.5537ms
2024-11-16 13:20:28.008 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:20:28.009 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=6FXLV9ZEq6QxRhV7HnKFNw - null null
2024-11-16 13:20:28.016 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:20:28.020 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:20:28.021 +02:00 [ERR] User not logged in.
2024-11-16 13:20:28.032 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: ujvNyPJDmD6keeb4sJ7N3g
2024-11-16 13:20:28.033 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: ujvNyPJDmD6keeb4sJ7N3g
2024-11-16 13:20:28.034 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:20:28.037 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 22.0542ms
2024-11-16 13:20:28.038 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:20:28.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 474.989ms
2024-11-16 13:20:28.044 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:20:28.049 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:20:28.053 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:20:29.371 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 13:20:29.912 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:20:29.980 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:20:29.983 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 13:20:29.986 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 13:20:29.987 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1932.786ms
2024-11-16 13:20:29.988 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:20:29.991 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:ddf5c2dc-82cb-6eb7-7488-4e0e184d0a43
2024-11-16 13:20:29.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1952.9568ms
2024-11-16 13:20:29.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 13:20:30.005 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:20:30.007 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:20:30.009 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:20:30.011 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.1336ms
2024-11-16 13:20:30.012 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:20:30.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 15.1982ms
2024-11-16 13:20:30.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:20:30.022 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:20:30.024 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:20:30.119 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:20:30.216 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:20:30.272 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:20:30.492 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:20:30.518 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:20:30.529 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:20:30.546 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:20:30.556 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:20:30.657 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 104.3881ms.
2024-11-16 13:20:30.662 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 636.6981ms
2024-11-16 13:20:30.664 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:20:30.667 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 648.8477ms
2024-11-16 13:20:30.672 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: ujvNyPJDmD6keeb4sJ7N3g
2024-11-16 13:20:30.674 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: ujvNyPJDmD6keeb4sJ7N3g
2024-11-16 13:20:30.685 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:20:30.686 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=6FXLV9ZEq6QxRhV7HnKFNw - 200 null null 2676.9067ms
2024-11-16 13:20:30.691 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:20:30.694 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:20:30.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.5947ms
2024-11-16 13:20:30.746 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:20:30.749 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.1948ms
2024-11-16 13:20:30.752 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:20:30.756 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:20:30.757 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 11.4376ms
2024-11-16 13:20:30.821 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=Bqr-9u1EtwtKc5sqgtp5Tw - null null
2024-11-16 13:20:30.825 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:20:30.848 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: CYG5O-CxKRfx4Tbixlvrbw
2024-11-16 13:20:30.849 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: CYG5O-CxKRfx4Tbixlvrbw
2024-11-16 13:20:32.559 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/get-available-queries - null null
2024-11-16 13:20:32.573 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/get-available-queries - 404 0 null 13.9714ms
2024-11-16 13:20:32.577 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/get-available-queries, Response status code: 404
2024-11-16 13:22:05.108 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 13:22:05.214 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 13:22:05.215 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 13:22:05.219 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 13:22:05.220 +02:00 [INF] Hosting environment: Development
2024-11-16 13:22:05.222 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 13:22:05.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:22:06.229 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:22:06.241 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:22:06.250 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:22:06.252 +02:00 [ERR] User not logged in.
2024-11-16 13:22:06.262 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 13:22:06.269 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 21.6165ms
2024-11-16 13:22:06.272 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:22:06.276 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 514.4231ms
2024-11-16 13:22:06.281 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 13:22:06.292 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:22:06.297 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 13:22:07.404 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:22:07.411 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:22:07.420 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:22:07.422 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 17.771ms
2024-11-16 13:22:07.425 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=vJdTZK5qas1MLyqOIooHrQ - null null
2024-11-16 13:22:07.427 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:22:07.450 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: cIRwcVGzpwN6cDWZAHd9eQ
2024-11-16 13:22:07.451 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: cIRwcVGzpwN6cDWZAHd9eQ
2024-11-16 13:22:07.708 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 13:22:08.150 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__firebaseUser_Uid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 13:22:08.223 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 13:22:08.225 +02:00 [INF] Auto-login successful for user trentfisher16@gmail.com.
2024-11-16 13:22:08.229 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 13:22:08.230 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1932.2767ms
2024-11-16 13:22:08.232 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 13:22:08.234 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:ed56f282-f55c-a6bd-3203-2cbe9408f627
2024-11-16 13:22:08.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1957.0126ms
2024-11-16 13:22:08.242 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 13:22:08.248 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:22:08.250 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:22:08.253 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-16 13:22:08.254 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.1613ms
2024-11-16 13:22:08.254 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 13:22:08.255 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 13.1122ms
2024-11-16 13:22:08.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:22:08.264 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:22:08.264 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:22:08.349 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:22:08.452 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:22:08.506 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:22:08.680 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:22:08.701 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:22:08.711 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:22:08.720 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:22:08.729 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:22:08.805 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 81.313ms.
2024-11-16 13:22:08.810 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 545.1773ms
2024-11-16 13:22:08.813 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:22:08.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 555.5158ms
2024-11-16 13:22:08.820 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: cIRwcVGzpwN6cDWZAHd9eQ
2024-11-16 13:22:08.822 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: cIRwcVGzpwN6cDWZAHd9eQ
2024-11-16 13:22:08.827 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:22:08.828 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=vJdTZK5qas1MLyqOIooHrQ - 200 null null 1403.0622ms
2024-11-16 13:22:08.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:22:08.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:22:08.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.2822ms
2024-11-16 13:22:08.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.5565ms
2024-11-16 13:22:08.956 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:22:08.963 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:22:08.966 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:22:08.968 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 11.469ms
2024-11-16 13:22:09.012 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=UbmYzJwPc3jxs2htfYGH7A - null null
2024-11-16 13:22:09.020 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:22:09.085 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: KOpjwVcJO8nFaSe341AVLw
2024-11-16 13:22:09.086 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: KOpjwVcJO8nFaSe341AVLw
2024-11-16 13:22:13.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/get-available-queries - null null
2024-11-16 13:22:13.358 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/get-available-queries - 404 0 null 12.9966ms
2024-11-16 13:22:13.363 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/get-available-queries, Response status code: 404
2024-11-16 13:35:39.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 13:35:39.223 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731755794. Expected to be greater than 1731756939.
2024-11-16 13:35:39.226 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 13:35:39.228 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 13:35:39.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 401 0 null 43.0596ms
2024-11-16 13:42:50.045 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 13:42:50.081 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:42:50.087 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 13:42:50.264 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:42:50.299 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-16 13:42:50.325 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__staff_StaffID_0='10' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-16 13:42:50.410 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-16 13:42:50.425 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='3IhEre6G93NccKd5sZ8x65HHrTF3' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 13:42:50.428 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:42:50.432 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 13:42:50.437 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-16 13:42:50.449 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 15.3421ms.
2024-11-16 13:42:50.450 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 361.1593ms
2024-11-16 13:42:50.452 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 13:42:50.453 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 408.9298ms
2024-11-16 13:42:50.464 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: KOpjwVcJO8nFaSe341AVLw
2024-11-16 13:42:50.465 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: KOpjwVcJO8nFaSe341AVLw
2024-11-16 13:42:50.467 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:42:50.467 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=UbmYzJwPc3jxs2htfYGH7A - 200 null null 1241470.5012ms
2024-11-16 13:42:50.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 13:42:50.504 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-16 13:42:50.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 13:42:50.508 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.882ms
2024-11-16 13:42:50.524 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-16 13:42:50.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 22.2578ms
2024-11-16 13:42:50.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.764ms
2024-11-16 13:42:50.621 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:42:50.627 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:42:50.628 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:42:50.629 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 8.7429ms
2024-11-16 13:42:50.663 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=fMQ2E-bEQXl7vBw5RtmvRg - null null
2024-11-16 13:42:50.666 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:42:50.721 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: XA9btqWXXanp73NfsETj3A
2024-11-16 13:42:50.723 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: XA9btqWXXanp73NfsETj3A
2024-11-16 13:44:21.566 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: XA9btqWXXanp73NfsETj3A
2024-11-16 13:44:21.758 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: XA9btqWXXanp73NfsETj3A
2024-11-16 13:44:23.861 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:44:23.949 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=fMQ2E-bEQXl7vBw5RtmvRg - 200 null null 93244.4783ms
2024-11-16 13:44:25.453 +02:00 [INF] Connection id "0HN8663JCR39H", Request id "0HN8663JCR39H:00000021": the application completed without reading the entire request body.
2024-11-16 13:44:29.856 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-16 13:44:30.049 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-16 13:44:30.095 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-16 13:44:30.131 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=10&negotiateVersion=1 - 200 316 application/json 275.0731ms
2024-11-16 13:44:31.029 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=ZPALG8B6m60Jgc7A9axYwg - null null
2024-11-16 13:44:31.043 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-16 13:44:34.330 +02:00 [INF] Staff member with ID 10 is connecting. Connection ID: EeoBMrt7mJzofZ8opWg22w
2024-11-16 13:44:34.348 +02:00 [INF] Staff member with ID 10 connected and added to group. Connection ID: EeoBMrt7mJzofZ8opWg22w
2024-11-16 13:54:08.131 +02:00 [INF] Staff member with ID 10 is disconnecting. Connection ID: EeoBMrt7mJzofZ8opWg22w
2024-11-16 13:54:08.152 +02:00 [INF] Staff member with ID 10 removed from group and connection removed. Connection ID: EeoBMrt7mJzofZ8opWg22w
2024-11-16 13:54:08.177 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-16 13:54:08.221 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=10&id=ZPALG8B6m60Jgc7A9axYwg - 200 null null 577184.578ms
2024-11-16 14:06:30.637 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 14:06:30.949 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731755794. Expected to be greater than 1731758790.
2024-11-16 14:06:30.986 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 14:06:30.995 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 14:06:30.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 401 0 null 361.7307ms
2024-11-16 14:45:56.707 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 14:45:56.847 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731758413. Expected to be greater than 1731761156.
2024-11-16 14:45:56.854 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Staff)
2024-11-16 14:45:56.857 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 14:45:56.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 401 0 null 163.8029ms
2024-11-16 14:46:04.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-16 14:46:04.398 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731755794. Expected to be greater than 1731761164.
2024-11-16 14:46:04.400 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2024-11-16 14:46:04.401 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 14:46:04.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 401 0 null 25.3466ms
2024-11-16 15:20:48.642 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-16 15:20:48.809 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731758413. Expected to be greater than 1731763248.
2024-11-16 15:20:48.826 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Staff)
2024-11-16 15:20:48.827 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 15:20:48.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 401 0 null 188.3863ms
2024-11-16 16:45:50.882 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 16:45:51.188 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 16:45:51.190 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 16:45:51.193 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 16:45:51.195 +02:00 [INF] Hosting environment: Development
2024-11-16 16:45:51.195 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 16:45:52.478 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 16:45:53.170 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731758413. Expected to be greater than 1731768353.
2024-11-16 16:45:53.183 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731758413. Expected to be greater than 1731768353.
2024-11-16 16:45:53.189 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 16:45:53.225 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 16:45:53.245 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731758413. Expected to be greater than 1731768353.
2024-11-16 16:45:53.262 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 16:45:53.467 +02:00 [INF] Executed ViewResult - view Login executed in 214.9087ms.
2024-11-16 16:45:53.478 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 248.322ms
2024-11-16 16:45:53.481 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 16:45:53.493 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1017.4876ms
2024-11-16 16:45:53.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-16 16:45:53.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 16:45:53.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-16 16:45:53.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 16:45:53.789 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731758413. Expected to be greater than 1731768353.
2024-11-16 16:45:53.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 64.5406ms
2024-11-16 16:45:53.802 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731758413. Expected to be greater than 1731768353.
2024-11-16 16:45:53.806 +02:00 [INF] The file /css/Login.css was not modified
2024-11-16 16:45:53.816 +02:00 [INF] The file /js/login.js was not modified
2024-11-16 16:45:53.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 84.0888ms
2024-11-16 16:45:53.820 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 87.3254ms
2024-11-16 16:45:53.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 213.178ms
2024-11-16 16:46:03.942 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-16 16:46:03.957 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731758413. Expected to be greater than 1731768363.
2024-11-16 16:46:03.960 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731758413. Expected to be greater than 1731768363.
2024-11-16 16:46:03.961 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:03.981 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:04.018 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-16 16:46:04.039 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 16:46:04.046 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 16:46:04.596 +02:00 [INF] Received HTTP response headers after 547.5753ms - 200
2024-11-16 16:46:04.600 +02:00 [INF] End processing HTTP request after 564.5192ms - 200
2024-11-16 16:46:04.604 +02:00 [INF] User logged in successfully.
2024-11-16 16:46:06.637 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 16:46:07.991 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 16:46:08.216 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p1='5', @p0='2024-11-16T14:46:08.1003178Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 16:46:08.235 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 16:46:08.237 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-16 16:46:08.241 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 16:46:08.242 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4258.5226ms
2024-11-16 16:46:08.242 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:08.244 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:7561e0d7-66f2-b0fb-0e63-3237d642e014
2024-11-16 16:46:08.250 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 4308.3029ms
2024-11-16 16:46:08.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 16:46:08.584 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:08.598 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:08.951 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 16:46:08.983 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 16:46:09.000 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 16:46:09.028 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 16:46:09.065 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-16 16:46:09.091 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-16 16:46:09.098 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-16 16:46:09.121 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-16 16:46:09.134 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-16 16:46:09.143 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-16 16:46:09.213 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-16 16:46:09.253 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 16:46:09.270 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 16:46:09.288 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 16:46:09.338 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-16 16:46:09.383 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='2024-10-17T14:46:09.3577557Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 16:46:09.396 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-16 16:46:09.450 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 55.5376ms.
2024-11-16 16:46:09.452 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 852.344ms
2024-11-16 16:46:09.454 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:09.456 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1194.1171ms
2024-11-16 16:46:09.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Users.png - null null
2024-11-16 16:46:09.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-16 16:46:09.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - null null
2024-11-16 16:46:09.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-16 16:46:09.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - null null
2024-11-16 16:46:09.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/notification.js - null null
2024-11-16 16:46:09.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-16 16:46:09.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/toast.js - null null
2024-11-16 16:46:09.571 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 39.7584ms
2024-11-16 16:46:09.579 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-16 16:46:09.583 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 16:46:09.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/log.png - null null
2024-11-16 16:46:09.610 +02:00 [INF] Sending file. Request path: '/Images/Users.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Users.png'
2024-11-16 16:46:09.616 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Users.png - 200 874 image/png 89.6143ms
2024-11-16 16:46:09.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 50.1441ms
2024-11-16 16:46:09.643 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-16 16:46:09.646 +02:00 [INF] Sending file. Request path: '/Images/log.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\log.png'
2024-11-16 16:46:09.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/log.png - 200 424 image/png 58.901ms
2024-11-16 16:46:09.652 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 9.26ms
2024-11-16 16:46:09.656 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 16:46:09.660 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-16 16:46:09.666 +02:00 [INF] Sending file. Request path: '/css/AdminDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AdminDashboard.css'
2024-11-16 16:46:09.677 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.3452ms
2024-11-16 16:46:09.680 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 200 2584 text/css 153.2543ms
2024-11-16 16:46:09.746 +02:00 [INF] Sending file. Request path: '/js/responseTimeChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\responseTimeChart.js'
2024-11-16 16:46:09.746 +02:00 [INF] Sending file. Request path: '/js/notification.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\notification.js'
2024-11-16 16:46:09.746 +02:00 [INF] Sending file. Request path: '/js/resolutionRateChart.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\resolutionRateChart.js'
2024-11-16 16:46:09.746 +02:00 [INF] Sending file. Request path: '/js/AdminCharts.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\AdminCharts.js'
2024-11-16 16:46:09.751 +02:00 [INF] Sending file. Request path: '/js/toast.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\toast.js'
2024-11-16 16:46:09.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/responseTimeChart.js - 200 3518 text/javascript 228.1998ms
2024-11-16 16:46:09.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/notification.js - 200 2580 text/javascript 224.2864ms
2024-11-16 16:46:09.758 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/resolutionRateChart.js - 200 5754 text/javascript 226.0668ms
2024-11-16 16:46:09.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 200 4242 text/javascript 227.1639ms
2024-11-16 16:46:09.760 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/toast.js - 200 2875 text/javascript 227.4598ms
2024-11-16 16:46:09.973 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-16 16:46:09.973 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-16 16:46:09.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-16 16:46:09.981 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:09.981 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:09.982 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:09.992 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:09.994 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:09.995 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:10.137 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__startDate_0='2024-10-17T14:46:10.0029559Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 16:46:10.143 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:46:10.162 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__startDate_0='2024-10-17T14:46:10.0071586Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-16 16:46:10.172 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:46:10.173 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 178.128ms
2024-11-16 16:46:10.176 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:10.178 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 205.4087ms
2024-11-16 16:46:10.182 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 185.8842ms
2024-11-16 16:46:10.184 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:10.186 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 212.988ms
2024-11-16 16:46:10.187 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__startDate_0='2023-12-16T16:46:10.0028051+02:00' (Nullable = true), @__endDate_1='2024-11-16T16:46:10.0028051+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-16 16:46:10.205 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-16 16:46:10.208 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 16:46:10.213 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 214.3735ms
2024-11-16 16:46:10.214 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:10.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 241.2214ms
2024-11-16 16:46:38.944 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=7 - null null
2024-11-16 16:46:38.948 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:38.950 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:38.959 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-11-09T14:46:38.9523254Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 16:46:38.960 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:46:38.961 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 10.1699ms
2024-11-16 16:46:38.962 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:38.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=7 - 200 null application/json; charset=utf-8 18.3152ms
2024-11-16 16:46:41.886 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=7 - null null
2024-11-16 16:46:41.890 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:41.891 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:41.896 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='2024-11-09T14:46:41.8928568Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-16 16:46:41.898 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:46:41.898 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 5.9341ms
2024-11-16 16:46:41.899 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:41.899 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=7 - 200 null application/json; charset=utf-8 13.5466ms
2024-11-16 16:46:50.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 16:46:50.471 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:50.474 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:50.476 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 16:46:50.482 +02:00 [INF] Executed ViewResult - view Index executed in 6.109ms.
2024-11-16 16:46:50.483 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 7.4358ms
2024-11-16 16:46:50.484 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:50.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 22.3155ms
2024-11-16 16:46:50.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 16:46:50.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/reports.js - null null
2024-11-16 16:46:50.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 16:46:50.595 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9087ms
2024-11-16 16:46:50.607 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.7297ms
2024-11-16 16:46:50.664 +02:00 [INF] Sending file. Request path: '/js/reports.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\reports.js'
2024-11-16 16:46:50.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/reports.js - 200 7849 text/javascript 73.426ms
2024-11-16 16:46:50.692 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:46:50.695 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:50.698 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:50.739 +02:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:46:50.763 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
2024-11-16 16:46:50.767 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 68.1627ms
2024-11-16 16:46:50.769 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:50.770 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
2024-11-16 16:46:50.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 136.793ms
2024-11-16 16:46:52.325 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:46:52.329 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:52.330 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:52.334 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:46:52.336 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
2024-11-16 16:46:52.339 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 8.5366ms
2024-11-16 16:46:52.340 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:52.341 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
2024-11-16 16:46:52.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 23.6143ms
2024-11-16 16:46:52.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:46:52.853 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:52.857 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:52.866 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 16:46:52.881 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 22.4773ms
2024-11-16 16:46:52.882 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:52.882 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 16:46:52.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 46.1473ms
2024-11-16 16:46:56.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:46:56.983 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:56.983 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:46:56.988 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 16:46:56.993 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 8.3345ms
2024-11-16 16:46:56.993 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:46:56.994 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 16:46:57.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 26.8576ms
2024-11-16 16:47:15.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:47:15.524 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:47:15.525 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:47:15.529 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:47:15.531 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
2024-11-16 16:47:15.535 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 9.2828ms
2024-11-16 16:47:15.536 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:47:15.536 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
2024-11-16 16:47:15.544 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 23.8297ms
2024-11-16 16:47:18.558 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-16 16:47:18.561 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:47:18.564 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:47:18.633 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__overdueDate_0='2024-11-15T14:47:18.5691053Z' (Nullable = true), @__currentDate_2='2024-11-16T14:47:18.5691053Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-16 16:47:18.641 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-16 16:47:18.644 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 79.6449ms
2024-11-16 16:47:18.645 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:47:18.646 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 87.7716ms
2024-11-16 16:47:31.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:47:31.866 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:47:31.869 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:47:31.958 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 16:47:31.961 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:47:31.963 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 92.8105ms
2024-11-16 16:47:31.964 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:47:31.965 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 102.7584ms
2024-11-16 16:47:53.100 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:47:53.103 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:47:53.104 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:47:53.108 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:47:53.110 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
2024-11-16 16:47:53.112 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 7.5809ms
2024-11-16 16:47:53.113 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:47:53.114 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:b4d0504d-ef1b-4502-8249-7937cc4cfb4a
Error Number:162,State:1,Class:15
2024-11-16 16:47:53.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 23.5957ms
2024-11-16 16:57:04.950 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:57:05.021 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:05.031 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:05.150 +02:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:57:05.167 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d950d69a-cf95-4750-812a-61d1967bdbb3
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d950d69a-cf95-4750-812a-61d1967bdbb3
Error Number:162,State:1,Class:15
2024-11-16 16:57:05.173 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 140.2306ms
2024-11-16 16:57:05.174 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:05.176 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:d950d69a-cf95-4750-812a-61d1967bdbb3
Error Number:162,State:1,Class:15
2024-11-16 16:57:05.202 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 253.4307ms
2024-11-16 16:57:06.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:57:06.420 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:06.420 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:06.492 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 16:57:06.495 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:57:06.500 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 78.7848ms
2024-11-16 16:57:06.501 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:06.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 89.6863ms
2024-11-16 16:57:07.129 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:57:07.133 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:07.134 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:07.520 +02:00 [INF] Executed DbCommand (383ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 16:57:07.525 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:57:07.526 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 390.5719ms
2024-11-16 16:57:07.526 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:07.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 398.2336ms
2024-11-16 16:57:07.780 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:57:07.784 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:07.785 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:08.095 +02:00 [INF] Executed DbCommand (307ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 16:57:08.100 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:57:08.101 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 315.1537ms
2024-11-16 16:57:08.102 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:08.102 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:57:08.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 322.5824ms
2024-11-16 16:57:08.105 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:08.106 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:08.140 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 16:57:08.143 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:57:08.144 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 36.7473ms
2024-11-16 16:57:08.144 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:08.145 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:57:08.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 43.034ms
2024-11-16 16:57:08.148 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:08.149 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:08.184 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 16:57:08.187 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:57:08.188 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 38.0444ms
2024-11-16 16:57:08.189 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:08.190 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 44.6292ms
2024-11-16 16:57:34.087 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:57:34.092 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:34.093 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:34.105 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 16:57:34.151 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 57.1112ms
2024-11-16 16:57:34.152 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:34.154 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 16:57:34.178 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 90.8879ms
2024-11-16 16:57:34.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-16 16:57:34.860 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:34.861 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:34.905 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__overdueDate_0='2024-11-15T14:57:34.8631563Z' (Nullable = true), @__currentDate_2='2024-11-16T14:57:34.8631563Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-16 16:57:34.911 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-16 16:57:34.913 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 50.8164ms
2024-11-16 16:57:34.915 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:34.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 60.6575ms
2024-11-16 16:57:35.313 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:57:35.317 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:35.319 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:35.360 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 16:57:35.365 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:57:35.369 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 49.0425ms
2024-11-16 16:57:35.370 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:35.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 58.1416ms
2024-11-16 16:57:36.946 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-16 16:57:36.950 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:36.952 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:57:36.972 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__overdueDate_0='2024-11-15T14:57:36.9536053Z' (Nullable = true), @__currentDate_2='2024-11-16T14:57:36.9536053Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-16 16:57:36.976 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-16 16:57:36.977 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 23.8983ms
2024-11-16 16:57:36.978 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:57:36.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 32.5845ms
2024-11-16 16:58:07.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:58:07.347 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:07.348 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:07.359 +02:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:58:07.361 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d950d69a-cf95-4750-812a-61d1967bdbb3
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d950d69a-cf95-4750-812a-61d1967bdbb3
Error Number:162,State:1,Class:15
2024-11-16 16:58:07.368 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 19.2152ms
2024-11-16 16:58:07.369 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:07.370 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:d950d69a-cf95-4750-812a-61d1967bdbb3
Error Number:162,State:1,Class:15
2024-11-16 16:58:07.381 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 37.5388ms
2024-11-16 16:58:36.890 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 16:58:38.011 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 16:58:38.049 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 16:58:38.055 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 16:58:38.058 +02:00 [INF] Hosting environment: Development
2024-11-16 16:58:38.059 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 16:58:38.608 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 16:58:39.844 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:39.871 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:39.894 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 16:58:40.336 +02:00 [INF] Executed ViewResult - view Index executed in 448.7876ms.
2024-11-16 16:58:40.368 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 493.3296ms
2024-11-16 16:58:40.371 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:40.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 1783.6727ms
2024-11-16 16:58:40.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 16:58:40.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 16:58:40.632 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.6137ms
2024-11-16 16:58:40.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.2643ms
2024-11-16 16:58:40.822 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:58:40.882 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:40.909 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:42.073 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 16:58:42.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-16 16:58:42.568 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:42.575 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:43.775 +02:00 [ERR] Failed executing DbCommand (120ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:58:43.851 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:9deaf463-6051-4b08-a3ce-59f977337603
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:9deaf463-6051-4b08-a3ce-59f977337603
Error Number:162,State:1,Class:15
2024-11-16 16:58:43.871 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 2959.5812ms
2024-11-16 16:58:43.873 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:43.876 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:9deaf463-6051-4b08-a3ce-59f977337603
Error Number:162,State:1,Class:15
2024-11-16 16:58:43.881 +02:00 [INF] Executed DbCommand (236ms) [Parameters=[@__overdueDate_0='2024-11-15T14:58:42.5871080Z' (Nullable = true), @__currentDate_2='2024-11-16T14:58:42.5871080Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-16 16:58:43.956 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 3134.7604ms
2024-11-16 16:58:43.976 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-16 16:58:44.023 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 1443.2423ms
2024-11-16 16:58:44.024 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:44.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 1470.21ms
2024-11-16 16:58:44.936 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:58:44.944 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:44.953 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:45.260 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 16:58:45.267 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:58:45.282 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 326.7734ms
2024-11-16 16:58:45.284 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:45.287 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 350.5447ms
2024-11-16 16:58:46.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:58:46.184 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:46.191 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:46.222 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 16:58:46.275 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 82.7178ms
2024-11-16 16:58:46.277 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:46.278 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 16:58:46.318 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 142.0695ms
2024-11-16 16:58:46.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:58:46.931 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:46.933 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:46.954 +02:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:58:46.959 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f5612bd6-3a3b-4e63-8294-9d4eb112830e
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f5612bd6-3a3b-4e63-8294-9d4eb112830e
Error Number:162,State:1,Class:15
2024-11-16 16:58:46.969 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 32.4359ms
2024-11-16 16:58:46.971 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:46.973 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f5612bd6-3a3b-4e63-8294-9d4eb112830e
Error Number:162,State:1,Class:15
2024-11-16 16:58:46.993 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 70.7642ms
2024-11-16 16:58:48.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:58:48.221 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:48.222 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:48.229 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 16:58:48.241 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 17.5327ms
2024-11-16 16:58:48.242 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:48.244 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 16:58:48.285 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 68.8765ms
2024-11-16 16:58:50.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 16:58:50.225 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:50.227 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 16:58:50.234 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 16:58:50.238 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f5612bd6-3a3b-4e63-8294-9d4eb112830e
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f5612bd6-3a3b-4e63-8294-9d4eb112830e
Error Number:162,State:1,Class:15
2024-11-16 16:58:50.242 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 14.6805ms
2024-11-16 16:58:50.243 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 16:58:50.244 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f5612bd6-3a3b-4e63-8294-9d4eb112830e
Error Number:162,State:1,Class:15
2024-11-16 16:58:50.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 35.4777ms
2024-11-16 17:07:36.174 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 17:07:36.373 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 17:07:36.374 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 17:07:36.377 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 17:07:36.378 +02:00 [INF] Hosting environment: Development
2024-11-16 17:07:36.378 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 17:07:36.744 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:07:37.339 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:37.349 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:37.357 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:07:37.447 +02:00 [INF] Executed ViewResult - view Index executed in 90.2948ms.
2024-11-16 17:07:37.453 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 101.5223ms
2024-11-16 17:07:37.455 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:37.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 718.5393ms
2024-11-16 17:07:37.698 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:07:37.702 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.5494ms
2024-11-16 17:07:37.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:07:37.726 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:07:37.740 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:37.747 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.5729ms
2024-11-16 17:07:37.754 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:38.829 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 17:07:39.352 +02:00 [ERR] Error generating Query Resolution Time report.
System.InvalidOperationException: The client projection contains a reference to a constant expression of 'Apptivate_UQMS_WebApp.Services.ReportingService' through the instance method 'CalculateMedian'. This could potentially cause a memory leak; consider making the method static so that it does not capture constant in the instance. See https://go.microsoft.com/fwlink/?linkid=2103067 for more information and examples.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.ConstantVerifyingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VerifyNoClientConstant(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 40
2024-11-16 17:07:39.469 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-16 17:07:39.471 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 1715.0939ms
2024-11-16 17:07:39.472 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:39.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 1752.3877ms
2024-11-16 17:07:51.625 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:07:51.692 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:51.718 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:52.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 17:07:52.943 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:52.951 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:52.957 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 17:07:52.959 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 6.438ms
2024-11-16 17:07:52.961 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:52.966 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 78.5389ms
2024-11-16 17:07:52.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 17:07:52.997 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:53.008 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:53.044 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 17:07:53.048 +02:00 [ERR] User not logged in.
2024-11-16 17:07:53.053 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 17:07:53.055 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 46.2882ms
2024-11-16 17:07:53.057 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:53.058 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 72.5916ms
2024-11-16 17:07:53.068 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 17:07:53.086 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:53.098 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:53.241 +02:00 [INF] Executed DbCommand (161ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:07:53.389 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 1669.9119ms
2024-11-16 17:07:53.394 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:53.403 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 96
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:07:53.467 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 1842.1675ms
2024-11-16 17:07:54.452 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 17:07:54.580 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 17:07:54.582 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-16 17:07:54.584 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 17:07:54.585 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1485.322ms
2024-11-16 17:07:54.587 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:54.589 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:a3823677-9c23-75f3-2323-81a93fde3dca
2024-11-16 17:07:54.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1522.4996ms
2024-11-16 17:07:54.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 17:07:54.618 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:54.620 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:54.624 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 17:07:54.625 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.5529ms
2024-11-16 17:07:54.627 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:54.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 18.6476ms
2024-11-16 17:07:54.637 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 17:07:54.649 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:54.650 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:54.736 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 17:07:54.809 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 17:07:54.848 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 17:07:54.898 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 17:07:54.917 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-16 17:07:54.953 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-16 17:07:54.964 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-16 17:07:55.113 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-16 17:07:55.128 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-16 17:07:55.140 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-16 17:07:55.180 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-16 17:07:55.202 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:07:55.211 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:07:55.225 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:07:55.277 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-16 17:07:55.346 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__startDate_0='2024-10-17T15:07:55.3172932Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:07:55.377 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-16 17:07:55.447 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 81.3791ms.
2024-11-16 17:07:55.448 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 794.934ms
2024-11-16 17:07:55.449 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:55.451 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 813.8689ms
2024-11-16 17:07:55.590 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-16 17:07:55.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:07:55.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-16 17:07:55.603 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:07:55.624 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 33.7305ms
2024-11-16 17:07:55.664 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 62.6915ms
2024-11-16 17:07:55.664 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 73.4528ms
2024-11-16 17:07:55.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.2595ms
2024-11-16 17:07:55.670 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-16 17:07:55.670 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-16 17:07:56.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-16 17:07:56.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-16 17:07:56.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-16 17:07:56.008 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:56.014 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:56.011 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:56.022 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:56.026 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:56.026 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:56.057 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-17T15:07:56.0414854Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:07:56.066 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:07:56.075 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-17T15:07:56.0362331Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-16 17:07:56.088 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:07:56.104 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__startDate_0='2023-12-16T17:07:56.0344385+02:00' (Nullable = true), @__endDate_1='2024-11-16T17:07:56.0344385+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-16 17:07:56.114 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-16 17:07:56.116 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 17:07:56.123 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 83.9955ms
2024-11-16 17:07:56.123 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 97.0869ms
2024-11-16 17:07:56.126 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:56.127 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:56.128 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 125.7545ms
2024-11-16 17:07:56.131 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 103.0039ms
2024-11-16 17:07:56.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 129.2441ms
2024-11-16 17:07:56.134 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:56.138 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 136.1299ms
2024-11-16 17:07:58.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:07:58.406 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:58.407 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:58.409 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:07:58.412 +02:00 [INF] Executed ViewResult - view Index executed in 3.1041ms.
2024-11-16 17:07:58.413 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 5.1272ms
2024-11-16 17:07:58.414 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:58.416 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 17.451ms
2024-11-16 17:07:58.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:07:58.445 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:07:58.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1403ms
2024-11-16 17:07:58.452 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.2444ms
2024-11-16 17:07:58.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:07:58.472 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:58.474 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:58.492 +02:00 [ERR] Error generating Query Resolution Time report.
System.InvalidOperationException: The client projection contains a reference to a constant expression of 'Apptivate_UQMS_WebApp.Services.ReportingService' through the instance method 'CalculateMedian'. This could potentially cause a memory leak; consider making the method static so that it does not capture constant in the instance. See https://go.microsoft.com/fwlink/?linkid=2103067 for more information and examples.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.ConstantVerifyingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VerifyNoClientConstant(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 40
2024-11-16 17:07:58.505 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-16 17:07:58.508 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 31.8538ms
2024-11-16 17:07:58.509 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:58.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 41.7723ms
2024-11-16 17:07:59.820 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:07:59.827 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:59.830 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:07:59.838 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:07:59.848 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 14.8822ms
2024-11-16 17:07:59.849 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:07:59.850 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 96
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:07:59.869 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 49.1359ms
2024-11-16 17:08:00.397 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:08:00.403 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:00.405 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:08:00.420 +02:00 [ERR] Error generating Query Resolution Time report.
System.InvalidOperationException: The client projection contains a reference to a constant expression of 'Apptivate_UQMS_WebApp.Services.ReportingService' through the instance method 'CalculateMedian'. This could potentially cause a memory leak; consider making the method static so that it does not capture constant in the instance. See https://go.microsoft.com/fwlink/?linkid=2103067 for more information and examples.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.ConstantVerifyingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VerifyNoClientConstant(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 40
2024-11-16 17:08:00.428 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-16 17:08:00.430 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 21.4984ms
2024-11-16 17:08:00.431 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:00.432 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 35.9287ms
2024-11-16 17:08:01.203 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:08:01.207 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:01.208 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:08:01.215 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:08:01.221 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 11.2714ms
2024-11-16 17:08:01.221 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:01.222 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 96
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:08:01.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 38.8026ms
2024-11-16 17:08:01.730 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-16 17:08:01.736 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:01.741 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:08:01.834 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__overdueDate_0='2024-11-15T15:08:01.7496578Z' (Nullable = true), @__currentDate_2='2024-11-16T15:08:01.7496578Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-16 17:08:01.855 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-16 17:08:01.864 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 121.5897ms
2024-11-16 17:08:01.866 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:01.867 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 136.6197ms
2024-11-16 17:08:02.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:08:02.438 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:02.439 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:08:02.447 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:08:02.455 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 13.146ms
2024-11-16 17:08:02.456 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:02.457 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 96
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:08:02.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 52.0612ms
2024-11-16 17:08:02.928 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:08:02.933 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:02.935 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:08:02.943 +02:00 [ERR] Error generating Query Resolution Time report.
System.InvalidOperationException: The client projection contains a reference to a constant expression of 'Apptivate_UQMS_WebApp.Services.ReportingService' through the instance method 'CalculateMedian'. This could potentially cause a memory leak; consider making the method static so that it does not capture constant in the instance. See https://go.microsoft.com/fwlink/?linkid=2103067 for more information and examples.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.ConstantVerifyingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberAssignment(MemberAssignment node)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at System.Linq.Expressions.ExpressionVisitor.Visit[T](ReadOnlyCollection`1 nodes, Func`2 elementVisitor)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberInit(MemberInitExpression node)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VerifyNoClientConstant(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitShapedQuery(ShapedQueryExpression shapedQueryExpression)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.VisitExtension(Expression extensionExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 40
2024-11-16 17:08:02.950 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-16 17:08:02.951 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 14.6299ms
2024-11-16 17:08:02.952 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:08:02.953 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 25.1076ms
2024-11-16 17:14:16.031 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:14:16.144 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:14:16.155 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:14:16.345 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:14:16.417 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 259.7738ms
2024-11-16 17:14:16.419 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:14:16.421 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 96
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:14:16.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 444.2625ms
2024-11-16 17:15:00.883 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 17:15:01.095 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 17:15:01.096 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 17:15:01.099 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 17:15:01.101 +02:00 [INF] Hosting environment: Development
2024-11-16 17:15:01.101 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 17:15:01.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:15:02.044 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:02.058 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:02.070 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:15:02.194 +02:00 [INF] Executed ViewResult - view Index executed in 127.7871ms.
2024-11-16 17:15:02.203 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 142.8266ms
2024-11-16 17:15:02.205 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:02.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 857.9436ms
2024-11-16 17:15:02.469 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:15:02.469 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:15:02.513 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 43.897ms
2024-11-16 17:15:02.557 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.1956ms
2024-11-16 17:15:02.667 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:15:02.689 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:02.708 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:03.477 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 17:15:04.354 +02:00 [ERR] Failed executing DbCommand (66ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 17:15:04.396 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
2024-11-16 17:15:04.405 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 1694.6913ms
2024-11-16 17:15:04.408 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:04.411 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
2024-11-16 17:15:04.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 1806.4772ms
2024-11-16 17:15:21.184 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 17:15:21.199 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:21.203 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:21.206 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 17:15:21.207 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.8233ms
2024-11-16 17:15:21.208 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:21.208 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 24.4183ms
2024-11-16 17:15:21.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 17:15:21.223 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:21.227 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:21.236 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 17:15:21.238 +02:00 [ERR] User not logged in.
2024-11-16 17:15:21.239 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 17:15:21.240 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 12.3478ms
2024-11-16 17:15:21.241 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:21.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 24.7371ms
2024-11-16 17:15:21.246 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 17:15:21.258 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:21.261 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:22.320 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 17:15:22.396 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 17:15:22.399 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-16 17:15:22.404 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 17:15:22.406 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1143.7294ms
2024-11-16 17:15:22.406 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:22.410 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:538cb861-7083-d5da-4172-67605a485304
2024-11-16 17:15:22.412 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1165.7807ms
2024-11-16 17:15:22.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 17:15:22.423 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:22.424 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:22.426 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 17:15:22.427 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.5793ms
2024-11-16 17:15:22.427 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:22.428 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 7.8981ms
2024-11-16 17:15:22.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 17:15:22.438 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:22.438 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:22.518 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 17:15:22.550 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 17:15:22.561 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 17:15:22.580 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 17:15:22.594 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-16 17:15:22.610 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-16 17:15:22.616 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-16 17:15:22.629 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-16 17:15:22.636 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-16 17:15:22.643 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-16 17:15:22.671 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-16 17:15:22.693 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:15:22.700 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:15:22.715 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:15:22.751 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-16 17:15:22.784 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-17T15:15:22.7701196Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:15:22.792 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-16 17:15:22.811 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 19.8101ms.
2024-11-16 17:15:22.812 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 373.1053ms
2024-11-16 17:15:22.813 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:22.814 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 379.7585ms
2024-11-16 17:15:22.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-16 17:15:22.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:15:22.871 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-16 17:15:22.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:15:22.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 14.7149ms
2024-11-16 17:15:22.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 6.5251ms
2024-11-16 17:15:22.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.9793ms
2024-11-16 17:15:22.886 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-16 17:15:22.887 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-16 17:15:22.890 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.9827ms
2024-11-16 17:15:23.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-16 17:15:23.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-16 17:15:23.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-16 17:15:23.164 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:23.164 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:23.164 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:23.171 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:23.171 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:23.171 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:23.202 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__startDate_0='2024-10-17T15:15:23.1758577Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:15:23.207 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:15:23.214 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-17T15:15:23.1787803Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-16 17:15:23.223 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__startDate_0='2023-12-16T17:15:23.1758704+02:00' (Nullable = true), @__endDate_1='2024-11-16T17:15:23.1758704+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-16 17:15:23.226 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:15:23.230 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-16 17:15:23.235 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 17:15:23.242 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 67.2615ms
2024-11-16 17:15:23.243 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 69.6253ms
2024-11-16 17:15:23.244 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:23.245 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 72.4901ms
2024-11-16 17:15:23.245 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:23.246 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 88.3139ms
2024-11-16 17:15:23.250 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:23.251 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 92.8339ms
2024-11-16 17:15:23.254 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 96.4865ms
2024-11-16 17:15:25.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:15:25.621 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:25.622 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:25.625 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:15:25.629 +02:00 [INF] Executed ViewResult - view Index executed in 4.4391ms.
2024-11-16 17:15:25.630 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 6.5512ms
2024-11-16 17:15:25.632 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:25.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 23.467ms
2024-11-16 17:15:25.657 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:15:25.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:15:25.669 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.6064ms
2024-11-16 17:15:25.669 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.1676ms
2024-11-16 17:15:25.690 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:15:25.693 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:25.694 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:25.712 +02:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 17:15:25.718 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
2024-11-16 17:15:25.724 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 27.9739ms
2024-11-16 17:15:25.725 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:25.726 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
2024-11-16 17:15:25.738 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 48.7185ms
2024-11-16 17:15:37.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:15:37.793 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:37.794 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:37.808 +02:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 17:15:37.810 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
2024-11-16 17:15:37.813 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 17.5322ms
2024-11-16 17:15:37.814 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:37.814 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
2024-11-16 17:15:37.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 34.8283ms
2024-11-16 17:15:58.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-16 17:15:58.343 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:58.346 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:15:58.427 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__overdueDate_0='2024-11-15T15:15:58.3522325Z' (Nullable = true), @__currentDate_2='2024-11-16T15:15:58.3522325Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-16 17:15:58.437 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-16 17:15:58.443 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 94.7886ms
2024-11-16 17:15:58.443 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:15:58.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 105.5128ms
2024-11-16 17:16:06.498 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:16:06.506 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:16:06.510 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:16:06.526 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:16:06.544 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 31.1641ms
2024-11-16 17:16:06.545 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:16:06.545 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 71
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:16:06.567 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 69.3502ms
2024-11-16 17:17:19.855 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:17:19.860 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:17:19.862 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:17:19.872 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], COUNT(*) AS [QueryCount], AVG(CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END) AS [AverageResponseTime], COALESCE((
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND ([q0].[CategoryName] = [q2].[CategoryName] OR ([q0].[CategoryName] IS NULL AND [q2].[CategoryName] IS NULL)) AND ([d].[DepartmentName] = [d0].[DepartmentName] OR ([d].[DepartmentName] IS NULL AND [d0].[DepartmentName] IS NULL)) AND [q1].[ResolvedDate] IS NOT NULL
    ORDER BY CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float)
    OFFSET COUNT(*) / 2 ROWS FETCH NEXT 1 ROWS ONLY), 0.0E0) AS [MedianResponseTime]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
GROUP BY [q0].[CategoryName], [d].[DepartmentName]
2024-11-16 17:17:19.874 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
2024-11-16 17:17:19.877 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 13.8757ms
2024-11-16 17:17:19.878 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:17:19.880 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid expression in a TOP or OFFSET clause.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f14075ea-f995-408d-8e1a-60d321c3635d
Error Number:162,State:1,Class:15
2024-11-16 17:17:19.888 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 33.0109ms
2024-11-16 17:22:18.204 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 17:22:18.617 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 17:22:18.622 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 17:22:18.628 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 17:22:18.630 +02:00 [INF] Hosting environment: Development
2024-11-16 17:22:18.630 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 17:22:19.155 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:22:20.362 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:22:20.372 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:22:20.389 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:22:20.499 +02:00 [INF] Executed ViewResult - view Index executed in 113.2254ms.
2024-11-16 17:22:20.509 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 131.806ms
2024-11-16 17:22:20.512 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:22:20.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 1368.8249ms
2024-11-16 17:22:20.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:22:20.707 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:22:20.714 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.8548ms
2024-11-16 17:22:20.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.1335ms
2024-11-16 17:22:20.884 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:22:20.904 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:22:20.915 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:22:21.622 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 17:22:23.516 +02:00 [INF] Executed DbCommand (307ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 17:22:23.620 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:22:23.685 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 2768.2362ms
2024-11-16 17:22:23.686 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:22:23.698 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 2814.1194ms
2024-11-16 17:33:33.722 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:33:33.920 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:33:33.935 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:33:33.969 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:33:34.019 +02:00 [INF] Executed ViewResult - view Index executed in 60.6988ms.
2024-11-16 17:33:34.021 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 84.3038ms
2024-11-16 17:33:34.023 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:33:34.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 313.5908ms
2024-11-16 17:33:34.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:33:34.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 20.9976ms
2024-11-16 17:33:38.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:33:39.011 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:33:39.013 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:33:39.489 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 17:33:39.505 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:33:39.521 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 503.3435ms
2024-11-16 17:33:39.524 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:33:39.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 533.5536ms
2024-11-16 17:33:55.544 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:33:55.553 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:33:55.587 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:33:55.826 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:33:55.901 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 310.8949ms
2024-11-16 17:33:55.904 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:33:55.915 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 98
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:33:56.091 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 547.0492ms
2024-11-16 17:33:56.626 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:33:56.629 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:33:56.630 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:33:56.652 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 17:33:56.654 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:33:56.655 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 23.0416ms
2024-11-16 17:33:56.656 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:33:56.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 30.9492ms
2024-11-16 17:34:38.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:34:38.339 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:34:38.341 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:34:38.349 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:34:38.357 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 15.3126ms
2024-11-16 17:34:38.358 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:34:38.359 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 98
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:34:38.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 42.0734ms
2024-11-16 17:40:57.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:40:57.552 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:40:57.564 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:40:57.644 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 17:40:57.649 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:40:57.655 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 89.3756ms
2024-11-16 17:40:57.656 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:40:57.658 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 161.6943ms
2024-11-16 17:41:05.076 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-11-07&endDate=2024-11-16 - null null
2024-11-16 17:41:05.081 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:41:05.081 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:41:05.096 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2024-11-07T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 17:41:05.100 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:41:05.103 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 19.9281ms
2024-11-16 17:41:05.104 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:41:05.105 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-11-07&endDate=2024-11-16 - 200 null application/json; charset=utf-8 29.7722ms
2024-11-16 17:44:00.635 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 17:44:00.863 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 17:44:00.864 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 17:44:00.867 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 17:44:00.868 +02:00 [INF] Hosting environment: Development
2024-11-16 17:44:00.869 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 17:44:01.573 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:44:02.293 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:02.311 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:02.326 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:44:02.440 +02:00 [INF] Executed ViewResult - view Index executed in 119.0631ms.
2024-11-16 17:44:02.448 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 134.716ms
2024-11-16 17:44:02.450 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:02.455 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 883.3191ms
2024-11-16 17:44:02.665 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:44:02.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:44:02.687 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 21.3886ms
2024-11-16 17:44:02.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.9457ms
2024-11-16 17:44:02.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:44:02.863 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:02.876 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:03.613 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 17:44:04.531 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 17:44:04.574 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-11-16 17:44:04.595 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 1718.1656ms
2024-11-16 17:44:04.597 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:04.599 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:44:04.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 1875.5698ms
2024-11-16 17:44:19.840 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:44:19.849 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:19.857 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:19.894 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 17:44:19.934 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 75.6116ms
2024-11-16 17:44:19.935 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:19.935 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 103
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:44:19.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 118.9481ms
2024-11-16 17:44:20.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:44:20.596 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:20.597 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:20.667 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 17:44:20.670 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-11-16 17:44:20.671 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 73.7942ms
2024-11-16 17:44:20.672 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:20.673 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:44:20.680 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 87.9786ms
2024-11-16 17:44:21.470 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-16 17:44:21.472 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:21.476 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:21.552 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__overdueDate_0='2024-11-15T15:44:21.4812054Z' (Nullable = true), @__currentDate_2='2024-11-16T15:44:21.4812054Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-16 17:44:21.560 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-16 17:44:21.589 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 111.0877ms
2024-11-16 17:44:21.590 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:21.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 120.8404ms
2024-11-16 17:44:22.272 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:44:22.275 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:22.276 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:22.291 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 17:44:22.293 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-11-16 17:44:22.295 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 17.8443ms
2024-11-16 17:44:22.297 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:22.298 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:44:22.303 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 31.5902ms
2024-11-16 17:44:41.634 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 17:44:41.644 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:41.648 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:41.651 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 17:44:41.652 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.259ms
2024-11-16 17:44:41.653 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:41.653 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 18.9179ms
2024-11-16 17:44:41.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 17:44:41.668 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:41.671 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:41.681 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 17:44:41.682 +02:00 [ERR] User not logged in.
2024-11-16 17:44:41.682 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 17:44:41.683 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 11.6671ms
2024-11-16 17:44:41.684 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:41.685 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 23.5768ms
2024-11-16 17:44:41.689 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 17:44:41.692 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:41.695 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:42.709 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 17:44:42.765 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 17:44:42.766 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-16 17:44:42.767 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 17:44:42.768 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1072.129ms
2024-11-16 17:44:42.769 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:42.773 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:b6780e95-36b1-3e03-f74d-86304a03b6d3
2024-11-16 17:44:42.775 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 1085.7592ms
2024-11-16 17:44:42.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 17:44:42.785 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:42.786 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:42.788 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 17:44:42.788 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.6891ms
2024-11-16 17:44:42.790 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:42.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 9.9136ms
2024-11-16 17:44:42.795 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 17:44:42.798 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:42.799 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:42.825 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 17:44:42.855 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 17:44:42.864 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 17:44:42.886 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 17:44:42.894 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-16 17:44:42.902 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-16 17:44:42.906 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-16 17:44:42.951 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-16 17:44:42.960 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-16 17:44:42.968 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-16 17:44:42.979 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-16 17:44:42.992 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:44:42.996 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:44:43.007 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:44:43.036 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-16 17:44:43.067 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__startDate_0='2024-10-17T15:44:43.0555491Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:44:43.076 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-16 17:44:43.095 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 19.9993ms.
2024-11-16 17:44:43.097 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 296.7093ms
2024-11-16 17:44:43.097 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:43.098 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 302.5639ms
2024-11-16 17:44:43.155 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:44:43.158 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3715ms
2024-11-16 17:44:43.159 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-16 17:44:43.169 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-16 17:44:43.169 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:44:43.178 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 19.1809ms
2024-11-16 17:44:43.182 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-16 17:44:43.182 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 13.3117ms
2024-11-16 17:44:43.186 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.6224ms
2024-11-16 17:44:43.186 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-16 17:44:43.471 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-16 17:44:43.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-16 17:44:43.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-16 17:44:43.477 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:43.481 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:43.487 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:43.489 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:43.493 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:43.498 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:43.516 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-17T15:44:43.4989998Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 17:44:43.522 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:44:43.529 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 33.994ms
2024-11-16 17:44:43.531 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:43.533 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 61.4866ms
2024-11-16 17:44:43.540 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2023-12-16T17:44:43.5019980+02:00' (Nullable = true), @__endDate_1='2024-11-16T17:44:43.5019980+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-16 17:44:43.542 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__startDate_0='2024-10-17T15:44:43.5014440Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-16 17:44:43.550 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:44:43.553 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-16 17:44:43.554 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 56.5552ms
2024-11-16 17:44:43.557 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 17:44:43.557 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:43.559 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 85.3176ms
2024-11-16 17:44:43.565 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 65.3842ms
2024-11-16 17:44:43.566 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:43.567 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 92.548ms
2024-11-16 17:44:45.494 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:44:45.505 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:45.506 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:45.509 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:44:45.512 +02:00 [INF] Executed ViewResult - view Index executed in 3.5218ms.
2024-11-16 17:44:45.513 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 4.4732ms
2024-11-16 17:44:45.513 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:45.514 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 19.7175ms
2024-11-16 17:44:45.843 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:44:45.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:44:45.846 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.925ms
2024-11-16 17:44:45.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.6242ms
2024-11-16 17:44:45.865 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:44:45.868 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:45.869 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:44:45.907 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 17:44:45.911 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-11-16 17:44:45.915 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 44.0036ms
2024-11-16 17:44:45.917 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:44:45.919 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method96(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 17:44:45.930 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 64.5606ms
2024-11-16 17:46:42.198 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 17:46:42.542 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 17:46:42.544 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 17:46:42.550 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 17:46:42.552 +02:00 [INF] Hosting environment: Development
2024-11-16 17:46:42.552 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 17:46:44.154 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 17:46:44.878 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:46:44.892 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:46:44.905 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 17:46:45.023 +02:00 [INF] Executed ViewResult - view Index executed in 116.4027ms.
2024-11-16 17:46:45.034 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 138.2331ms
2024-11-16 17:46:45.036 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 17:46:45.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 891.587ms
2024-11-16 17:46:45.164 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 17:46:45.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 17:46:45.185 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.7261ms
2024-11-16 17:46:45.248 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.9551ms
2024-11-16 17:46:45.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:46:45.324 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:46:45.338 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:46:46.112 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 17:46:47.151 +02:00 [INF] Executed DbCommand (145ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], COALESCE(AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END), 0.0E0) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 17:46:47.182 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:46:47.208 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 1868.3484ms
2024-11-16 17:46:47.211 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:46:47.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 1912.6724ms
2024-11-16 17:47:01.431 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:47:01.442 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:47:01.443 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:47:01.487 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], COALESCE(AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END), 0.0E0) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 17:47:01.489 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:47:01.491 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 46.5217ms
2024-11-16 17:47:01.492 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:47:01.493 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 61.7608ms
2024-11-16 17:47:02.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:47:02.086 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:47:02.087 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:47:02.187 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], COALESCE(AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END), 0.0E0) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 17:47:02.190 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:47:02.193 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 103.8866ms
2024-11-16 17:47:02.194 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:47:02.195 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 117.5338ms
2024-11-16 17:47:02.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 17:47:02.811 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:47:02.813 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 17:47:03.069 +02:00 [INF] Executed DbCommand (254ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], COALESCE(AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END), 0.0E0) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 17:47:03.074 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:47:03.076 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 262.5865ms
2024-11-16 17:47:03.077 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 17:47:03.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 274.0235ms
2024-11-16 17:58:24.088 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - null null
2024-11-16 17:58:24.160 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772704.
2024-11-16 17:58:24.174 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 17:58:24.181 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 17:58:24.184 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - 401 0 null 98.9509ms
2024-11-16 18:00:37.588 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - null null
2024-11-16 18:00:37.698 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772837.
2024-11-16 18:00:37.708 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 18:00:37.717 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 18:00:37.723 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - 401 0 null 137.7253ms
2024-11-16 18:00:37.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - null null
2024-11-16 18:00:37.984 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772837.
2024-11-16 18:00:37.986 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 18:00:37.986 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 18:00:37.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - 401 0 null 19.2147ms
2024-11-16 18:00:38.244 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - null null
2024-11-16 18:00:38.252 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772838.
2024-11-16 18:00:38.255 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 18:00:38.256 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 18:00:38.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - 401 0 null 15.453ms
2024-11-16 18:00:38.466 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - null null
2024-11-16 18:00:38.540 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772838.
2024-11-16 18:00:38.541 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 18:00:38.542 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 18:00:38.566 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - 401 0 null 76.2508ms
2024-11-16 18:00:38.686 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - null null
2024-11-16 18:00:38.692 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772838.
2024-11-16 18:00:38.694 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 18:00:38.695 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 18:00:38.696 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-09&endDate=2024-11-16 - 401 0 null 9.8895ms
2024-11-16 18:01:21.559 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:01:21.778 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 18:01:21.779 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 18:01:21.784 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:01:21.785 +02:00 [INF] Hosting environment: Development
2024-11-16 18:01:21.785 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 18:01:22.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:01:22.727 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772882.
2024-11-16 18:01:22.740 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 18:01:22.742 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 18:01:22.750 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 401 0 null 385.5163ms
2024-11-16 18:01:26.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 18:01:26.061 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772886.
2024-11-16 18:01:26.065 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 18:01:26.068 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 18:01:26.069 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 401 0 null 30.3384ms
2024-11-16 18:01:27.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:01:28.004 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772888.
2024-11-16 18:01:28.008 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 18:01:28.009 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 18:01:28.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 401 0 null 17.6478ms
2024-11-16 18:01:33.599 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 18:01:33.611 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772893.
2024-11-16 18:01:33.621 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772893.
2024-11-16 18:01:33.634 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:33.697 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 18:01:33.710 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731771964. Expected to be greater than 1731772893.
2024-11-16 18:01:33.722 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 18:01:33.812 +02:00 [INF] Executed ViewResult - view Login executed in 96.9061ms.
2024-11-16 18:01:33.816 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 114.8934ms
2024-11-16 18:01:33.818 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:33.824 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 224.8156ms
2024-11-16 18:01:33.868 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:01:33.875 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.3511ms
2024-11-16 18:01:33.877 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:01:33.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.2321ms
2024-11-16 18:01:42.045 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-16 18:01:42.057 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772902.
2024-11-16 18:01:42.059 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731771964. Expected to be greater than 1731772902.
2024-11-16 18:01:42.063 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:42.089 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 18:01:42.151 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-16 18:01:42.184 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 18:01:42.192 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 18:01:42.792 +02:00 [INF] Received HTTP response headers after 592.462ms - 200
2024-11-16 18:01:42.796 +02:00 [INF] End processing HTTP request after 612.2812ms - 200
2024-11-16 18:01:42.800 +02:00 [INF] User logged in successfully.
2024-11-16 18:01:45.199 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 18:01:46.661 +02:00 [INF] Executed DbCommand (155ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 18:01:47.049 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p1='5', @p0='2024-11-16T16:01:46.8431626Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 18:01:47.081 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 18:01:47.083 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-16 18:01:47.090 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 18:01:47.093 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4998.4557ms
2024-11-16 18:01:47.094 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:47.096 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:ba7f5727-3d50-2428-c09a-555d2602ca6b
2024-11-16 18:01:47.105 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 5059.1618ms
2024-11-16 18:01:47.112 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 18:01:47.599 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:47.613 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:01:47.796 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 18:01:47.846 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 18:01:47.868 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 18:01:47.918 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 18:01:47.992 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-16 18:01:48.025 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-16 18:01:48.036 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-16 18:01:48.062 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-16 18:01:48.072 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-16 18:01:48.084 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-16 18:01:48.192 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-16 18:01:48.253 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:01:48.272 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:01:48.288 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:01:48.359 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-16 18:01:48.423 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__startDate_0='2024-10-17T16:01:48.3868496Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:01:48.447 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-16 18:01:48.528 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 82.3973ms.
2024-11-16 18:01:48.530 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 914.2962ms
2024-11-16 18:01:48.532 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:48.533 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1420.8559ms
2024-11-16 18:01:48.610 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:01:48.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-16 18:01:48.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.7095ms
2024-11-16 18:01:48.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:01:48.637 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-16 18:01:48.641 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 24.0477ms
2024-11-16 18:01:48.663 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 25.8332ms
2024-11-16 18:01:48.664 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-16 18:01:48.667 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-16 18:01:48.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.1321ms
2024-11-16 18:01:49.030 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-16 18:01:49.030 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-16 18:01:49.030 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-16 18:01:49.040 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:49.040 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:49.044 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:49.065 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:01:49.075 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:01:49.075 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:01:49.248 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__startDate_0='2024-10-17T16:01:49.0831317Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:01:49.260 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:01:49.299 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 220.669ms
2024-11-16 18:01:49.302 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__startDate_0='2023-12-16T18:01:49.0849351+02:00' (Nullable = true), @__endDate_1='2024-11-16T18:01:49.0849351+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-16 18:01:49.304 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:49.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 289.3196ms
2024-11-16 18:01:49.335 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__startDate_0='2024-10-17T16:01:49.0872327Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-16 18:01:49.335 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-16 18:01:49.353 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 18:01:49.364 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:01:49.368 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 287.1153ms
2024-11-16 18:01:49.370 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 302.4833ms
2024-11-16 18:01:49.370 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:49.376 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:49.377 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 347.4518ms
2024-11-16 18:01:49.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 349.6045ms
2024-11-16 18:01:51.395 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:01:51.402 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:51.409 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:01:51.412 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:01:51.420 +02:00 [INF] Executed ViewResult - view Index executed in 8.6762ms.
2024-11-16 18:01:51.423 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 11.9459ms
2024-11-16 18:01:51.424 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:51.425 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 30.6481ms
2024-11-16 18:01:51.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:01:51.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:01:51.464 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9315ms
2024-11-16 18:01:51.470 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.9312ms
2024-11-16 18:01:51.501 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:01:51.507 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:51.514 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:01:51.831 +02:00 [INF] Executed DbCommand (254ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t].[c2], [t0].[c], [t0].[QueryID], [t0].[DepartmentID]
FROM (
    SELECT [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN 1
    END) AS [c0], COUNT(CASE
        WHEN [q].[ResolvedDate] IS NULL THEN 1
    END) AS [c1], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    END) AS [c2]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q0].[SubmissionDate], [q0].[ResolvedDate]) AS float) AS [c], [q0].[QueryID], [d0].[DepartmentID], [d0].[DepartmentName]
    FROM [Queries] AS [q0]
    LEFT JOIN [Departments] AS [d0] ON [q0].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1 AND [q0].[ResolvedDate] IS NOT NULL
) AS [t0] ON [t].[DepartmentName] = [t0].[DepartmentName]
ORDER BY [t].[DepartmentName], [t0].[c], [t0].[QueryID]
2024-11-16 18:01:51.866 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Apptivate_UQMS_WebApp.Data.ApplicationDbContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method422(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method422(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-11-16 18:01:51.870 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 354.1578ms
2024-11-16 18:01:51.871 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:01:51.874 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method422(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetQueryResolutionTimeReportAsync(DateTime startDate, DateTime endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 43
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime(Nullable`1 startDate, Nullable`1 endDate, String department) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 18:01:51.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 416.7754ms
2024-11-16 18:02:18.207 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:02:18.504 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 18:02:18.507 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 18:02:18.512 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:02:18.513 +02:00 [INF] Hosting environment: Development
2024-11-16 18:02:18.514 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 18:02:18.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:02:19.793 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:02:19.810 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:02:19.824 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:02:19.988 +02:00 [INF] Executed ViewResult - view Index executed in 167.0218ms.
2024-11-16 18:02:20.000 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 188.8332ms
2024-11-16 18:02:20.003 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:02:20.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 1039.9658ms
2024-11-16 18:02:20.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:02:20.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:02:20.052 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.3347ms
2024-11-16 18:02:20.115 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.0243ms
2024-11-16 18:02:20.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:02:20.168 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:02:20.189 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:02:21.136 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 18:02:22.230 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 18:02:22.286 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:02:22.342 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 2151.0711ms
2024-11-16 18:02:22.345 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:02:22.356 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 2229.0781ms
2024-11-16 18:02:45.939 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:02:45.958 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:02:45.966 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:02:46.026 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:02:46.076 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 108.0931ms
2024-11-16 18:02:46.080 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:02:46.084 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'RelationalGroupByShaperExpression:
KeySelector: new { 
    CategoryName = q0.CategoryName, 
    DepartmentName = d.DepartmentName
 }, 
ElementSelector: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
    Outer = new TransparentIdentifier<Query, QueryCategory>(
        Outer = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+Query
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Outer
            IsNullable: False
        , 
        Inner = StructuralTypeShaperExpression: 
            Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
            ValueBufferExpression: 
                ProjectionBindingExpression: Outer.Inner
            IsNullable: True
    ), 
    Inner = StructuralTypeShaperExpression: 
        Apptivate_UQMS_WebApp.Models.Account+Department
        ValueBufferExpression: 
            ProjectionBindingExpression: Inner
        IsNullable: True
), 
GroupingEnumerable:ShapedQueryExpression: 
    QueryExpression: 
        Projection Mapping:
            Outer.Outer -> EntityProjectionExpression: Query
            Outer.Inner -> EntityProjectionExpression: QueryCategory
            Inner -> EntityProjectionExpression: Department
        SELECT 1
        FROM Queries AS q
        LEFT JOIN QueryCategories AS q0 ON q.CategoryID == q0.CategoryID
        LEFT JOIN Departments AS d ON q.DepartmentID == d.DepartmentID
        WHERE ((q.SubmissionDate >= @__startDate_0) && (q.SubmissionDate <= @__endDate_1)) && ((q0.CategoryName == q0.CategoryName) && (d.DepartmentName == d.DepartmentName))
    ShaperExpression: new TransparentIdentifier<TransparentIdentifier<Query, QueryCategory>, Department>(
            Outer = new TransparentIdentifier<Query, QueryCategory>(
                Outer = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+Query
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Outer
                    IsNullable: False
                , 
                Inner = StructuralTypeShaperExpression: 
                    Apptivate_UQMS_WebApp.Models.QueryModel+QueryCategory
                    ValueBufferExpression: 
                        ProjectionBindingExpression: Outer.Inner
                    IsNullable: True
            ), 
            Inner = StructuralTypeShaperExpression: 
                Apptivate_UQMS_WebApp.Models.Account+Department
                ValueBufferExpression: 
                    ProjectionBindingExpression: Inner
                IsNullable: True
        )

    .AsQueryable()
    .GroupBy(e => new DateTime(
        e.Outer.Outer.SubmissionDate.Value.Year, 
        e.Outer.Outer.SubmissionDate.Value.Month, 
        1
    ))
    .Select(g0 => new MonthlyTrend{ 
        Month = g0.Key, 
        Count = g0
            .AsQueryable()
            .Count() 
    }
    )
    .OrderBy(e1 => e1.Month)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateProjection(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberAssignment(MemberAssignment memberAssignment)
   at System.Linq.Expressions.ExpressionVisitor.VisitMemberBinding(MemberBinding node)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.VisitMemberInit(MemberInitExpression memberInitExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalProjectionBindingExpressionVisitor.Translate(SelectExpression selectExpression, Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateSelect(ShapedQueryExpression source, LambdaExpression selector)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Apptivate_UQMS_WebApp.Services.ReportingService.GetHighVolumeQueryReportAsync(DateTime startDate, DateTime endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Services\ReportingService.cs:line 98
   at Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries(Nullable`1 startDate, Nullable`1 endDate) in C:\Users\trent\source\repos\Apptivate_UQMS\Controllers\ReportsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 18:02:46.164 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 500 null text/plain; charset=utf-8 225.1693ms
2024-11-16 18:07:36.481 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:07:36.720 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 18:07:36.721 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 18:07:36.724 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:07:36.725 +02:00 [INF] Hosting environment: Development
2024-11-16 18:07:36.726 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 18:07:37.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:07:38.212 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:07:38.236 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:07:38.253 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:07:38.413 +02:00 [INF] Executed ViewResult - view Index executed in 165.788ms.
2024-11-16 18:07:38.423 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 184.5306ms
2024-11-16 18:07:38.424 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:07:38.432 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 1030.952ms
2024-11-16 18:07:38.674 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:07:38.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-16 18:07:38.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:07:38.686 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.1723ms
2024-11-16 18:07:38.709 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-16 18:07:38.710 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 34.2275ms
2024-11-16 18:07:38.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.6433ms
2024-11-16 18:07:38.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:07:38.842 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:07:38.854 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:07:39.637 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 18:07:40.763 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 18:07:40.792 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:07:40.818 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 1961.8555ms
2024-11-16 18:07:40.820 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:07:40.825 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 1990.2713ms
2024-11-16 18:08:22.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:08:22.394 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:08:22.399 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:08:22.432 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:08:22.452 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName], [d].[DepartmentName], [q].[SubmissionDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:08:22.459 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+HighVolumeQueryReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:08:22.466 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 64.952ms
2024-11-16 18:08:22.467 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:08:22.468 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 78.7162ms
2024-11-16 18:14:05.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:14:05.399 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:05.423 +02:00 [INF] Route matched with {action = "StaffPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffPerformance(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:14:05.788 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Name] + N' ' + [u].[Surname] AS [StaffName], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q5]
    LEFT JOIN [Queries] AS [q6] ON [q5].[QueryID] = [q6].[QueryID]
    WHERE [s].[StaffID] = [q5].[StaffID] AND [q6].[QueryID] IS NOT NULL AND [q6].[SubmissionDate] >= @__startDate_0 AND [q6].[SubmissionDate] <= @__endDate_1) AS [QueriesHandled], (
    SELECT COUNT(*)
    FROM [QueryAssignments] AS [q7]
    LEFT JOIN [Queries] AS [q8] ON [q7].[QueryID] = [q8].[QueryID]
    WHERE [s].[StaffID] = [q7].[StaffID] AND [q8].[QueryID] IS NOT NULL AND [q8].[Status] = N'Resolved' AND [q8].[ResolvedDate] >= @__startDate_0 AND [q8].[ResolvedDate] <= @__endDate_1) AS [QueriesResolved], COALESCE((
    SELECT AVG(CAST(DATEDIFF(hour, [q10].[SubmissionDate], [q10].[ResolvedDate]) AS float))
    FROM [QueryAssignments] AS [q9]
    LEFT JOIN [Queries] AS [q10] ON [q9].[QueryID] = [q10].[QueryID]
    WHERE [s].[StaffID] = [q9].[StaffID] AND [q10].[QueryID] IS NOT NULL AND [q10].[Status] = N'Resolved' AND [q10].[ResolvedDate] >= @__startDate_0 AND [q10].[ResolvedDate] <= @__endDate_1), 0.0E0) AS [AverageResponseTime], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q11]
        LEFT JOIN [Queries] AS [q12] ON [q11].[QueryID] = [q12].[QueryID]
        WHERE [s].[StaffID] = [q11].[StaffID] AND [q12].[QueryID] IS NOT NULL AND [q12].[SubmissionDate] >= @__startDate_0 AND [q12].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q13]
        LEFT JOIN [Queries] AS [q14] ON [q13].[QueryID] = [q14].[QueryID]
        WHERE [s].[StaffID] = [q13].[StaffID] AND [q14].[QueryID] IS NOT NULL AND [q14].[Status] = N'Resolved' AND [q14].[ResolvedDate] >= @__startDate_0 AND [q14].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q15]
        LEFT JOIN [Queries] AS [q16] ON [q15].[QueryID] = [q16].[QueryID]
        WHERE [s].[StaffID] = [q15].[StaffID] AND [q16].[QueryID] IS NOT NULL AND [q16].[SubmissionDate] >= @__startDate_0 AND [q16].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END AS [ResolutionRate]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY CASE
    WHEN (
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q]
        LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
        WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL AND [q0].[SubmissionDate] >= @__startDate_0 AND [q0].[SubmissionDate] <= @__endDate_1) = 0 THEN 0.0E0
    ELSE (CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q1]
        LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
        WHERE [s].[StaffID] = [q1].[StaffID] AND [q2].[QueryID] IS NOT NULL AND [q2].[Status] = N'Resolved' AND [q2].[ResolvedDate] >= @__startDate_0 AND [q2].[ResolvedDate] <= @__endDate_1) AS float) / CAST((
        SELECT COUNT(*)
        FROM [QueryAssignments] AS [q3]
        LEFT JOIN [Queries] AS [q4] ON [q3].[QueryID] = [q4].[QueryID]
        WHERE [s].[StaffID] = [q3].[StaffID] AND [q4].[QueryID] IS NOT NULL AND [q4].[SubmissionDate] >= @__startDate_0 AND [q4].[SubmissionDate] <= @__endDate_1) AS float)) * 100.0E0
END DESC
2024-11-16 18:14:05.796 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+StaffPerformanceReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:14:05.818 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp) in 393.4886ms
2024-11-16 18:14:05.819 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.StaffPerformance (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:05.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/StaffPerformance?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 470.4065ms
2024-11-16 18:14:06.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - null null
2024-11-16 18:14:06.553 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:06.557 +02:00 [INF] Route matched with {action = "UnresolvedQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnresolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:14:06.613 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__overdueDate_0='2024-11-15T16:14:06.5623803Z' (Nullable = true), @__currentDate_2='2024-11-16T16:14:06.5623803Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t].[c1], [t0].[TicketNumber], [t0].[Name], [t0].[SubmissionDate], [t0].[PendingDays], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID], [t0].[UserID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS [c0], (CAST(COUNT(CASE
        WHEN [q].[SubmissionDate] <= @__overdueDate_0 THEN 1
    END) AS float) / CAST(COUNT(*) AS float)) * 100.0E0 AS [c1]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[Status] <> N'Resolved'
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT [q1].[TicketNumber], [u].[Name], [q1].[SubmissionDate], DATEDIFF(day, [q1].[SubmissionDate], @__currentDate_2) AS [PendingDays], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [s].[StudentID], [u].[UserID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    INNER JOIN [StudentDetails] AS [s] ON [q1].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    WHERE [q1].[Status] <> N'Resolved' AND [q1].[SubmissionDate] <= @__overdueDate_0
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[PendingDays] DESC, [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID], [t0].[StudentID]
2024-11-16 18:14:06.621 +02:00 [INF] Executing JsonResult, writing value of type 'Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+UnresolvedQueriesReport'.
2024-11-16 18:14:06.624 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp) in 65.0567ms
2024-11-16 18:14:06.624 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.UnresolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:06.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/UnresolvedQueries - 200 null application/json; charset=utf-8 75.5683ms
2024-11-16 18:14:09.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:14:09.057 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:09.126 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:14:09.142 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:14:09.150 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName], [d].[DepartmentName], [q].[SubmissionDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:14:09.154 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+HighVolumeQueryReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:14:09.155 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 27.0164ms
2024-11-16 18:14:09.155 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:09.156 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 119.426ms
2024-11-16 18:14:09.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:14:09.960 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:09.962 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:14:09.981 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 18:14:09.984 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:14:09.985 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 22.3244ms
2024-11-16 18:14:09.986 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:09.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 30.2055ms
2024-11-16 18:14:10.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:14:10.963 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:10.965 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:14:10.973 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:14:10.981 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName], [d].[DepartmentName], [q].[SubmissionDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:14:10.987 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+HighVolumeQueryReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:14:10.988 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 21.5139ms
2024-11-16 18:14:10.990 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:14:10.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 32.1981ms
2024-11-16 18:18:34.103 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-31&endDate=2024-11-16 - null null
2024-11-16 18:18:34.111 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:18:34.112 +02:00 [INF] Route matched with {action = "HighVolumeQueries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] HighVolumeQueries(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:18:34.128 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-31T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:18:34.137 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='2024-10-31T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[CategoryName], [d].[DepartmentName], [q].[SubmissionDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:18:34.139 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+HighVolumeQueryReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:18:34.140 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp) in 27.0113ms
2024-11-16 18:18:34.141 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.HighVolumeQueries (Apptivate_UQMS_WebApp)'
2024-11-16 18:18:34.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/HighVolumeQueries?startDate=2024-10-31&endDate=2024-11-16 - 200 null application/json; charset=utf-8 38.9534ms
2024-11-16 18:18:50.784 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-31&endDate=2024-11-16 - null null
2024-11-16 18:18:50.786 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:18:50.786 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:18:50.807 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__startDate_0='2024-10-31T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 18:18:50.810 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:18:50.811 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 23.5488ms
2024-11-16 18:18:50.811 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:18:50.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-31&endDate=2024-11-16 - 200 null application/json; charset=utf-8 28.6798ms
2024-11-16 18:36:24.336 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:36:24.588 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 18:36:24.590 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 18:36:24.593 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:36:24.594 +02:00 [INF] Hosting environment: Development
2024-11-16 18:36:24.594 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 18:36:25.041 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:36:26.200 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:36:26.224 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:36:26.247 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:36:26.395 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 162.7508ms
2024-11-16 18:36:26.406 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:36:26.416 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Reports_Index.ExecuteAsync() in C:\Users\trent\source\repos\Apptivate_UQMS\Views\Reports\Index.cshtml:line 70
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 18:36:26.833 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 500 null text/html; charset=utf-8 1794.3282ms
2024-11-16 18:36:27.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:36:27.128 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:36:27.138 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.8601ms
2024-11-16 18:36:27.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.9272ms
2024-11-16 18:38:31.601 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:38:31.877 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 18:38:31.881 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 18:38:31.884 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:38:31.886 +02:00 [INF] Hosting environment: Development
2024-11-16 18:38:31.887 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 18:38:32.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:38:33.039 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:33.052 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:33.064 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:38:33.143 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 86.4258ms
2024-11-16 18:38:33.149 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:33.153 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Reports_Index.ExecuteAsync() in C:\Users\trent\source\repos\Apptivate_UQMS\Views\Reports\Index.cshtml:line 70
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 18:38:33.263 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 500 null text/html; charset=utf-8 850.6775ms
2024-11-16 18:38:33.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:38:33.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:38:33.432 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.4216ms
2024-11-16 18:38:33.511 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.5316ms
2024-11-16 18:38:42.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:38:42.688 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:42.691 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:42.693 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:38:42.698 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 6.0771ms
2024-11-16 18:38:42.699 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:42.701 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Reports_Index.ExecuteAsync() in C:\Users\trent\source\repos\Apptivate_UQMS\Views\Reports\Index.cshtml:line 70
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 18:38:42.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 500 null text/html; charset=utf-8 50.7614ms
2024-11-16 18:38:42.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:38:42.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:38:42.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.7017ms
2024-11-16 18:38:42.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.5076ms
2024-11-16 18:38:43.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:38:43.778 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:43.778 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:43.781 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:38:43.782 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 1.5988ms
2024-11-16 18:38:43.783 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:43.783 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Reports_Index.ExecuteAsync() in C:\Users\trent\source\repos\Apptivate_UQMS\Views\Reports\Index.cshtml:line 70
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 18:38:43.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 500 null text/html; charset=utf-8 27.487ms
2024-11-16 18:38:43.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:38:43.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:38:43.820 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1537ms
2024-11-16 18:38:43.824 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.2925ms
2024-11-16 18:38:44.865 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 18:38:44.875 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:44.881 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:44.894 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 18:38:44.895 +02:00 [ERR] User not logged in.
2024-11-16 18:38:44.907 +02:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-16 18:38:44.908 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 26.061ms
2024-11-16 18:38:44.909 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:44.909 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 302 0 null 44.0938ms
2024-11-16 18:38:44.918 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 18:38:44.923 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:44.927 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:46.459 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 18:38:47.397 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 18:38:47.478 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 18:38:47.481 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-16 18:38:47.488 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 18:38:47.490 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2562.2591ms
2024-11-16 18:38:47.492 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:47.495 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:f2eb478a-6987-c3d3-de09-4f2177b152d9
2024-11-16 18:38:47.500 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 2581.626ms
2024-11-16 18:38:48.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 18:38:48.886 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:48.889 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:49.275 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 18:38:49.282 +02:00 [INF] Auto-login successful for user admin@gmail.com.
2024-11-16 18:38:49.284 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2024-11-16 18:38:49.285 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 394.4756ms
2024-11-16 18:38:49.287 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:49.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 302 0 null 417.1659ms
2024-11-16 18:38:49.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/Index - null null
2024-11-16 18:38:49.308 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:49.311 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:49.314 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 18:38:49.315 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.9162ms
2024-11-16 18:38:49.316 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:49.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/Index - 302 0 null 19.0757ms
2024-11-16 18:38:49.324 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 18:38:49.328 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:49.329 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:49.759 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 18:38:49.801 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 18:38:49.824 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 18:38:49.860 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 18:38:49.910 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-16 18:38:49.940 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-16 18:38:49.949 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-16 18:38:49.972 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-16 18:38:49.983 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-16 18:38:49.995 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-16 18:38:50.077 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-16 18:38:50.123 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:38:50.127 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:38:50.139 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:38:50.201 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-16 18:38:50.262 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__startDate_0='2024-10-17T16:38:50.2271947Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:38:50.277 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-16 18:38:50.375 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 99.3586ms.
2024-11-16 18:38:50.379 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 1047.8928ms
2024-11-16 18:38:50.381 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:50.383 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1059.2685ms
2024-11-16 18:38:50.516 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:38:50.524 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.7532ms
2024-11-16 18:38:50.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-16 18:38:50.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-16 18:38:50.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:38:50.557 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 31.2268ms
2024-11-16 18:38:50.560 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-16 18:38:50.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.7061ms
2024-11-16 18:38:50.566 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 40.1823ms
2024-11-16 18:38:50.573 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-16 18:38:50.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-16 18:38:50.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-16 18:38:50.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-16 18:38:50.989 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:50.990 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:50.994 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:51.001 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:51.009 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:51.009 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:51.059 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__startDate_0='2023-12-16T18:38:51.0120484+02:00' (Nullable = true), @__endDate_1='2024-11-16T18:38:51.0120484+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-16 18:38:51.076 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-16 18:38:51.080 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 18:38:51.090 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__startDate_0='2024-10-17T16:38:51.0387622Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-16 18:38:51.102 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__startDate_0='2024-10-17T16:38:51.0351177Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 18:38:51.103 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:38:51.108 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:38:51.115 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 106.9523ms
2024-11-16 18:38:51.117 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:51.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 136.4422ms
2024-11-16 18:38:51.131 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 119.6175ms
2024-11-16 18:38:51.131 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 118.2417ms
2024-11-16 18:38:51.132 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:51.133 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:51.134 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 152.7937ms
2024-11-16 18:38:51.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 153.7056ms
2024-11-16 18:38:53.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:38:53.166 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:53.168 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:38:53.169 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:38:53.172 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 3.103ms
2024-11-16 18:38:53.174 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:38:53.176 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Reports_Index.ExecuteAsync() in C:\Users\trent\source\repos\Apptivate_UQMS\Views\Reports\Index.cshtml:line 70
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 18:38:53.197 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 500 null text/html; charset=utf-8 39.4469ms
2024-11-16 18:38:53.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:38:53.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:38:53.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4321ms
2024-11-16 18:38:53.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9434ms
2024-11-16 18:41:46.878 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:41:47.375 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 18:41:47.376 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 18:41:47.379 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:41:47.380 +02:00 [INF] Hosting environment: Development
2024-11-16 18:41:47.389 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 18:41:47.735 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:41:48.495 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:41:48.512 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:41:48.529 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:41:48.639 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 122.3849ms
2024-11-16 18:41:48.644 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:41:48.653 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCoreGeneratedDocument.Views_Reports_Index.ExecuteAsync() in C:\Users\trent\source\repos\Apptivate_UQMS\Views\Reports\Index.cshtml:line 70
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-16 18:41:49.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 500 null text/html; charset=utf-8 1295.9913ms
2024-11-16 18:41:49.245 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:41:49.245 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:41:49.256 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.8502ms
2024-11-16 18:41:49.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.4449ms
2024-11-16 18:59:13.003 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:59:13.281 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 18:59:13.283 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 18:59:13.287 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:59:13.289 +02:00 [INF] Hosting environment: Development
2024-11-16 18:59:13.290 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 18:59:13.968 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 18:59:15.022 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:59:15.035 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:59:15.049 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 18:59:15.161 +02:00 [INF] Executed ViewResult - view Index executed in 116.0349ms.
2024-11-16 18:59:15.170 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 131.6797ms
2024-11-16 18:59:15.172 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 18:59:15.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 1212.8103ms
2024-11-16 18:59:15.375 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 18:59:15.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 18:59:15.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.959ms
2024-11-16 18:59:15.481 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.2064ms
2024-11-16 18:59:15.642 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 18:59:15.642 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Report/GetResolutionData?startDate=2024-10-16&endDate=2024-11-16&department= - null null
2024-11-16 18:59:15.671 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:59:15.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Report/GetResolutionData?startDate=2024-10-16&endDate=2024-11-16&department= - 404 0 null 33.6856ms
2024-11-16 18:59:15.682 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Report/GetResolutionData, Response status code: 404
2024-11-16 18:59:15.703 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 18:59:16.779 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 18:59:17.687 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
2024-11-16 18:59:17.987 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[TicketNumber], [q].[Description], [q].[SubmissionDate], [q].[ResolvedDate] AS [ResolutionDate], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
    ELSE 0.0E0
END AS [ResolutionTimeHours], [q0].[CategoryName] AS [Category], [d].[DepartmentName] AS [Department], [f].[Rating] AS [UserSatisfactionRating], [f].[Comments] AS [UserFeedback]
FROM [Queries] AS [q]
LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
LEFT JOIN [Feedback] AS [f] ON [q].[QueryID] = [f].[QueryID]
WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
2024-11-16 18:59:18.006 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 18:59:18.049 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 2344.3619ms
2024-11-16 18:59:18.051 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 18:59:18.059 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 2417.2415ms
2024-11-16 19:38:00.424 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 19:38:00.681 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-16 19:38:00.682 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-16 19:38:00.685 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 19:38:00.686 +02:00 [INF] Hosting environment: Development
2024-11-16 19:38:00.687 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-16 19:38:01.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 19:38:01.729 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731776502. Expected to be greater than 1731778681.
2024-11-16 19:38:01.743 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-11-16 19:38:01.745 +02:00 [INF] AuthenticationScheme: Firebase was challenged.
2024-11-16 19:38:01.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 401 0 null 446.5792ms
2024-11-16 19:38:13.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-16 19:38:14.029 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731776502. Expected to be greater than 1731778694.
2024-11-16 19:38:14.042 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731776502. Expected to be greater than 1731778694.
2024-11-16 19:38:14.047 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:14.069 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 19:38:14.080 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731776502. Expected to be greater than 1731778694.
2024-11-16 19:38:14.092 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-16 19:38:14.230 +02:00 [INF] Executed ViewResult - view Login executed in 143.7216ms.
2024-11-16 19:38:14.236 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 165.1822ms
2024-11-16 19:38:14.239 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:14.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 254.7503ms
2024-11-16 19:38:14.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 19:38:14.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.3434ms
2024-11-16 19:38:14.311 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 19:38:14.370 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.7078ms
2024-11-16 19:38:19.710 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/ - application/x-www-form-urlencoded 224
2024-11-16 19:38:19.718 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731776502. Expected to be greater than 1731778699.
2024-11-16 19:38:19.719 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731776502. Expected to be greater than 1731778699.
2024-11-16 19:38:19.720 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:19.743 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-16 19:38:19.805 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-16 19:38:19.841 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 19:38:19.851 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-16 19:38:20.415 +02:00 [INF] Received HTTP response headers after 559.1687ms - 200
2024-11-16 19:38:20.417 +02:00 [INF] End processing HTTP request after 580.1859ms - 200
2024-11-16 19:38:20.419 +02:00 [INF] User logged in successfully.
2024-11-16 19:38:22.924 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-16 19:38:24.292 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-16 19:38:24.657 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p1='5', @p0='2024-11-16T17:38:24.4820792Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-16 19:38:24.684 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-16 19:38:24.685 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-16 19:38:24.692 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-16 19:38:24.694 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4949.3598ms
2024-11-16 19:38:24.696 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:24.699 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:0ec0d502-dee0-b3c4-32ef-b5f9d8595fef
2024-11-16 19:38:24.707 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/ - 302 0 null 4997.3983ms
2024-11-16 19:38:24.711 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-16 19:38:25.034 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:25.044 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 19:38:25.230 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 19:38:25.268 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-16 19:38:25.288 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 19:38:25.328 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-16 19:38:25.399 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-16 19:38:25.435 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-16 19:38:25.447 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-16 19:38:25.475 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-16 19:38:25.486 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-16 19:38:25.498 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-16 19:38:25.593 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-16 19:38:25.641 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 19:38:25.662 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 19:38:25.681 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 19:38:25.765 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-16 19:38:25.831 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='2024-10-17T17:38:25.7888440Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 19:38:25.850 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-16 19:38:25.948 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 99.6971ms.
2024-11-16 19:38:25.949 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 904.0539ms
2024-11-16 19:38:25.951 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:25.952 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1241.1738ms
2024-11-16 19:38:26.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 19:38:26.009 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-16 19:38:26.011 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.276ms
2024-11-16 19:38:26.014 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-16 19:38:26.014 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 19:38:26.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 15.8238ms
2024-11-16 19:38:26.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 11.4399ms
2024-11-16 19:38:26.027 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-16 19:38:26.029 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-16 19:38:26.031 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.97ms
2024-11-16 19:38:26.341 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-16 19:38:26.341 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-16 19:38:26.341 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-16 19:38:26.348 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:26.348 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:26.349 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:26.354 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 19:38:26.356 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 19:38:26.357 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-16 19:38:26.491 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__startDate_0='2024-10-17T17:38:26.3668924Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-16 19:38:26.498 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 19:38:26.516 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='2024-10-17T17:38:26.3721489Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-16 19:38:26.516 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__startDate_0='2023-12-16T19:38:26.3638069+02:00' (Nullable = true), @__endDate_1='2024-11-16T19:38:26.3638069+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-16 19:38:26.530 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 19:38:26.531 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 175.0477ms
2024-11-16 19:38:26.536 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:26.537 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 195.9142ms
2024-11-16 19:38:26.543 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 183.1055ms
2024-11-16 19:38:26.552 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:26.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 211.4597ms
2024-11-16 19:38:26.554 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-16 19:38:26.560 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-16 19:38:26.567 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 209.1781ms
2024-11-16 19:38:26.568 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:26.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 228.09ms
2024-11-16 19:38:28.095 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/Index - null null
2024-11-16 19:38:28.101 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:28.102 +02:00 [INF] Route matched with {action = "Index", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 19:38:28.105 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-16 19:38:28.112 +02:00 [INF] Executed ViewResult - view Index executed in 7.9727ms.
2024-11-16 19:38:28.113 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp) in 9.4519ms
2024-11-16 19:38:28.114 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.Index (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:28.115 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/Index - 200 null text/html; charset=utf-8 20.781ms
2024-11-16 19:38:28.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-16 19:38:28.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-16 19:38:28.151 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4458ms
2024-11-16 19:38:28.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.4219ms
2024-11-16 19:38:28.180 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/YourController/GetQueryResolutionTimeReport?startDate=2024-10-15&endDate=2024-11-16&department= - null null
2024-11-16 19:38:28.180 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - null null
2024-11-16 19:38:28.186 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:28.187 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/YourController/GetQueryResolutionTimeReport?startDate=2024-10-15&endDate=2024-11-16&department= - 404 0 null 6.2571ms
2024-11-16 19:38:28.190 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/YourController/GetQueryResolutionTimeReport, Response status code: 404
2024-11-16 19:38:28.197 +02:00 [INF] Route matched with {action = "QueryResolutionTime", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryResolutionTime(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String) on controller Apptivate_UQMS_WebApp.Controllers.ReportsController (Apptivate_UQMS_WebApp).
2024-11-16 19:38:28.297 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__startDate_0='2024-10-17T00:00:00.0000000' (Nullable = true), @__endDate_1='2024-11-16T00:00:00.0000000' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CategoryName], [t].[DepartmentName], [t].[c], [t].[c0], [t0].[c], [t0].[QueryID], [t0].[CategoryID], [t0].[DepartmentID]
FROM (
    SELECT [q0].[CategoryName], [d].[DepartmentName], COUNT(*) AS [c], AVG(CASE
        WHEN [q].[ResolvedDate] IS NOT NULL THEN CAST(DATEDIFF(hour, [q].[SubmissionDate], [q].[ResolvedDate]) AS float)
        ELSE 0.0E0
    END) AS [c0]
    FROM [Queries] AS [q]
    LEFT JOIN [QueryCategories] AS [q0] ON [q].[CategoryID] = [q0].[CategoryID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
    GROUP BY [q0].[CategoryName], [d].[DepartmentName]
) AS [t]
LEFT JOIN (
    SELECT CAST(DATEDIFF(hour, [q1].[SubmissionDate], [q1].[ResolvedDate]) AS float) AS [c], [q1].[QueryID], [q2].[CategoryID], [d0].[DepartmentID], [q2].[CategoryName], [d0].[DepartmentName]
    FROM [Queries] AS [q1]
    LEFT JOIN [QueryCategories] AS [q2] ON [q1].[CategoryID] = [q2].[CategoryID]
    LEFT JOIN [Departments] AS [d0] ON [q1].[DepartmentID] = [d0].[DepartmentID]
    WHERE [q1].[SubmissionDate] >= @__startDate_0 AND [q1].[SubmissionDate] <= @__endDate_1 AND [q1].[ResolvedDate] IS NOT NULL
) AS [t0] ON ([t].[CategoryName] = [t0].[CategoryName] OR ([t].[CategoryName] IS NULL AND [t0].[CategoryName] IS NULL)) AND ([t].[DepartmentName] = [t0].[DepartmentName] OR ([t].[DepartmentName] IS NULL AND [t0].[DepartmentName] IS NULL))
ORDER BY [t].[CategoryName], [t].[DepartmentName], [t0].[c], [t0].[QueryID], [t0].[CategoryID]
2024-11-16 19:38:28.306 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.Reports.ReportViewModels+QueryResolutionTimeReport, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 19:38:28.312 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp) in 111.4937ms
2024-11-16 19:38:28.312 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.ReportsController.QueryResolutionTime (Apptivate_UQMS_WebApp)'
2024-11-16 19:38:28.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Reports/QueryResolutionTime?startDate=2024-10-17&endDate=2024-11-16 - 200 null application/json; charset=utf-8 133.554ms
