2024-11-19 08:02:03.577 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 08:02:04.272 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 08:02:04.283 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 08:02:04.288 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 08:02:04.303 +02:00 [INF] Hosting environment: Development
2024-11-19 08:02:04.304 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 08:02:06.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 08:02:07.972 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996127.
2024-11-19 08:02:08.024 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996127.
2024-11-19 08:02:08.044 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:02:08.066 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 08:02:08.084 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 08:02:08.253 +02:00 [INF] Executed ViewResult - view Index executed in 175.2428ms.
2024-11-19 08:02:08.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:02:08.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-19 08:02:08.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:02:08.438 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 369.0738ms
2024-11-19 08:02:08.446 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:02:08.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 27.9427ms
2024-11-19 08:02:08.455 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1791.91ms
2024-11-19 08:02:08.465 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996128.
2024-11-19 08:02:08.485 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-19 08:02:08.488 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 53.7355ms
2024-11-19 08:02:08.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 08:02:08.548 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.3857ms
2024-11-19 08:02:08.552 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996128.
2024-11-19 08:02:08.557 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996128.
2024-11-19 08:02:08.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 21.5772ms
2024-11-19 08:02:08.563 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 08:02:13.091 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:02:13.101 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996133.
2024-11-19 08:02:13.103 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996133.
2024-11-19 08:02:13.104 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:02:13.111 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:02:13.123 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1731957057. Expected to be greater than 1731996133.
2024-11-19 08:02:13.127 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-19 08:02:13.187 +02:00 [INF] Executed ViewResult - view Login executed in 61.887ms.
2024-11-19 08:02:13.191 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 77.2188ms
2024-11-19 08:02:13.194 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:02:13.197 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 106.1107ms
2024-11-19 08:02:13.274 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-19 08:02:13.284 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996133.
2024-11-19 08:02:13.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:02:13.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-19 08:02:13.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:02:13.294 +02:00 [INF] The file /css/Login.css was not modified
2024-11-19 08:02:13.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 17.9367ms
2024-11-19 08:02:13.304 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996133.
2024-11-19 08:02:13.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 34.1391ms
2024-11-19 08:02:13.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.3229ms
2024-11-19 08:02:13.319 +02:00 [INF] The file /js/login.js was not modified
2024-11-19 08:02:13.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 44.1934ms
2024-11-19 08:02:20.511 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Login - application/x-www-form-urlencoded 225
2024-11-19 08:02:20.523 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996140.
2024-11-19 08:02:20.526 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1731957057. Expected to be greater than 1731996140.
2024-11-19 08:02:20.529 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:02:20.564 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:02:20.627 +02:00 [INF] Attempting to log in user with email: Daniel@gmail.com
2024-11-19 08:02:20.666 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-19 08:02:20.674 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-19 08:02:21.483 +02:00 [INF] Received HTTP response headers after 800.2048ms - 200
2024-11-19 08:02:21.488 +02:00 [INF] End processing HTTP request after 824.108ms - 200
2024-11-19 08:02:21.491 +02:00 [INF] User logged in successfully.
2024-11-19 08:02:24.356 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 08:02:26.554 +02:00 [INF] Executed DbCommand (187ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-19 08:02:27.029 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@p1='3', @p0='2024-11-19T06:02:26.7911893Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-19 08:02:27.072 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-19 08:02:27.075 +02:00 [INF] User Daniel@gmail.com logged in successfully.
2024-11-19 08:02:27.083 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-19 08:02:27.086 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 6518.8666ms
2024-11-19 08:02:27.089 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:02:27.093 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:d2afa598-543b-a7a2-4b3e-b84c7657a1ab
2024-11-19 08:02:27.123 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Login - 302 0 null 6611.6641ms
2024-11-19 08:02:27.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-19 08:02:27.516 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:02:27.526 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:02:27.811 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:02:28.110 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-19 08:02:28.316 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-19 08:02:29.133 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-19 08:02:29.226 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:02:29.257 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:02:29.297 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:02:29.304 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-19 08:02:29.625 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 322.4293ms.
2024-11-19 08:02:29.628 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 2099.2789ms
2024-11-19 08:02:29.630 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:02:29.634 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 2509.1262ms
2024-11-19 08:02:29.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-19 08:02:29.733 +02:00 [INF] The file /css/StaffDashboard.css was not modified
2024-11-19 08:02:29.735 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 304 null text/css 11.315ms
2024-11-19 08:02:29.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:02:29.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.0522ms
2024-11-19 08:02:29.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:02:29.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.8024ms
2024-11-19 08:02:29.859 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:02:29.866 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:02:29.890 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:02:29.893 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 33.3013ms
2024-11-19 08:02:30.024 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=KPtsq9EVAxou0Pwadv81rw - null null
2024-11-19 08:02:30.033 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:02:30.252 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: 2wshL4vrg3puIlYpzX5g-w
2024-11-19 08:02:30.257 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: 2wshL4vrg3puIlYpzX5g-w
2024-11-19 08:03:20.644 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-19 08:03:20.661 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:03:20.668 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:03:20.727 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:03:20.734 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-19 08:03:20.809 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 77.1307ms.
2024-11-19 08:03:20.813 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 141.6244ms
2024-11-19 08:03:20.816 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:03:20.819 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 175.0753ms
2024-11-19 08:03:20.848 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: 2wshL4vrg3puIlYpzX5g-w
2024-11-19 08:03:20.851 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: 2wshL4vrg3puIlYpzX5g-w
2024-11-19 08:03:20.859 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:03:20.860 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=KPtsq9EVAxou0Pwadv81rw - 200 null null 50836.1174ms
2024-11-19 08:03:20.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:03:20.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:03:20.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6691ms
2024-11-19 08:03:20.872 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.5302ms
2024-11-19 08:03:58.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-19 08:03:58.033 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:03:58.050 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:03:58.061 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:03:58.268 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:03:58.347 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-19 08:03:58.400 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-19 08:03:58.478 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 79.3321ms.
2024-11-19 08:03:58.481 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 426.7835ms
2024-11-19 08:03:58.483 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:03:58.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 467.5965ms
2024-11-19 08:03:58.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - null null
2024-11-19 08:03:58.545 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:03:58.546 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:03:58.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.1136ms
2024-11-19 08:03:58.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.8748ms
2024-11-19 08:03:58.565 +02:00 [INF] Sending file. Request path: '/css/staffQueries.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\staffQueries.css'
2024-11-19 08:03:58.571 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - 200 7943 text/css 35.8037ms
2024-11-19 08:04:18.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-19 08:04:18.716 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:04:18.721 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:04:18.727 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-19 08:04:18.730 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 4.5653ms
2024-11-19 08:04:18.733 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:04:18.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 34.6911ms
2024-11-19 08:04:18.744 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-19 08:04:18.757 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:04:18.760 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:04:18.799 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:04:18.836 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-19 08:04:18.908 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-19 08:04:19.024 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-19 08:04:19.045 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:04:19.055 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:04:19.064 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:04:19.067 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-19 08:04:19.074 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 6.897ms.
2024-11-19 08:04:19.076 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 311.5322ms
2024-11-19 08:04:19.077 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:04:19.082 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 337.9476ms
2024-11-19 08:04:19.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:04:19.112 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:04:19.114 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.0946ms
2024-11-19 08:04:19.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.8158ms
2024-11-19 08:04:19.193 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:04:19.199 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:04:19.202 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:04:19.203 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 10.411ms
2024-11-19 08:04:19.229 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=zwSDzauKEOV96hGB8ZRBtw - null null
2024-11-19 08:04:19.236 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:04:19.297 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: TbH-HOfIsWIEbmYPALj7zg
2024-11-19 08:04:19.304 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: TbH-HOfIsWIEbmYPALj7zg
2024-11-19 08:04:21.916 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/get-available-queries - null null
2024-11-19 08:04:21.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/get-available-queries - 404 0 null 17.1912ms
2024-11-19 08:04:21.941 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/get-available-queries, Response status code: 404
2024-11-19 08:04:43.485 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: TbH-HOfIsWIEbmYPALj7zg
2024-11-19 08:04:43.486 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: TbH-HOfIsWIEbmYPALj7zg
2024-11-19 08:04:43.488 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:04:43.489 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=zwSDzauKEOV96hGB8ZRBtw - 200 null null 24259.5438ms
2024-11-19 08:12:11.380 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 08:12:11.608 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 08:12:11.611 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 08:12:11.618 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 08:12:11.622 +02:00 [INF] Hosting environment: Development
2024-11-19 08:12:11.624 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 08:12:12.009 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 08:12:12.821 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:12.850 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 08:12:12.887 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 08:12:12.991 +02:00 [INF] Executed ViewResult - view Index executed in 112.1535ms.
2024-11-19 08:12:13.002 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 137.1967ms
2024-11-19 08:12:13.004 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:13.012 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1005.5891ms
2024-11-19 08:12:13.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:12:13.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - null null
2024-11-19 08:12:13.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:12:13.046 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.9615ms
2024-11-19 08:12:13.066 +02:00 [INF] The file /css/LnadingPageStyles.css was not modified
2024-11-19 08:12:13.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LnadingPageStyles.css - 304 null text/css 27.7418ms
2024-11-19 08:12:13.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.3171ms
2024-11-19 08:12:13.094 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 08:12:13.114 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 20.1269ms
2024-11-19 08:12:13.117 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 08:12:15.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:12:15.789 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:15.799 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:12:17.749 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 08:12:18.584 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-19 08:12:18.837 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-19 08:12:18.840 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-19 08:12:18.880 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-19 08:12:18.883 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3079.5682ms
2024-11-19 08:12:18.886 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:18.896 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:25f4ee12-1ae0-4b29-c040-51a51102a123
2024-11-19 08:12:18.909 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-19 08:12:18.910 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 3130.6461ms
2024-11-19 08:12:18.945 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:18.952 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:12:18.962 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-19 08:12:18.966 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 8.6661ms
2024-11-19 08:12:18.969 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:18.971 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 61.5557ms
2024-11-19 08:12:18.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-19 08:12:19.000 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:19.012 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:12:19.261 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:12:19.500 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-19 08:12:19.665 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-19 08:12:20.111 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-19 08:12:20.180 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:12:20.202 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:12:20.234 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:12:20.244 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-19 08:12:20.400 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 158.0547ms.
2024-11-19 08:12:20.404 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 1386.762ms
2024-11-19 08:12:20.408 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:20.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 1428.4224ms
2024-11-19 08:12:20.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:12:20.465 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6769ms
2024-11-19 08:12:20.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:12:20.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.477ms
2024-11-19 08:12:20.592 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:12:20.600 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:12:20.619 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:12:20.620 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 27.4691ms
2024-11-19 08:12:20.684 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=uN9sP_1Gsu_Maiijk6_QVA - null null
2024-11-19 08:12:20.691 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:12:20.752 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: 8BXRqfFkoe_8PCfeHMXmYA
2024-11-19 08:12:20.756 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: 8BXRqfFkoe_8PCfeHMXmYA
2024-11-19 08:12:31.033 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-19 08:12:31.043 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:31.047 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:12:31.113 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:12:31.118 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-19 08:12:31.146 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 30.3498ms.
2024-11-19 08:12:31.149 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 95.1158ms
2024-11-19 08:12:31.152 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:31.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 121.1667ms
2024-11-19 08:12:31.175 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: 8BXRqfFkoe_8PCfeHMXmYA
2024-11-19 08:12:31.178 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: 8BXRqfFkoe_8PCfeHMXmYA
2024-11-19 08:12:31.179 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:12:31.183 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.8398ms
2024-11-19 08:12:31.186 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:12:31.187 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:12:31.189 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=uN9sP_1Gsu_Maiijk6_QVA - 200 null null 10505.2403ms
2024-11-19 08:12:31.197 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.0014ms
2024-11-19 08:12:32.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-19 08:12:32.808 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:32.819 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:12:32.829 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:12:33.025 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:12:33.088 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-19 08:12:33.141 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-19 08:12:33.185 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 45.0592ms.
2024-11-19 08:12:33.189 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 366.0713ms
2024-11-19 08:12:33.191 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:12:33.194 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 399.3037ms
2024-11-19 08:12:33.238 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:12:33.238 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:12:33.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.796ms
2024-11-19 08:12:33.251 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.3655ms
2024-11-19 08:13:59.334 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 08:14:00.390 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 08:14:00.491 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 08:14:00.505 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 08:14:00.507 +02:00 [INF] Hosting environment: Development
2024-11-19 08:14:00.524 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 08:14:01.859 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 08:14:04.575 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:05.428 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 08:14:05.450 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 08:14:06.549 +02:00 [INF] Executed ViewResult - view Index executed in 1104.7984ms.
2024-11-19 08:14:06.575 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 1145.4244ms
2024-11-19 08:14:06.591 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:06.604 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 4748.5729ms
2024-11-19 08:14:06.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:14:06.762 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.4805ms
2024-11-19 08:14:06.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 08:14:07.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 239.3347ms
2024-11-19 08:14:07.043 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 08:14:19.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:14:21.413 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:21.431 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:14:23.917 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 08:14:25.346 +02:00 [INF] Executed DbCommand (187ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-19 08:14:25.513 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-19 08:14:25.517 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-19 08:14:25.540 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-19 08:14:25.542 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4107.9226ms
2024-11-19 08:14:25.543 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:25.549 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:84095a3b-c94f-f14e-9beb-2612480f7cd2
2024-11-19 08:14:25.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 5620.0202ms
2024-11-19 08:14:25.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-19 08:14:25.586 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:25.589 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:14:25.593 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-19 08:14:25.596 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 5.0352ms
2024-11-19 08:14:25.598 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:25.600 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 34.9685ms
2024-11-19 08:14:25.606 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-19 08:14:25.615 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:25.621 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:14:25.864 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:14:26.058 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-19 08:14:26.216 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-19 08:14:26.586 +02:00 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-19 08:14:26.638 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:14:26.654 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:14:26.672 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:14:26.677 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-19 08:14:26.764 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 88.8832ms.
2024-11-19 08:14:26.768 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 1145.7662ms
2024-11-19 08:14:26.771 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:26.774 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 1168.0531ms
2024-11-19 08:14:26.874 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:14:26.879 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:14:26.879 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.274ms
2024-11-19 08:14:26.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 115.6267ms
2024-11-19 08:14:27.075 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:14:27.085 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:14:27.104 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:14:27.123 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 47.3217ms
2024-11-19 08:14:27.199 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=7LMaxNHQjUXdzGS6I4BZug - null null
2024-11-19 08:14:27.207 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:14:27.301 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: zaEBZztVpWwhQLWyzOyQAg
2024-11-19 08:14:27.329 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: zaEBZztVpWwhQLWyzOyQAg
2024-11-19 08:14:28.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-19 08:14:28.357 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:28.361 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:14:28.404 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:14:28.410 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-19 08:14:28.428 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 19.0046ms.
2024-11-19 08:14:28.430 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 65.2054ms
2024-11-19 08:14:28.432 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:28.434 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 95.3276ms
2024-11-19 08:14:28.471 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: zaEBZztVpWwhQLWyzOyQAg
2024-11-19 08:14:28.486 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:14:28.486 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:14:28.490 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: zaEBZztVpWwhQLWyzOyQAg
2024-11-19 08:14:28.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 23.798ms
2024-11-19 08:14:28.516 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:14:28.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.6511ms
2024-11-19 08:14:28.528 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=7LMaxNHQjUXdzGS6I4BZug - 200 null null 1328.5334ms
2024-11-19 08:14:29.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-19 08:14:29.700 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:29.709 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:14:29.724 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:14:29.875 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:14:29.933 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-19 08:14:29.969 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-19 08:14:29.991 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 23.407ms.
2024-11-19 08:14:29.993 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 282.8085ms
2024-11-19 08:14:29.996 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:29.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 313.2657ms
2024-11-19 08:14:30.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:14:30.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:14:30.053 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.7601ms
2024-11-19 08:14:30.072 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.7051ms
2024-11-19 08:14:32.446 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=32 - null null
2024-11-19 08:14:32.454 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:32.477 +02:00 [INF] Route matched with {action = "QueryDetails", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryDetails(Int32) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:14:32.491 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:14:32.524 +02:00 [INF] GetStudentQueryAsync called with queryId: 32
2024-11-19 08:14:32.539 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:14:32.647 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__queryId_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate], [t].[Course], [t].[Department], [t].[UserID], [t].[Year0], [t].[studentNumber], [t].[ConnectionId], [t].[Email], [t].[FirebaseUID], [t].[IsOnline], [t].[LastSeen], [t].[Name], [t].[PasswordHash], [t].[PhoneNumber], [t].[RegistrationDate], [t].[Role], [t].[Surname], [t].[DepartmentName], [t].[CourseCode], [t].[CourseName]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [s].[StudentID] AS [StudentID0], [s].[Course], [s].[Department], [s].[UserID], [s].[Year] AS [Year0], [s].[studentNumber], [u].[UserID] AS [UserID0], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [d].[DepartmentID] AS [DepartmentID0], [d].[DepartmentName], [c].[CourseID] AS [CourseID0], [c].[CourseCode], [c].[CourseName]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
LEFT JOIN [QueryDocuments] AS [q0] ON [t].[QueryID] = [q0].[QueryID]
ORDER BY [t].[QueryID], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0]
2024-11-19 08:14:32.689 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 32
2024-11-19 08:14:32.695 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:14:32.709 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:14:32.741 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true), @__queryId_1='32' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-19 08:14:32.746 +02:00 [WRN] AssignmentID: 5
2024-11-19 08:14:32.747 +02:00 [WRN] QueryID: 32
2024-11-19 08:14:32.748 +02:00 [INF] Success !!!
2024-11-19 08:14:32.806 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/QueryDetails.cshtml.
2024-11-19 08:14:32.814 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:14:32.870 +02:00 [INF] Attempting to generate signed URL for object: 62e01876-9cc9-4432-bcf8-da506da0b29a_Broker Card.png
2024-11-19 08:14:32.921 +02:00 [INF] Successfully generated signed URL for object: 62e01876-9cc9-4432-bcf8-da506da0b29a_Broker Card.png
2024-11-19 08:14:32.923 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/62e01876-9cc9-4432-bcf8-da506da0b29a_Broker%20Card.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T061432Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=9f76a92139eaaed1950ca659710539d0943259b2728c35c7c131df86270e49be0092ba895f83201ba6b07e54d3dfdcc4649a6d96197b5e98718e39be9f1c7d4bd847d1ac7ecc1d0680bc99f751c5b69382fb32b5c6cba2f18444e75d4232bf52b1b3a7759d5b5d848de3adf3b2283072fab916cfaffd2a7544d6e7b1998a8f9d550ba48e798af92456fe40c9f05cb693c538a5672e722513b0e0f73a9e4a9b4b5576d7236a0c2e9266209a0100038a446c28d7cf520b34cb6c55b8a4275f38b1389b14d7ba0cc23be98fcf935d48b7766b998b0ef3018652968104e807468a4527edd5c03a891119300df0e610a70f185c53609fec2da4d803afdd1df57282ae
2024-11-19 08:14:32.926 +02:00 [INF] Attempting to generate signed URL for object: b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-11-19 08:14:32.934 +02:00 [INF] Successfully generated signed URL for object: b69b2961-b618-4b11-812e-41dcd87e68c6_Resources and links.pdf
2024-11-19 08:14:32.935 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/b69b2961-b618-4b11-812e-41dcd87e68c6_Resources%20and%20links.pdf?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T061432Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=834ac01546f43603ce3461cf33fb3fa72f78356515b547ed0f8b0358a9c6ff21055663662d1f67bbb286dda492d0d98142fabdfef2bf0a12efcc60871818f56d44df3d55300d4783a92c3a5fb957cef1dd384d61bda702edf4973771a68b73106ea9b3753cd24c82b31c84174916324d97749d93daa7a4ac2c6286c9d3ec2289ffbee6c27d9d4644044130c6ef5c5ecbca7a7e59b8f0ebfa3a82a05b3ea5e4b62f1cc45243158609399fdc17b6797698fb6e6c19ecd971d8718bc7f1dcfda9fffde80e5e784bb6c8ab33b6c26535c1a29714fdb243946183c2c07ad8349bc80513c4524fd100f759da5d01e9f5d67aeb1349b3d19187b75cfb57df69655e9557
2024-11-19 08:14:32.950 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/QueryDetails.cshtml executed in 144.5325ms.
2024-11-19 08:14:32.953 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp) in 471.6757ms
2024-11-19 08:14:32.955 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-19 08:14:32.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=32 - 200 null text/html; charset=utf-8 511.3747ms
2024-11-19 08:14:33.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AssignedQueryDetails.css?v=3Dadah6tmLALO4aDJkoE2B2yuNWFWTe1BasA4Ayk3A8 - null null
2024-11-19 08:14:33.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:14:33.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:14:33.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.7456ms
2024-11-19 08:14:33.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.6156ms
2024-11-19 08:14:33.039 +02:00 [INF] Sending file. Request path: '/css/AssignedQueryDetails.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AssignedQueryDetails.css'
2024-11-19 08:14:33.042 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AssignedQueryDetails.css?v=3Dadah6tmLALO4aDJkoE2B2yuNWFWTe1BasA4Ayk3A8 - 200 14940 text/css 30.7414ms
2024-11-19 08:15:09.543 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/StaffQuery/SubmitSolutionToQuery - multipart/form-data; boundary=----WebKitFormBoundaryFmoCAc3w5m3ovDFB 972
2024-11-19 08:15:09.559 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp)'
2024-11-19 08:15:09.593 +02:00 [INF] Route matched with {action = "SubmitSolutionToQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitSolutionToQuery(QueryResolutions, Microsoft.AspNetCore.Http.IFormFile) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:15:09.614 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:15:09.643 +02:00 [WRN] SubmitSolutionToQuery hit
2024-11-19 08:15:09.644 +02:00 [INF] Incoming Model Data: AssignmentID = 5, QueryID = 32, Solution = You need to go to the finance office and bring the relevant account info, AdditionalNotes = null
2024-11-19 08:15:09.647 +02:00 [WRN] Attempting SubmitSolutionToQueryAsync method
2024-11-19 08:15:09.652 +02:00 [INF] Query resolution process started for FirebaseUID: 8gmggRNCMUaYTwAThlXahoTs8W12
2024-11-19 08:15:09.653 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 32
2024-11-19 08:15:09.662 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:15:09.677 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:15:09.690 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true), @__queryId_1='32' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-19 08:15:09.692 +02:00 [WRN] AssignmentID: 5
2024-11-19 08:15:09.693 +02:00 [WRN] QueryID: 32
2024-11-19 08:15:09.694 +02:00 [INF] Success !!!
2024-11-19 08:15:09.696 +02:00 [WRN] Received QueryID: 32, AssignmentID: 5
2024-11-19 08:15:09.767 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__model_QueryID_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[QueryID] = @__model_QueryID_0
2024-11-19 08:15:10.046 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@p2='32', @p0='2024-11-19T08:15:09.7749706+02:00' (Nullable = true), @p1='Resolved' (Nullable = false) (Size = 4000), @p3=NULL (Size = 4000), @p4=NULL (Size = 4000), @p5='5', @p6='32', @p7='2024-11-19T08:15:09.6979435+02:00' (Nullable = true), @p8='You need to go to the finance office and bring the relevant account info' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Queries] SET [ResolvedDate] = @p0, [Status] = @p1
OUTPUT 1
WHERE [QueryID] = @p2;
INSERT INTO [QueryResolutions] ([AdditionalNotes], [ApprovalStatus], [AssignmentID], [QueryID], [ResolutionDate], [Solution])
OUTPUT INSERTED.[ResolutionID]
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2024-11-19 08:15:10.134 +02:00 [INF] Query with ResolutionID 104 successfully created.
2024-11-19 08:15:10.136 +02:00 [INF] Query submission process completed successfully for QueryID 32.
2024-11-19 08:15:10.137 +02:00 [INF] _notificationHubContext sent successfully to lecturer with StudentId: 1
2024-11-19 08:15:10.143 +02:00 [INF] SendQueryResoultionEmailStudent with queryID: 32
2024-11-19 08:15:10.164 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staffFirebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__staffFirebaseUid_0
2024-11-19 08:15:10.188 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__queryId_0='32'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[StudentID]
FROM [Queries] AS [q]
WHERE [q].[QueryID] = @__queryId_0
2024-11-19 08:15:10.213 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__studentId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[UserID]
FROM [StudentDetails] AS [s]
WHERE [s].[StudentID] = @__studentId_0
2024-11-19 08:15:10.228 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__userId_0
2024-11-19 08:15:10.232 +02:00 [INF] This is the email you require Jorge@gmail.com
2024-11-19 08:15:10.238 +02:00 [INF] Attempting to send template email to Jorge@gmail.com with template ID 3
2024-11-19 08:15:10.736 +02:00 [INF] Template email sent successfully to Jorge@gmail.com with template ID 3
2024-11-19 08:15:10.739 +02:00 [INF] Notification email sent to user Jorge@gmail.com
2024-11-19 08:15:10.740 +02:00 [INF] Notification email sent to user Jorge@gmail.com
2024-11-19 08:15:10.742 +02:00 [WRN] SubmitSolutionToQueryAsync method executed successfully.
2024-11-19 08:15:10.743 +02:00 [INF] Executing RedirectResult, redirecting to /StaffQuery/StaffQueries.
2024-11-19 08:15:10.745 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp) in 1149.5553ms
2024-11-19 08:15:10.747 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.SubmitSolutionToQuery (Apptivate_UQMS_WebApp)'
2024-11-19 08:15:10.752 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/StaffQuery/SubmitSolutionToQuery - 302 0 null 1209.3981ms
2024-11-19 08:15:10.761 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-19 08:15:10.769 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:15:10.771 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:15:10.776 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:15:10.788 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:15:10.806 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-19 08:15:10.818 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-19 08:15:10.830 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 11.5437ms.
2024-11-19 08:15:10.834 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 60.7809ms
2024-11-19 08:15:10.836 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:15:10.837 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 76.0936ms
2024-11-19 08:15:12.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-19 08:15:12.896 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:15:12.898 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:15:12.905 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:15:12.916 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:15:12.935 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-19 08:15:12.942 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-19 08:15:12.948 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 5.5037ms.
2024-11-19 08:15:12.949 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 48.5099ms
2024-11-19 08:15:12.951 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:15:12.953 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 64.922ms
2024-11-19 08:15:13.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:15:13.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:15:13.018 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.8194ms
2024-11-19 08:15:13.023 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.7792ms
2024-11-19 08:19:20.043 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 08:19:20.326 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 08:19:20.337 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 08:19:20.342 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 08:19:20.344 +02:00 [INF] Hosting environment: Development
2024-11-19 08:19:20.348 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 08:19:21.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 08:19:22.087 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:22.101 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 08:19:22.112 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 08:19:22.200 +02:00 [INF] Executed ViewResult - view Index executed in 89.5451ms.
2024-11-19 08:19:22.207 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 104.2665ms
2024-11-19 08:19:22.211 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:22.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 938.9038ms
2024-11-19 08:19:22.297 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:19:22.297 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:19:22.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.4305ms
2024-11-19 08:19:22.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 08:19:22.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 29.5569ms
2024-11-19 08:19:22.373 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 08:19:22.385 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.1329ms
2024-11-19 08:19:24.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:19:24.713 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:24.725 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:19:27.114 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 08:19:28.594 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-19 08:19:28.683 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-19 08:19:28.685 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-19 08:19:28.701 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-19 08:19:28.704 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3971.0154ms
2024-11-19 08:19:28.705 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:28.708 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:190410c7-583f-bfe2-f809-6618bc47d25e
2024-11-19 08:19:28.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 4017.1749ms
2024-11-19 08:19:28.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-19 08:19:28.731 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:28.734 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:19:28.737 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-19 08:19:28.739 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.8343ms
2024-11-19 08:19:28.740 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:28.741 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 22.6659ms
2024-11-19 08:19:28.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-19 08:19:28.751 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:28.756 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:19:28.861 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:19:29.050 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-19 08:19:29.145 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-19 08:19:29.487 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-19 08:19:29.545 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:19:29.564 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:19:29.580 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:19:29.592 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-19 08:19:29.703 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 112.4585ms.
2024-11-19 08:19:29.706 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 947.891ms
2024-11-19 08:19:29.709 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:29.713 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 967.6592ms
2024-11-19 08:19:29.766 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:19:29.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:19:29.775 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.5022ms
2024-11-19 08:19:29.782 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.4046ms
2024-11-19 08:19:29.899 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:19:29.906 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:19:29.927 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:19:29.929 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 29.9503ms
2024-11-19 08:19:29.965 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=JNh1N_qbgLHgTToPQQnoTg - null null
2024-11-19 08:19:29.970 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:19:30.039 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: LRZojh9SzDX8V6a-n1epUA
2024-11-19 08:19:30.042 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: LRZojh9SzDX8V6a-n1epUA
2024-11-19 08:19:31.810 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-19 08:19:31.821 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:31.829 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:19:31.835 +02:00 [INF] User logged out.
2024-11-19 08:19:31.838 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-19 08:19:31.839 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 5.6619ms
2024-11-19 08:19:31.841 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:31.842 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 31.9885ms
2024-11-19 08:19:31.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:19:31.852 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:19:31.853 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:19:31.854 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:31.855 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:19:31.859 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-19 08:19:31.868 +02:00 [INF] Executed ViewResult - view Login executed in 9.7444ms.
2024-11-19 08:19:31.869 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 12.3245ms
2024-11-19 08:19:31.871 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:31.872 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 23.8231ms
2024-11-19 08:19:31.886 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: LRZojh9SzDX8V6a-n1epUA
2024-11-19 08:19:31.887 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: LRZojh9SzDX8V6a-n1epUA
2024-11-19 08:19:31.893 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:19:31.894 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=JNh1N_qbgLHgTToPQQnoTg - 200 null null 1929.5986ms
2024-11-19 08:19:31.904 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:19:31.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:19:31.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.6212ms
2024-11-19 08:19:31.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.4559ms
2024-11-19 08:19:56.119 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/GoogleLogin - application/json 1191
2024-11-19 08:19:56.128 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:19:56.135 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:19:56.135 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:56.174 +02:00 [INF] Route matched with {action = "GoogleLogin", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(GoogleLoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:19:56.310 +02:00 [INF] GoogleLogin attempt initiated
2024-11-19 08:19:56.324 +02:00 [INF] here is your token grump eyJhbGciOiJSUzI1NiIsImtpZCI6IjkyODg2OGRjNDRlYTZhOThjODhiMzkzZDM2NDQ1MTM2NWViYjMwZDgiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiVHJlbnQgRmlzaGVyIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lfMG11MTRncWZqLW4zMDZsZUlEZ2JmZk83bHByOWQyUUlUd2h2OVdLanZCaXdMcDh3PXM5Ni1jIiwicm9sZSI6IlN0dWRlbnQiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vdXFtcy1hM2Q4NyIsImF1ZCI6InVxbXMtYTNkODciLCJhdXRoX3RpbWUiOjE3MzE5OTcxOTQsInVzZXJfaWQiOiJjc3VzVXRJWkMzY1Z0cW5UOW1xRjNlN0pnbDIzIiwic3ViIjoiY3N1c1V0SVpDM2NWdHFuVDltcUYzZTdKZ2wyMyIsImlhdCI6MTczMTk5NzE5NCwiZXhwIjoxNzMyMDAwNzk0LCJlbWFpbCI6InRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTE4MDQwODkyMzQ5OTA3NzczODcyIl0sImVtYWlsIjpbInRyZW50ZmlzaGVyMDE3QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.A1fDAOXcg1jqDygrjqeOGkG2f0-hfA_IPfDOyaNT4j7vcbg9BUmi-u1L6FVKUoACkZluaK4irE8PENdtRmKXV944Nk9ecneGfIJfZ-kxd3Fm-1MwW10D9TrdHwMIzl0ZxPk3NZ3cEgsy1xZf1wsVuHy_5LcIIZfxLxp3oYZzolD41zRA4oiP1n1YZab8b7BlgXd0XfW-PV74lS3e6RbxeY7cyS7He4JtZyS4Jey2zgcPByVLf6AeBGSG3nsI6cGMRCukhG_FZL_zlOPizQi0Hr4cSs7mwxhy0heTX_Twn21jf6VK4ekodp7p-CWgNyu93Dd5Joic-uV8k19PRNpTRA
2024-11-19 08:19:56.343 +02:00 [INF] Verifying Firebase ID token.
2024-11-19 08:19:56.359 +02:00 [INF] Firebase ID token verified successfully for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-19 08:19:56.415 +02:00 [INF] Retrieving user information for UID: csusUtIZC3cVtqnT9mqF3e7Jgl23
2024-11-19 08:19:56.748 +02:00 [INF] User information retrieved successfully. Email: trentfisher017@gmail.com, Display Name: Trent Fisher
2024-11-19 08:19:56.948 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__uid_0
2024-11-19 08:19:57.091 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='46', @p0='2024-11-19T06:19:56.9562433Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-19 08:19:57.119 +02:00 [INF] GoogleLogin successful for user trentfisher017@gmail.com with role Student
2024-11-19 08:19:57.125 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 08:19:57.158 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp) in 973.1889ms
2024-11-19 08:19:57.164 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.GoogleLogin (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:57.166 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/GoogleLogin - 200 null application/json; charset=utf-8 1046.5128ms
2024-11-19 08:19:57.187 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-19 08:19:57.208 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:57.216 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:19:57.251 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:19:57.273 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-19 08:19:57.308 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-19 08:19:57.339 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:19:57.348 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:19:57.363 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:19:57.370 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-19 08:19:57.502 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 133.6465ms.
2024-11-19 08:19:57.532 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 315.233ms
2024-11-19 08:19:57.536 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:19:57.541 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 352.8467ms
2024-11-19 08:19:57.599 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:19:57.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:19:57.608 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempDashboard.css?v=uZncrUPZFX_1Gt2w1btEnylJSyPqHBrAwXbjHMMbJt8 - null null
2024-11-19 08:19:57.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.5697ms
2024-11-19 08:19:57.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.1884ms
2024-11-19 08:19:57.746 +02:00 [INF] The file /css/tempDashboard.css was not modified
2024-11-19 08:19:57.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempDashboard.css?v=uZncrUPZFX_1Gt2w1btEnylJSyPqHBrAwXbjHMMbJt8 - 304 null text/css 140.2344ms
2024-11-19 08:19:57.898 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?studentId=30&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:19:57.903 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:19:57.905 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:19:57.906 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?studentId=30&negotiateVersion=1 - 200 316 application/json 7.8034ms
2024-11-19 08:19:57.918 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?studentId=30&id=59QVWNa0zsYORMzk4s5gFA - null null
2024-11-19 08:19:57.922 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:19:57.968 +02:00 [INF] Student with ID 30 is connecting. Connection ID: NgjgzqkSVanuxIyip_mJlQ
2024-11-19 08:19:57.970 +02:00 [INF] Student with ID 30 connected and added to group. Connection ID: NgjgzqkSVanuxIyip_mJlQ
2024-11-19 08:20:06.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-19 08:20:06.503 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:06.513 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:20:06.584 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:20:06.593 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-19 08:20:06.619 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 28.7859ms.
2024-11-19 08:20:06.622 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 103.7489ms
2024-11-19 08:20:06.631 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:06.641 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 156.427ms
2024-11-19 08:20:06.647 +02:00 [INF] Student with ID 30 is disconnecting. Connection ID: NgjgzqkSVanuxIyip_mJlQ
2024-11-19 08:20:06.648 +02:00 [INF] Student with ID 30 removed from group and connection removed. Connection ID: NgjgzqkSVanuxIyip_mJlQ
2024-11-19 08:20:06.650 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:20:06.654 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?studentId=30&id=59QVWNa0zsYORMzk4s5gFA - 200 null null 8735.3035ms
2024-11-19 08:20:06.675 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:20:06.675 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:20:06.690 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.9918ms
2024-11-19 08:20:06.731 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.3748ms
2024-11-19 08:20:08.198 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ViewResolvedQueries - null null
2024-11-19 08:20:08.214 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:08.219 +02:00 [INF] Route matched with {action = "ViewResolvedQueries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewResolvedQueries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:20:08.226 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:20:08.247 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:20:08.259 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:20:08.292 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0 AND [q].[Status] = N'Resolved'
2024-11-19 08:20:08.316 +02:00 [INF] Executing ViewResult, running view StudentQuery/QueryOverview/ViewResolvedQueries.
2024-11-19 08:20:08.333 +02:00 [INF] Executed ViewResult - view StudentQuery/QueryOverview/ViewResolvedQueries executed in 18.1624ms.
2024-11-19 08:20:08.335 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedQueries (Apptivate_UQMS_WebApp) in 113.2126ms
2024-11-19 08:20:08.337 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:08.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ViewResolvedQueries - 200 null text/html; charset=utf-8 140.6123ms
2024-11-19 08:20:08.383 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:20:08.386 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:20:08.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.4528ms
2024-11-19 08:20:08.406 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.2081ms
2024-11-19 08:20:11.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ViewResolvedTicket?queryId=108 - null null
2024-11-19 08:20:11.374 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:11.384 +02:00 [INF] Route matched with {action = "ViewResolvedTicket", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewResolvedTicket(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:20:11.391 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:20:11.395 +02:00 [INF] Started ViewResolvedTicket for QueryID: 108
2024-11-19 08:20:11.401 +02:00 [INF] Fetching resolved ticket details for QueryID: 108
2024-11-19 08:20:11.413 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:20:11.589 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__queryId_0='108'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[TicketNumber], [t].[Description], [t].[SubmissionDate], [t].[Status], [t].[c], [t].[Email], [t].[DepartmentName], [t].[CourseName], [t].[Year], [t].[c0], [t].[c1], [t].[c2], [t].[c3], [t].[StudentID], [t].[UserID], [t].[DepartmentID], [t].[CourseID], [t0].[DocumentPath], [t0].[DocumentName], [t0].[UploadDate], [t0].[ResolutionID], [t0].[DocumentID], [t0].[DocumentID0]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[TicketNumber], [q].[Description], [q].[SubmissionDate], [q].[Status], [u].[Name] + N' ' + [u].[Surname] AS [c], [u].[Email], [d].[DepartmentName], [c].[CourseName], [s].[Year], (
        SELECT TOP(1) [q0].[Solution]
        FROM [QueryResolutions] AS [q0]
        WHERE [q].[QueryID] = [q0].[QueryID]) AS [c0], (
        SELECT TOP(1) [q1].[ApprovalStatus]
        FROM [QueryResolutions] AS [q1]
        WHERE [q].[QueryID] = [q1].[QueryID]) AS [c1], (
        SELECT TOP(1) [q2].[AdditionalNotes]
        FROM [QueryResolutions] AS [q2]
        WHERE [q].[QueryID] = [q2].[QueryID]) AS [c2], (
        SELECT TOP(1) [q3].[ResolutionDate]
        FROM [QueryResolutions] AS [q3]
        WHERE [q].[QueryID] = [q3].[QueryID]) AS [c3], [s].[StudentID], [u].[UserID], [d].[DepartmentID], [c].[CourseID]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
OUTER APPLY (
    SELECT [q4].[DocumentPath], [q4].[DocumentName], [q4].[UploadDate], [r].[ResolutionID], [r].[DocumentID], [q4].[DocumentID] AS [DocumentID0]
    FROM [ResolutionDocuments] AS [r]
    INNER JOIN [QueryDocuments] AS [q4] ON [r].[DocumentID] = [q4].[DocumentID]
    WHERE (
        SELECT TOP(1) [q5].[ResolutionID]
        FROM [QueryResolutions] AS [q5]
        WHERE [t].[QueryID] = [q5].[QueryID]) IS NOT NULL AND (
        SELECT TOP(1) [q6].[ResolutionID]
        FROM [QueryResolutions] AS [q6]
        WHERE [t].[QueryID] = [q6].[QueryID]) = [r].[ResolutionID]
) AS [t0]
ORDER BY [t].[QueryID], [t].[StudentID], [t].[UserID], [t].[DepartmentID], [t].[CourseID], [t0].[ResolutionID], [t0].[DocumentID]
2024-11-19 08:20:11.602 +02:00 [INF] Successfully retrieved query and resolution details for QueryID: 108
2024-11-19 08:20:11.605 +02:00 [INF] Successfully retrieved resolved ticket for QueryID: 108
2024-11-19 08:20:11.608 +02:00 [INF] Executing ViewResult, running view StudentQuery/QueryOverview/ViewResolvedTicket.
2024-11-19 08:20:11.613 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:20:11.735 +02:00 [INF] Attempting to generate signed URL for object: 9122f76d-e555-49dc-bb75-9119979175ed_2_ICE.pdf
2024-11-19 08:20:11.784 +02:00 [INF] Successfully generated signed URL for object: 9122f76d-e555-49dc-bb75-9119979175ed_2_ICE.pdf
2024-11-19 08:20:11.787 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/9122f76d-e555-49dc-bb75-9119979175ed_2_ICE.pdf?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T062011Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=4b0379bf57c03fdaecdddc35bda2470b1a41950e8abadf31ef5418acfde1f261f584a6495898a3704042e5b8a125df5b08f4a7bbf8ad182d9c8f39854c5ad8876c855b9636441582daad65b1b3b5977c437fd8324c391b6deb8d88c233cc705c2dd78e8b4f48f325baa662fb4c43a41e58fdb019577522caab3129e7b3f4468d90a6d3405915e59c5524175f5416efeb1b4184146813905739ef80bdf112c0772c10bcbbe99f4ea47d0648c177997388ee922eccc00fc27d972707d75f984370670b160351a700d00bffd944e6ab008658326d2b26a23a2e38eafff16a7f12d5a9e31b3b11553a1a0e656b8b12e5f642da927c70c14900078adf9277e789a57a
2024-11-19 08:20:11.842 +02:00 [INF] Executed ViewResult - view StudentQuery/QueryOverview/ViewResolvedTicket executed in 235.9407ms.
2024-11-19 08:20:11.847 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp) in 461.1007ms
2024-11-19 08:20:11.850 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:11.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ViewResolvedTicket?queryId=108 - 200 null text/html; charset=utf-8 484.8053ms
2024-11-19 08:20:11.893 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:20:11.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6899ms
2024-11-19 08:20:11.896 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:20:11.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.2217ms
2024-11-19 08:20:23.391 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/SubmitFeedback - multipart/form-data; boundary=----WebKitFormBoundaryAXGfmL1dABAxY39h 855
2024-11-19 08:20:23.396 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitFeedback (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:23.403 +02:00 [INF] Route matched with {action = "SubmitFeedback", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitFeedback(Int32, Int32, System.String, Boolean) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:20:23.413 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:20:23.433 +02:00 [INF] Started SubmitFeedback for QueryID: 108, Rating: 2, Anonymous: true
2024-11-19 08:20:23.465 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserID], [t].[ConnectionId], [t].[Email], [t].[FirebaseUID], [t].[IsOnline], [t].[LastSeen], [t].[Name], [t].[PasswordHash], [t].[PhoneNumber], [t].[RegistrationDate], [t].[Role], [t].[Surname], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM (
    SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
    FROM [Users] AS [u]
    WHERE [u].[FirebaseUID] = @__firebaseUid_0
) AS [t]
LEFT JOIN [StudentDetails] AS [s] ON [t].[UserID] = [s].[UserID]
ORDER BY [t].[UserID]
2024-11-19 08:20:23.470 +02:00 [INF] Fetched student details for StudentID: 30
2024-11-19 08:20:23.488 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryId_0='108'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[QueryID] = @__queryId_0 AND [q].[Status] = N'Resolved'
2024-11-19 08:20:23.491 +02:00 [INF] Resolved query found for QueryID: 108
2024-11-19 08:20:23.492 +02:00 [INF] Created feedback for QueryID: Anonymous, IsAnonymous: true
2024-11-19 08:20:23.657 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='no i wont ' (Nullable = false) (Size = 4000), @p1='True', @p2=NULL (DbType = Int32), @p3='2', @p4=NULL (DbType = Int32), @p5='2024-11-19T06:20:23.4927665Z', @p7='108', @p6='Closed' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Feedback] ([Comments], [IsAnonymous], [QueryID], [Rating], [StudentID], [SubmissionDate])
OUTPUT INSERTED.[FeedbackID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Queries] SET [Status] = @p6
OUTPUT 1
WHERE [QueryID] = @p7;
2024-11-19 08:20:23.705 +02:00 [INF] Feedback submitted successfully for QueryID: 108, StudentID: 30, Anonymous: true
2024-11-19 08:20:23.708 +02:00 [INF] Executing RedirectResult, redirecting to /Query/ViewResolvedTicket?queryId=108.
2024-11-19 08:20:23.709 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitFeedback (Apptivate_UQMS_WebApp) in 303.474ms
2024-11-19 08:20:23.711 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.SubmitFeedback (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:23.713 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/SubmitFeedback - 302 0 null 320.8562ms
2024-11-19 08:20:23.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ViewResolvedTicket?queryId=108 - null null
2024-11-19 08:20:23.721 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:23.722 +02:00 [INF] Route matched with {action = "ViewResolvedTicket", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewResolvedTicket(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:20:23.728 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:20:23.732 +02:00 [INF] Started ViewResolvedTicket for QueryID: 108
2024-11-19 08:20:23.733 +02:00 [INF] Fetching resolved ticket details for QueryID: 108
2024-11-19 08:20:23.743 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:20:23.808 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__queryId_0='108'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[TicketNumber], [t].[Description], [t].[SubmissionDate], [t].[Status], [t].[c], [t].[Email], [t].[DepartmentName], [t].[CourseName], [t].[Year], [t].[c0], [t].[c1], [t].[c2], [t].[c3], [t].[StudentID], [t].[UserID], [t].[DepartmentID], [t].[CourseID], [t0].[DocumentPath], [t0].[DocumentName], [t0].[UploadDate], [t0].[ResolutionID], [t0].[DocumentID], [t0].[DocumentID0]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[TicketNumber], [q].[Description], [q].[SubmissionDate], [q].[Status], [u].[Name] + N' ' + [u].[Surname] AS [c], [u].[Email], [d].[DepartmentName], [c].[CourseName], [s].[Year], (
        SELECT TOP(1) [q0].[Solution]
        FROM [QueryResolutions] AS [q0]
        WHERE [q].[QueryID] = [q0].[QueryID]) AS [c0], (
        SELECT TOP(1) [q1].[ApprovalStatus]
        FROM [QueryResolutions] AS [q1]
        WHERE [q].[QueryID] = [q1].[QueryID]) AS [c1], (
        SELECT TOP(1) [q2].[AdditionalNotes]
        FROM [QueryResolutions] AS [q2]
        WHERE [q].[QueryID] = [q2].[QueryID]) AS [c2], (
        SELECT TOP(1) [q3].[ResolutionDate]
        FROM [QueryResolutions] AS [q3]
        WHERE [q].[QueryID] = [q3].[QueryID]) AS [c3], [s].[StudentID], [u].[UserID], [d].[DepartmentID], [c].[CourseID]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
OUTER APPLY (
    SELECT [q4].[DocumentPath], [q4].[DocumentName], [q4].[UploadDate], [r].[ResolutionID], [r].[DocumentID], [q4].[DocumentID] AS [DocumentID0]
    FROM [ResolutionDocuments] AS [r]
    INNER JOIN [QueryDocuments] AS [q4] ON [r].[DocumentID] = [q4].[DocumentID]
    WHERE (
        SELECT TOP(1) [q5].[ResolutionID]
        FROM [QueryResolutions] AS [q5]
        WHERE [t].[QueryID] = [q5].[QueryID]) IS NOT NULL AND (
        SELECT TOP(1) [q6].[ResolutionID]
        FROM [QueryResolutions] AS [q6]
        WHERE [t].[QueryID] = [q6].[QueryID]) = [r].[ResolutionID]
) AS [t0]
ORDER BY [t].[QueryID], [t].[StudentID], [t].[UserID], [t].[DepartmentID], [t].[CourseID], [t0].[ResolutionID], [t0].[DocumentID]
2024-11-19 08:20:23.816 +02:00 [INF] Successfully retrieved query and resolution details for QueryID: 108
2024-11-19 08:20:23.817 +02:00 [INF] Successfully retrieved resolved ticket for QueryID: 108
2024-11-19 08:20:23.818 +02:00 [INF] Executing ViewResult, running view StudentQuery/QueryOverview/ViewResolvedTicket.
2024-11-19 08:20:23.824 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:20:23.826 +02:00 [INF] Attempting to generate signed URL for object: 9122f76d-e555-49dc-bb75-9119979175ed_2_ICE.pdf
2024-11-19 08:20:23.833 +02:00 [INF] Successfully generated signed URL for object: 9122f76d-e555-49dc-bb75-9119979175ed_2_ICE.pdf
2024-11-19 08:20:23.835 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/9122f76d-e555-49dc-bb75-9119979175ed_2_ICE.pdf?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T062023Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=32b3039238c06a0d0fc23d383394f39cd95833bdf7fe1cf6e2df806a855375cbaa51df366b4b5eef731cfb9ec4f7d7715a0e3f97dee2d01ce5cff54a0a450b1ca1caf7fff76399a456e7e00dae798b15b9400a278fdb5278eaa3de276ca6de6cb46f6f20059a476ecd0b0582bf72b468f4f2500db0744069f9be8169ab347f7467e64bf84c4bf0f11eaf7d1fad9152b9bf75d8dd3462862ff803ec855d70785d4e84f2924d84e062102c9456cc5abd486d81e1c683ae162986fb9221ba3ade5a33f876f86396f4cdd9d3d36de5a1cc61e832775bb3ac7bb6ba3bd87183d93f02438dfcab6758392cbafa2956beabea20955608ebf5ff82bcda9f2517de9c655b
2024-11-19 08:20:23.841 +02:00 [INF] Executed ViewResult - view StudentQuery/QueryOverview/ViewResolvedTicket executed in 23.2645ms.
2024-11-19 08:20:23.845 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp) in 120.272ms
2024-11-19 08:20:23.848 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:20:23.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ViewResolvedTicket?queryId=108 - 200 null text/html; charset=utf-8 132.6737ms
2024-11-19 08:28:47.764 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 08:28:48.115 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 08:28:48.138 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 08:28:48.142 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 08:28:48.224 +02:00 [INF] Hosting environment: Development
2024-11-19 08:28:48.295 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 08:28:49.674 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 08:28:51.708 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:28:51.755 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 08:28:51.841 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 08:28:52.217 +02:00 [INF] Executed ViewResult - view Index executed in 402.9032ms.
2024-11-19 08:28:52.239 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 469.9513ms
2024-11-19 08:28:52.242 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:28:52.255 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 2585.019ms
2024-11-19 08:28:52.425 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:28:52.663 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 237.2553ms
2024-11-19 08:28:52.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 08:28:53.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 791.9252ms
2024-11-19 08:28:53.636 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 08:28:57.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:28:58.954 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:28:58.967 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:01.075 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 08:29:02.474 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__firebaseUser_Uid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-19 08:29:02.584 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-19 08:29:02.586 +02:00 [INF] Auto-login successful for user trentfisher017@gmail.com.
2024-11-19 08:29:02.608 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-19 08:29:02.610 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3639.1726ms
2024-11-19 08:29:02.611 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:02.616 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:884c5f4c-e9df-1811-b2d9-6755913cc264
2024-11-19 08:29:02.626 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 5499.9486ms
2024-11-19 08:29:02.631 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-19 08:29:02.652 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:02.657 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:02.661 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StudentDashboard.
2024-11-19 08:29:02.662 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.393ms
2024-11-19 08:29:02.664 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:02.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 34.5183ms
2024-11-19 08:29:02.673 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - null null
2024-11-19 08:29:02.681 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:02.689 +02:00 [INF] Route matched with {action = "StudentDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:02.823 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StudentDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:02.990 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__student_StudentID_0
GROUP BY [q].[Status]
2024-11-19 08:29:03.070 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__student_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate]
FROM [Queries] AS [q]
LEFT JOIN [QueryDocuments] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
WHERE [q].[StudentID] = @__student_StudentID_0
ORDER BY [q].[QueryID]
2024-11-19 08:29:03.216 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:03.238 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:29:03.294 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:29:03.305 +02:00 [INF] Executing ViewResult, running view StudentDashboard.
2024-11-19 08:29:03.669 +02:00 [INF] Executed ViewResult - view StudentDashboard executed in 365.801ms.
2024-11-19 08:29:03.674 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp) in 982.1325ms
2024-11-19 08:29:03.679 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StudentDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:03.683 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StudentDashboard - 200 null text/html; charset=utf-8 1010.31ms
2024-11-19 08:29:03.775 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:03.782 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.9511ms
2024-11-19 08:29:03.784 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:29:03.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.6839ms
2024-11-19 08:29:04.036 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?studentId=30&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:29:04.042 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:29:04.063 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:29:04.069 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?studentId=30&negotiateVersion=1 - 200 316 application/json 32.9722ms
2024-11-19 08:29:04.124 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?studentId=30&id=OD6jLzuK4YCOJtJYMxsS9g - null null
2024-11-19 08:29:04.131 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:29:04.172 +02:00 [INF] Student with ID 30 is connecting. Connection ID: WeIS_LzyTqhcZ9wC-UU1Pw
2024-11-19 08:29:04.175 +02:00 [INF] Student with ID 30 connected and added to group. Connection ID: WeIS_LzyTqhcZ9wC-UU1Pw
2024-11-19 08:29:07.797 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/TicketDashboard - null null
2024-11-19 08:29:07.806 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:07.812 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:07.872 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:07.877 +02:00 [INF] Executing ViewResult, running view StudentQuery/TicketDashboard.
2024-11-19 08:29:07.908 +02:00 [INF] Executed ViewResult - view StudentQuery/TicketDashboard executed in 32.385ms.
2024-11-19 08:29:07.911 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 93.1434ms
2024-11-19 08:29:07.914 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:07.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/TicketDashboard - 200 null text/html; charset=utf-8 121.5289ms
2024-11-19 08:29:07.957 +02:00 [INF] Student with ID 30 is disconnecting. Connection ID: WeIS_LzyTqhcZ9wC-UU1Pw
2024-11-19 08:29:07.959 +02:00 [INF] Student with ID 30 removed from group and connection removed. Connection ID: WeIS_LzyTqhcZ9wC-UU1Pw
2024-11-19 08:29:07.966 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:29:07.967 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?studentId=30&id=OD6jLzuK4YCOJtJYMxsS9g - 200 null null 3842.6387ms
2024-11-19 08:29:07.972 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:07.973 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:29:07.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0335ms
2024-11-19 08:29:07.985 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.6794ms
2024-11-19 08:29:10.630 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-11-19 08:29:10.642 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:10.651 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:10.662 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:10.818 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:10.829 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:29:10.851 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-11-19 08:29:10.871 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-11-19 08:29:10.928 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 58.3481ms.
2024-11-19 08:29:10.932 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 274.4662ms
2024-11-19 08:29:10.939 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:10.943 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 312.982ms
2024-11-19 08:29:11.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:11.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDetails.css - null null
2024-11-19 08:29:11.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:29:11.016 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.5027ms
2024-11-19 08:29:11.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.3037ms
2024-11-19 08:29:11.025 +02:00 [INF] The file /css/QueryDetails.css was not modified
2024-11-19 08:29:11.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDetails.css - 304 null text/css 20.9395ms
2024-11-19 08:29:14.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ViewTicket?queryId=109 - null null
2024-11-19 08:29:14.532 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:14.544 +02:00 [INF] Route matched with {action = "ViewTicket", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTicket(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:14.553 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:14.583 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:14.596 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:29:14.612 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-11-19 08:29:14.641 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__queryId_0='109'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[QueryID] = @__queryId_0
2024-11-19 08:29:14.649 +02:00 [INF] Executing ViewResult, running view StudentQuery/QueryOverview/ViewTicket.
2024-11-19 08:29:14.776 +02:00 [INF] Executed ViewResult - view StudentQuery/QueryOverview/ViewTicket executed in 128.2574ms.
2024-11-19 08:29:14.778 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ViewTicket (Apptivate_UQMS_WebApp) in 228.3969ms
2024-11-19 08:29:14.780 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:14.784 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ViewTicket?queryId=109 - 200 null text/html; charset=utf-8 261.5843ms
2024-11-19 08:29:14.828 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/viewTicket.css?v=jSa7t7Rw0rCpySgoftmnpBnZ9KhFLxrUJc62lBPUNqk - null null
2024-11-19 08:29:14.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:14.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:29:14.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.5649ms
2024-11-19 08:29:14.856 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.7128ms
2024-11-19 08:29:14.859 +02:00 [INF] Sending file. Request path: '/css/viewTicket.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\viewTicket.css'
2024-11-19 08:29:14.868 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/viewTicket.css?v=jSa7t7Rw0rCpySgoftmnpBnZ9KhFLxrUJc62lBPUNqk - 200 7267 text/css 39.2608ms
2024-11-19 08:29:16.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-11-19 08:29:16.302 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:16.303 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:16.309 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:16.317 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:16.326 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:29:16.336 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-11-19 08:29:16.340 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-11-19 08:29:16.350 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 10.2478ms.
2024-11-19 08:29:16.353 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 47.0257ms
2024-11-19 08:29:16.355 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:16.357 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 63.3087ms
2024-11-19 08:29:16.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:16.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1986ms
2024-11-19 08:29:20.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ResolvedTickets - null null
2024-11-19 08:29:20.770 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:20.776 +02:00 [INF] Route matched with {action = "ResolvedTickets", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResolvedTickets() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:20.783 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:20.797 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:20.808 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:29:20.839 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0 AND [q].[Status] = N'Resolved'
2024-11-19 08:29:20.847 +02:00 [INF] Executing PartialViewResult, running view StudentQuery/QueryOverview/ResolvedTickets.
2024-11-19 08:29:20.855 +02:00 [INF] Executed PartialViewResult - view StudentQuery/QueryOverview/ResolvedTickets executed in 8.3402ms.
2024-11-19 08:29:20.858 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp) in 78.6268ms
2024-11-19 08:29:20.861 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:20.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ResolvedTickets - 200 null text/html; charset=utf-8 100.0985ms
2024-11-19 08:29:24.796 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ViewResolvedTicket?queryId=109 - null null
2024-11-19 08:29:24.803 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:24.809 +02:00 [INF] Route matched with {action = "ViewResolvedTicket", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewResolvedTicket(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:24.817 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:24.822 +02:00 [INF] Started ViewResolvedTicket for QueryID: 109
2024-11-19 08:29:24.833 +02:00 [INF] Fetching resolved ticket details for QueryID: 109
2024-11-19 08:29:24.841 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:25.022 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@__queryId_0='109'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[TicketNumber], [t].[Description], [t].[SubmissionDate], [t].[Status], [t].[c], [t].[Email], [t].[DepartmentName], [t].[CourseName], [t].[Year], [t].[c0], [t].[c1], [t].[c2], [t].[c3], [t].[StudentID], [t].[UserID], [t].[DepartmentID], [t].[CourseID], [t0].[DocumentPath], [t0].[DocumentName], [t0].[UploadDate], [t0].[ResolutionID], [t0].[DocumentID], [t0].[DocumentID0]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[TicketNumber], [q].[Description], [q].[SubmissionDate], [q].[Status], [u].[Name] + N' ' + [u].[Surname] AS [c], [u].[Email], [d].[DepartmentName], [c].[CourseName], [s].[Year], (
        SELECT TOP(1) [q0].[Solution]
        FROM [QueryResolutions] AS [q0]
        WHERE [q].[QueryID] = [q0].[QueryID]) AS [c0], (
        SELECT TOP(1) [q1].[ApprovalStatus]
        FROM [QueryResolutions] AS [q1]
        WHERE [q].[QueryID] = [q1].[QueryID]) AS [c1], (
        SELECT TOP(1) [q2].[AdditionalNotes]
        FROM [QueryResolutions] AS [q2]
        WHERE [q].[QueryID] = [q2].[QueryID]) AS [c2], (
        SELECT TOP(1) [q3].[ResolutionDate]
        FROM [QueryResolutions] AS [q3]
        WHERE [q].[QueryID] = [q3].[QueryID]) AS [c3], [s].[StudentID], [u].[UserID], [d].[DepartmentID], [c].[CourseID]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
OUTER APPLY (
    SELECT [q4].[DocumentPath], [q4].[DocumentName], [q4].[UploadDate], [r].[ResolutionID], [r].[DocumentID], [q4].[DocumentID] AS [DocumentID0]
    FROM [ResolutionDocuments] AS [r]
    INNER JOIN [QueryDocuments] AS [q4] ON [r].[DocumentID] = [q4].[DocumentID]
    WHERE (
        SELECT TOP(1) [q5].[ResolutionID]
        FROM [QueryResolutions] AS [q5]
        WHERE [t].[QueryID] = [q5].[QueryID]) IS NOT NULL AND (
        SELECT TOP(1) [q6].[ResolutionID]
        FROM [QueryResolutions] AS [q6]
        WHERE [t].[QueryID] = [q6].[QueryID]) = [r].[ResolutionID]
) AS [t0]
ORDER BY [t].[QueryID], [t].[StudentID], [t].[UserID], [t].[DepartmentID], [t].[CourseID], [t0].[ResolutionID], [t0].[DocumentID]
2024-11-19 08:29:25.034 +02:00 [INF] Successfully retrieved query and resolution details for QueryID: 109
2024-11-19 08:29:25.037 +02:00 [INF] Successfully retrieved resolved ticket for QueryID: 109
2024-11-19 08:29:25.040 +02:00 [INF] Executing ViewResult, running view StudentQuery/QueryOverview/ViewResolvedTicket.
2024-11-19 08:29:25.048 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:25.062 +02:00 [INF] Attempting to generate signed URL for object: b90afbe5-3886-4416-88f6-b35fd0b1427c_ICE Task 3 APDS7311.pdf
2024-11-19 08:29:25.114 +02:00 [INF] Successfully generated signed URL for object: b90afbe5-3886-4416-88f6-b35fd0b1427c_ICE Task 3 APDS7311.pdf
2024-11-19 08:29:25.116 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/b90afbe5-3886-4416-88f6-b35fd0b1427c_ICE%20Task%203%20APDS7311.pdf?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T062925Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=8c24be749a08d65674e81b212233a3c16a3a2ea47c631bf1cd0b6037a76d500f2e13b7ba35cd0164f72ec0c3c105ac451edd39d024df0262ee1bcb1f250f5d32d42801cfb18798f4b636a458628456df31eb53322421ea0135da2646fefa14b4001f1b5ec13271360c452f3b31e830630fa077ed904cda3099424133451cfc9cb2870b137df86e6e60eb6fa44745f7fbf236a13d9ca9c297171852e9610e02fdf8a4c60654855312bf62366b5defb2f6a85b98c1862977076672de309072e2fae49753153d9d87969dcf63ee246cec4ad663e8f9d2872f1466fa902aa31039fd63e2646204541b61e850f963fff02e5f509e99ab78475780a239312b9f7ba59c
2024-11-19 08:29:25.167 +02:00 [INF] Executed ViewResult - view StudentQuery/QueryOverview/ViewResolvedTicket executed in 127.7749ms.
2024-11-19 08:29:25.171 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp) in 357.3068ms
2024-11-19 08:29:25.173 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:25.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ViewResolvedTicket?queryId=109 - 200 null text/html; charset=utf-8 378.974ms
2024-11-19 08:29:25.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:25.225 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1832ms
2024-11-19 08:29:25.227 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:29:25.251 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.9342ms
2024-11-19 08:29:52.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/Queries - null null
2024-11-19 08:29:52.303 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:52.305 +02:00 [INF] Route matched with {action = "Queries", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Queries() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:52.309 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:52.321 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:52.331 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:29:52.343 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0
2024-11-19 08:29:52.350 +02:00 [INF] Executing ViewResult, running view StudentQuery/Queries.
2024-11-19 08:29:52.357 +02:00 [INF] Executed ViewResult - view StudentQuery/Queries executed in 6.8138ms.
2024-11-19 08:29:52.360 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp) in 53.1243ms
2024-11-19 08:29:52.363 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.Queries (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:52.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/Queries - 200 null text/html; charset=utf-8 71.6971ms
2024-11-19 08:29:52.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:52.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 12.9694ms
2024-11-19 08:29:54.527 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ResolvedTickets - null null
2024-11-19 08:29:54.532 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:54.534 +02:00 [INF] Route matched with {action = "ResolvedTickets", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResolvedTickets() on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:54.538 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:54.549 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:54.557 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='46'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:29:54.570 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__studentDetail_StudentID_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year]
FROM [Queries] AS [q]
WHERE [q].[StudentID] = @__studentDetail_StudentID_0 AND [q].[Status] = N'Resolved'
2024-11-19 08:29:54.575 +02:00 [INF] Executing PartialViewResult, running view StudentQuery/QueryOverview/ResolvedTickets.
2024-11-19 08:29:54.578 +02:00 [INF] Executed PartialViewResult - view StudentQuery/QueryOverview/ResolvedTickets executed in 3.2868ms.
2024-11-19 08:29:54.580 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp) in 44.1429ms
2024-11-19 08:29:54.583 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ResolvedTickets (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:54.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ResolvedTickets - 200 null text/html; charset=utf-8 57.8244ms
2024-11-19 08:29:56.100 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Query/ViewResolvedTicket?queryId=109 - null null
2024-11-19 08:29:56.106 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:56.108 +02:00 [INF] Route matched with {action = "ViewResolvedTicket", controller = "Query"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewResolvedTicket(Int32) on controller Apptivate_UQMS_WebApp.Controllers.QueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:56.114 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:56.117 +02:00 [INF] Started ViewResolvedTicket for QueryID: 109
2024-11-19 08:29:56.119 +02:00 [INF] Fetching resolved ticket details for QueryID: 109
2024-11-19 08:29:56.125 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='csusUtIZC3cVtqnT9mqF3e7Jgl23' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:29:56.187 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__queryId_0='109'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[TicketNumber], [t].[Description], [t].[SubmissionDate], [t].[Status], [t].[c], [t].[Email], [t].[DepartmentName], [t].[CourseName], [t].[Year], [t].[c0], [t].[c1], [t].[c2], [t].[c3], [t].[StudentID], [t].[UserID], [t].[DepartmentID], [t].[CourseID], [t0].[DocumentPath], [t0].[DocumentName], [t0].[UploadDate], [t0].[ResolutionID], [t0].[DocumentID], [t0].[DocumentID0]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[TicketNumber], [q].[Description], [q].[SubmissionDate], [q].[Status], [u].[Name] + N' ' + [u].[Surname] AS [c], [u].[Email], [d].[DepartmentName], [c].[CourseName], [s].[Year], (
        SELECT TOP(1) [q0].[Solution]
        FROM [QueryResolutions] AS [q0]
        WHERE [q].[QueryID] = [q0].[QueryID]) AS [c0], (
        SELECT TOP(1) [q1].[ApprovalStatus]
        FROM [QueryResolutions] AS [q1]
        WHERE [q].[QueryID] = [q1].[QueryID]) AS [c1], (
        SELECT TOP(1) [q2].[AdditionalNotes]
        FROM [QueryResolutions] AS [q2]
        WHERE [q].[QueryID] = [q2].[QueryID]) AS [c2], (
        SELECT TOP(1) [q3].[ResolutionDate]
        FROM [QueryResolutions] AS [q3]
        WHERE [q].[QueryID] = [q3].[QueryID]) AS [c3], [s].[StudentID], [u].[UserID], [d].[DepartmentID], [c].[CourseID]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
OUTER APPLY (
    SELECT [q4].[DocumentPath], [q4].[DocumentName], [q4].[UploadDate], [r].[ResolutionID], [r].[DocumentID], [q4].[DocumentID] AS [DocumentID0]
    FROM [ResolutionDocuments] AS [r]
    INNER JOIN [QueryDocuments] AS [q4] ON [r].[DocumentID] = [q4].[DocumentID]
    WHERE (
        SELECT TOP(1) [q5].[ResolutionID]
        FROM [QueryResolutions] AS [q5]
        WHERE [t].[QueryID] = [q5].[QueryID]) IS NOT NULL AND (
        SELECT TOP(1) [q6].[ResolutionID]
        FROM [QueryResolutions] AS [q6]
        WHERE [t].[QueryID] = [q6].[QueryID]) = [r].[ResolutionID]
) AS [t0]
ORDER BY [t].[QueryID], [t].[StudentID], [t].[UserID], [t].[DepartmentID], [t].[CourseID], [t0].[ResolutionID], [t0].[DocumentID]
2024-11-19 08:29:56.193 +02:00 [INF] Successfully retrieved query and resolution details for QueryID: 109
2024-11-19 08:29:56.195 +02:00 [INF] Successfully retrieved resolved ticket for QueryID: 109
2024-11-19 08:29:56.199 +02:00 [INF] Executing ViewResult, running view StudentQuery/QueryOverview/ViewResolvedTicket.
2024-11-19 08:29:56.205 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:29:56.207 +02:00 [INF] Attempting to generate signed URL for object: b90afbe5-3886-4416-88f6-b35fd0b1427c_ICE Task 3 APDS7311.pdf
2024-11-19 08:29:56.215 +02:00 [INF] Successfully generated signed URL for object: b90afbe5-3886-4416-88f6-b35fd0b1427c_ICE Task 3 APDS7311.pdf
2024-11-19 08:29:56.217 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/b90afbe5-3886-4416-88f6-b35fd0b1427c_ICE%20Task%203%20APDS7311.pdf?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T062956Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=11a6730f7a0d0d98dd734b0c1485e5824ac0201036f23ecee0806c767517d50ead8f6cc6174a223bc9588744065579efa382ac92743c93a8fcdb1265223a29ae2869685f6a6750aa6a91cbdac49d96af682bb0609ee11b52daa4b43a003b26dfd3dcfa374b242d07d106660a645bfc1be3ee48c117f6c21e8a10041f3afef660883e2d68d04c365acdae2a6f674e18495a5ffd16834305fd73196b0dc55c612894547003ada76e9271fe9ffbcc6b190d0945b1ecf29ff4766b54a7437e8ca508c2155b09f248becc3f18d05acce3a25ce3cb1186e9492b09faa22a4d1cd158fdb5c7546f9f53cf80d5c0f33fa8dece065bdda7d4711517682d96bbf4e0201ad5
2024-11-19 08:29:56.221 +02:00 [INF] Executed ViewResult - view StudentQuery/QueryOverview/ViewResolvedTicket executed in 22.8128ms.
2024-11-19 08:29:56.223 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp) in 112.5765ms
2024-11-19 08:29:56.225 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.QueryController.ViewResolvedTicket (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:56.226 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Query/ViewResolvedTicket?queryId=109 - 200 null text/html; charset=utf-8 126.4173ms
2024-11-19 08:29:56.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:56.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.6378ms
2024-11-19 08:29:56.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:29:56.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.1956ms
2024-11-19 08:29:59.046 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-19 08:29:59.056 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:59.060 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:59.063 +02:00 [INF] User logged out.
2024-11-19 08:29:59.066 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-19 08:29:59.067 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 5.0928ms
2024-11-19 08:29:59.068 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:59.069 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 22.9351ms
2024-11-19 08:29:59.076 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:29:59.083 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:29:59.084 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:29:59.085 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:59.087 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:29:59.093 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-19 08:29:59.107 +02:00 [INF] Executed ViewResult - view Login executed in 14.9798ms.
2024-11-19 08:29:59.109 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 18.2216ms
2024-11-19 08:29:59.110 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:29:59.111 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 34.8276ms
2024-11-19 08:29:59.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:29:59.168 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1071ms
2024-11-19 08:29:59.168 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:29:59.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.048ms
2024-11-19 08:30:05.263 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Login - application/x-www-form-urlencoded 225
2024-11-19 08:30:05.268 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:30:05.269 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:30:05.270 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:05.284 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:30:05.313 +02:00 [INF] Attempting to log in user with email: Daniel@gmail.com
2024-11-19 08:30:05.336 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-19 08:30:05.342 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-19 08:30:05.867 +02:00 [INF] Received HTTP response headers after 520.6706ms - 200
2024-11-19 08:30:05.870 +02:00 [INF] End processing HTTP request after 536.0761ms - 200
2024-11-19 08:30:05.873 +02:00 [INF] User logged in successfully.
2024-11-19 08:30:06.315 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-19 08:30:06.475 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@p1='3', @p0='2024-11-19T06:30:06.3209582Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-19 08:30:06.511 +02:00 [INF] User Daniel@gmail.com logged in successfully.
2024-11-19 08:30:06.512 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-19 08:30:06.515 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1228.9111ms
2024-11-19 08:30:06.517 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:06.519 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Login - 302 0 null 1256.0011ms
2024-11-19 08:30:06.528 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-19 08:30:06.537 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:06.545 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:30:06.589 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:30:06.681 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-19 08:30:06.797 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-19 08:30:07.028 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-19 08:30:07.055 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:30:07.061 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:30:07.071 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:30:07.074 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-19 08:30:07.095 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 21.8121ms.
2024-11-19 08:30:07.099 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 552.7568ms
2024-11-19 08:30:07.103 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:07.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 575.9583ms
2024-11-19 08:30:07.142 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:30:07.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3197ms
2024-11-19 08:30:07.155 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:30:07.173 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.9371ms
2024-11-19 08:30:07.260 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:30:07.264 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:30:07.266 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:30:07.268 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 8.4018ms
2024-11-19 08:30:07.299 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=TOgEpQtkiGcD1STdqG1yPQ - null null
2024-11-19 08:30:07.304 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:30:07.354 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: mJmmrhBhWWUOfT4_4jBlpQ
2024-11-19 08:30:07.356 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: mJmmrhBhWWUOfT4_4jBlpQ
2024-11-19 08:30:28.390 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-19 08:30:28.397 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:28.403 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:30:28.407 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:30:28.409 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-19 08:30:28.423 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 14.4426ms.
2024-11-19 08:30:28.425 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 20.9432ms
2024-11-19 08:30:28.426 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:28.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 36.9668ms
2024-11-19 08:30:28.435 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: mJmmrhBhWWUOfT4_4jBlpQ
2024-11-19 08:30:28.437 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: mJmmrhBhWWUOfT4_4jBlpQ
2024-11-19 08:30:28.439 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:30:28.441 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=TOgEpQtkiGcD1STdqG1yPQ - 200 null null 21141.8432ms
2024-11-19 08:30:28.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:30:28.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:30:28.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.301ms
2024-11-19 08:30:28.472 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.6108ms
2024-11-19 08:30:32.664 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-19 08:30:32.673 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:32.677 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:30:32.683 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:30:32.702 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:30:32.736 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-19 08:30:32.742 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-19 08:30:32.762 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 20.7568ms.
2024-11-19 08:30:32.764 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 83.998ms
2024-11-19 08:30:32.766 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:32.768 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 103.6697ms
2024-11-19 08:30:32.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:30:32.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:30:32.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.8574ms
2024-11-19 08:30:32.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.7245ms
2024-11-19 08:30:34.182 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=30 - null null
2024-11-19 08:30:34.188 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:34.195 +02:00 [INF] Route matched with {action = "QueryDetails", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryDetails(Int32) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-19 08:30:34.204 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:30:34.228 +02:00 [INF] GetStudentQueryAsync called with queryId: 30
2024-11-19 08:30:34.242 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:30:34.317 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__queryId_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate], [t].[Course], [t].[Department], [t].[UserID], [t].[Year0], [t].[studentNumber], [t].[ConnectionId], [t].[Email], [t].[FirebaseUID], [t].[IsOnline], [t].[LastSeen], [t].[Name], [t].[PasswordHash], [t].[PhoneNumber], [t].[RegistrationDate], [t].[Role], [t].[Surname], [t].[DepartmentName], [t].[CourseCode], [t].[CourseName]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [s].[StudentID] AS [StudentID0], [s].[Course], [s].[Department], [s].[UserID], [s].[Year] AS [Year0], [s].[studentNumber], [u].[UserID] AS [UserID0], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [d].[DepartmentID] AS [DepartmentID0], [d].[DepartmentName], [c].[CourseID] AS [CourseID0], [c].[CourseCode], [c].[CourseName]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
LEFT JOIN [QueryDocuments] AS [q0] ON [t].[QueryID] = [q0].[QueryID]
ORDER BY [t].[QueryID], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0]
2024-11-19 08:30:34.347 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 30
2024-11-19 08:30:34.355 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:30:34.366 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:30:34.394 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true), @__queryId_1='30' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-19 08:30:34.403 +02:00 [WRN] AssignmentID: 3
2024-11-19 08:30:34.405 +02:00 [WRN] QueryID: 30
2024-11-19 08:30:34.406 +02:00 [INF] Success !!!
2024-11-19 08:30:34.510 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/QueryDetails.cshtml.
2024-11-19 08:30:34.524 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-19 08:30:34.550 +02:00 [INF] Attempting to generate signed URL for object: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart.png
2024-11-19 08:30:34.559 +02:00 [INF] Successfully generated signed URL for object: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart.png
2024-11-19 08:30:34.561 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding%20reps%20onto%20rep%20register%20flow%20chart.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T063034Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=c23019cdc64b040d3a8c2230c47e247dc94bed9318f878b0bace7f79f24176ecca1a100cdfcdffee9aa68cdac2aa5506e8c236f33deb3e3bf0a709de47f1d81036ff94eb75a4e2edfa493d5afc99e8aaed6deea20b33f95cf77e3c8858989484284ec4d9d485d2601e971582774d637f398520b90bdcc429716ccad52867897b1440afcdf1f3a4ba82b9a0d80aff94f6129837e073111cf8f8d11db84fc66b95dc76b0d209d0fee25c677d86fefdc1dc80f816844909006bc08bd92575b9c936b0d470b0280243410385faf899c7f01abbaf465866f1e5186cafb88192c91196c809507dfafd413075e8d5f7b94f3cdb0112872e674166d0e64460fb097dc61a
2024-11-19 08:30:34.562 +02:00 [INF] Attempting to generate signed URL for object: b228c610-f11c-4800-9ac3-4963add30ef5_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (1).png
2024-11-19 08:30:34.567 +02:00 [INF] Successfully generated signed URL for object: b228c610-f11c-4800-9ac3-4963add30ef5_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (1).png
2024-11-19 08:30:34.568 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/b228c610-f11c-4800-9ac3-4963add30ef5_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding%20reps%20onto%20rep%20register%20flow%20chart%20%281%29.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T063034Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=12a90275764ea758c8c63f9a1fb78910f71f0a0de62c64276f8be08bfed584a62427f33f3fb2e2f0d7790b07838bf66197a34c435077df5fb2a355f7f7dcdd9199e2a9f1edbc405aedeb9f8337c6b80361b8d84274dfd8336d9d6ed5db4448ee7393a9866e51fd4255c956e735d55ee486004f9a5a91181ff3419f351ec2536bd01c716b0a7f02331b10663e6399858f4854238e2da6f1a2b2ee21fd33aa1c72845720c358ceb46112bd45a790328897a70919b4033b7f21b0c749ac517f4948c49e7be5e78e19f1cdc8f4e9ef0f0d86edfe36487b27dae0b03256d11f73ee8bf0bee205376097f3127b0487bb870cf2b010d67c83265756a2b2fa3a57c1bc16
2024-11-19 08:30:34.569 +02:00 [INF] Attempting to generate signed URL for object: d5e7e7b9-0cd1-4621-83d7-44df5259541e_bd5423da-b01b-4293-adb6-a0db617138f8_Resources and links.pdf
2024-11-19 08:30:34.574 +02:00 [INF] Successfully generated signed URL for object: d5e7e7b9-0cd1-4621-83d7-44df5259541e_bd5423da-b01b-4293-adb6-a0db617138f8_Resources and links.pdf
2024-11-19 08:30:34.575 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/d5e7e7b9-0cd1-4621-83d7-44df5259541e_bd5423da-b01b-4293-adb6-a0db617138f8_Resources%20and%20links.pdf?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T063034Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=b62416d482a812986c54ab641acad7787657fd5a0a8d56a4b6e1bac9d5187c5a8304823ac480d11366ebf9d532d29a8dd5fc65a0b230ce6213a740c716c095597d7039286192092c1e1bd176565fac2dddd67dea1c393355e795a7b00f584704968fe50780b5a9227fe12cdcf2591a2c5a97ebbf2909205add82efadbe0a7e53dd6bc98b7cb7f5a75e022c7eeacfe472e03acd8a7b7efb77dff1129276acac17795235e01e0ef4075a05dd89c43f3dec040e280e1985491c0726c66a5abf930a18e0299742effc9fe0b6ba5ad3ff6a2f09787a31aca9ffadd66483a4d2d6a2dd5731c85a22523160e186e406c3052326cd32e556a8732bea64d374a711366611
2024-11-19 08:30:34.577 +02:00 [INF] Attempting to generate signed URL for object: c3709dc1-3f41-418f-b0b7-f57f9cac9ca0_Screenshot_20241104-173301_Fed Up.jpg
2024-11-19 08:30:34.582 +02:00 [INF] Successfully generated signed URL for object: c3709dc1-3f41-418f-b0b7-f57f9cac9ca0_Screenshot_20241104-173301_Fed Up.jpg
2024-11-19 08:30:34.584 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/c3709dc1-3f41-418f-b0b7-f57f9cac9ca0_Screenshot_20241104-173301_Fed%20Up.jpg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241119%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241119T063034Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=907f99b751353bc238c75c1bc308f842eee3e8f9a02ebb78030c52aa6e8aec9b2c3f9e1044518ed3ca77dfe6cee4e2be312349c6ed75b329c0aac3fa21daf5bb33fa873845179aa20a20b157291cad6e36b8e151228bd381a3d285cb8f9e48043ba66df1e0a9ef6e458924250d856b0674442e5f6fcee47e6f52040585738144399f6874cbae9a66c4f7a6c480e5793a6360c220fb7a510e4ef2623c4cfab057a47491089a54581f0f2db72dc91749c4e9da5230fe10c03868468a98d3479b69659dd255e98484a9cfb2813b78e52b068175dc783368551bc7bfd83807c8ba57526b55f52f5aad5104aa2b0e5ac705708ca67bc8655b08be23b047646a5692ef
2024-11-19 08:30:34.592 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/QueryDetails.cshtml executed in 83.0748ms.
2024-11-19 08:30:34.594 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp) in 394.1388ms
2024-11-19 08:30:34.596 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-19 08:30:34.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=30 - 200 null text/html; charset=utf-8 416.0481ms
2024-11-19 08:30:34.645 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:30:34.645 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:30:34.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.2886ms
2024-11-19 08:30:34.675 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.2228ms
2024-11-19 08:46:57.135 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 08:46:57.369 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 08:46:57.373 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 08:46:57.382 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 08:46:57.385 +02:00 [INF] Hosting environment: Development
2024-11-19 08:46:57.387 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 08:46:58.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 08:47:03.744 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:03.764 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:03.785 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 08:47:03.903 +02:00 [INF] Executed ViewResult - view Index executed in 124.0528ms.
2024-11-19 08:47:03.914 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 147.6187ms
2024-11-19 08:47:03.917 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:03.927 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 5106.778ms
2024-11-19 08:47:03.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:47:03.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 22.422ms
2024-11-19 08:47:03.987 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:47:04.022 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 08:47:04.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 40.5466ms
2024-11-19 08:47:04.070 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 08:47:04.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.9502ms
2024-11-19 08:47:07.596 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:47:07.610 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:07.618 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:09.229 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 08:47:09.902 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-19 08:47:09.974 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-19 08:47:09.975 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-19 08:47:09.990 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-19 08:47:09.991 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2371.1878ms
2024-11-19 08:47:09.992 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:09.995 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:ad5586a2-7ff5-a061-64de-90de8fffa789
2024-11-19 08:47:10.002 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2406.233ms
2024-11-19 08:47:10.003 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-19 08:47:10.013 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:10.015 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:10.019 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-19 08:47:10.020 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.348ms
2024-11-19 08:47:10.020 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:10.021 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 18.1212ms
2024-11-19 08:47:10.026 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-19 08:47:10.030 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:10.033 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:10.125 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:47:10.220 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-19 08:47:10.287 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-19 08:47:10.464 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-19 08:47:10.494 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 08:47:10.508 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:47:10.520 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 08:47:10.523 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-19 08:47:10.574 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 52.0454ms.
2024-11-19 08:47:10.577 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 542.4524ms
2024-11-19 08:47:10.577 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:10.578 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 552.5656ms
2024-11-19 08:47:10.612 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:47:10.616 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6157ms
2024-11-19 08:47:10.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:47:10.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.7345ms
2024-11-19 08:47:10.715 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-19 08:47:10.720 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-19 08:47:10.728 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-19 08:47:10.729 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 14.2536ms
2024-11-19 08:47:10.751 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=ez1fJBU6ZMJLBnTpfMP53w - null null
2024-11-19 08:47:10.754 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-19 08:47:10.809 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: fZ-fCrvuUPcBglqm0M-EAw
2024-11-19 08:47:10.812 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: fZ-fCrvuUPcBglqm0M-EAw
2024-11-19 08:47:12.687 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Logout - application/x-www-form-urlencoded 225
2024-11-19 08:47:12.694 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:12.696 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:12.699 +02:00 [INF] User logged out.
2024-11-19 08:47:12.701 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-19 08:47:12.702 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp) in 4.4434ms
2024-11-19 08:47:12.702 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Logout (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:12.703 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Logout - 302 0 null 16.344ms
2024-11-19 08:47:12.707 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 08:47:12.710 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:12.711 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:12.711 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:12.712 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:12.716 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-19 08:47:12.724 +02:00 [INF] Executed ViewResult - view Login executed in 8.9224ms.
2024-11-19 08:47:12.724 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 10.9679ms
2024-11-19 08:47:12.726 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:12.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 19.5012ms
2024-11-19 08:47:12.740 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: fZ-fCrvuUPcBglqm0M-EAw
2024-11-19 08:47:12.741 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: fZ-fCrvuUPcBglqm0M-EAw
2024-11-19 08:47:12.744 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-19 08:47:12.746 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=ez1fJBU6ZMJLBnTpfMP53w - 200 null null 1995.0618ms
2024-11-19 08:47:12.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:47:12.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:47:12.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5132ms
2024-11-19 08:47:12.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.7932ms
2024-11-19 08:47:16.313 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/SelectRole - null null
2024-11-19 08:47:16.318 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:16.320 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:16.320 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:16.322 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:16.324 +02:00 [INF] Executing ViewResult, running view SelectRole.
2024-11-19 08:47:16.333 +02:00 [INF] Executed ViewResult - view SelectRole executed in 8.9384ms.
2024-11-19 08:47:16.334 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 10.3464ms
2024-11-19 08:47:16.335 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:16.336 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/SelectRole - 200 null text/html; charset=utf-8 22.8032ms
2024-11-19 08:47:16.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:47:16.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:47:16.373 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.5705ms
2024-11-19 08:47:16.378 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.8447ms
2024-11-19 08:47:18.512 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/SelectRole - application/x-www-form-urlencoded 195
2024-11-19 08:47:18.517 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:18.519 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:18.521 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:18.526 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole(System.String) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:18.543 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Register.
2024-11-19 08:47:18.548 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 18.6679ms
2024-11-19 08:47:18.549 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:18.552 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/SelectRole - 302 0 null 39.763ms
2024-11-19 08:47:18.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Register - null null
2024-11-19 08:47:18.558 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:18.558 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:18.559 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:18.561 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:47:18.563 +02:00 [INF] Register page loaded.
2024-11-19 08:47:18.622 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [d].[DepartmentID]) AS [Value], [d].[DepartmentName] AS [Text]
FROM [Departments] AS [d]
2024-11-19 08:47:18.630 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CourseID]) AS [Value], [c].[CourseName] AS [Text]
FROM [Courses] AS [c]
2024-11-19 08:47:18.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [p].[PositionID]) AS [Value], [p].[PositionName] AS [Text]
FROM [Positions] AS [p]
2024-11-19 08:47:18.639 +02:00 [INF] SELECTED model ROLE: Student
2024-11-19 08:47:18.640 +02:00 [INF] SELECTED ROLE: Student
2024-11-19 08:47:18.641 +02:00 [INF] Executing ViewResult, running view Register.
2024-11-19 08:47:18.671 +02:00 [INF] Executed ViewResult - view Register executed in 30.4068ms.
2024-11-19 08:47:18.672 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 109.3987ms
2024-11-19 08:47:18.674 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 08:47:18.675 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Register - 200 null text/html; charset=utf-8 119.5623ms
2024-11-19 08:47:18.697 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Register.css - null null
2024-11-19 08:47:18.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:47:18.700 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:18.700 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Registration.js - null null
2024-11-19 08:47:18.700 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/password-toggle.js - null null
2024-11-19 08:47:18.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.9265ms
2024-11-19 08:47:18.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:47:18.704 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:18.706 +02:00 [INF] The file /css/Register.css was not modified
2024-11-19 08:47:18.706 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:47:18.712 +02:00 [INF] The file /js/Registration.js was not modified
2024-11-19 08:47:18.713 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Register.css - 304 null text/css 16.4789ms
2024-11-19 08:47:18.714 +02:00 [INF] The file /js/password-toggle.js was not modified
2024-11-19 08:47:18.714 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.9415ms
2024-11-19 08:47:18.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Registration.js - 304 null text/javascript 15.5662ms
2024-11-19 08:47:18.718 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/password-toggle.js - 304 null text/javascript 18.0033ms
2024-11-19 08:48:07.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/SelectRole - null null
2024-11-19 08:48:07.239 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:48:07.240 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:48:07.240 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 08:48:07.241 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:48:07.242 +02:00 [INF] Executing ViewResult, running view SelectRole.
2024-11-19 08:48:07.245 +02:00 [INF] Executed ViewResult - view SelectRole executed in 2.2631ms.
2024-11-19 08:48:07.245 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 3.2387ms
2024-11-19 08:48:07.246 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 08:48:07.248 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/SelectRole - 200 null text/html; charset=utf-8 15.7573ms
2024-11-19 08:48:07.277 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:48:07.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1696ms
2024-11-19 08:48:08.519 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/SelectRole - application/x-www-form-urlencoded 193
2024-11-19 08:48:08.523 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:48:08.525 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:48:08.527 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 08:48:08.527 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole(System.String) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:48:08.532 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Register.
2024-11-19 08:48:08.532 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 3.4257ms
2024-11-19 08:48:08.533 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 08:48:08.534 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/SelectRole - 302 0 null 14.4365ms
2024-11-19 08:48:08.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Register - null null
2024-11-19 08:48:08.540 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:48:08.540 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:48:08.541 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 08:48:08.541 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 08:48:08.542 +02:00 [INF] Register page loaded.
2024-11-19 08:48:08.548 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [d].[DepartmentID]) AS [Value], [d].[DepartmentName] AS [Text]
FROM [Departments] AS [d]
2024-11-19 08:48:08.552 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CourseID]) AS [Value], [c].[CourseName] AS [Text]
FROM [Courses] AS [c]
2024-11-19 08:48:08.554 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [p].[PositionID]) AS [Value], [p].[PositionName] AS [Text]
FROM [Positions] AS [p]
2024-11-19 08:48:08.555 +02:00 [INF] SELECTED model ROLE: Staff
2024-11-19 08:48:08.555 +02:00 [INF] SELECTED ROLE: Staff
2024-11-19 08:48:08.556 +02:00 [INF] Executing ViewResult, running view Register.
2024-11-19 08:48:08.559 +02:00 [INF] Executed ViewResult - view Register executed in 3.3468ms.
2024-11-19 08:48:08.560 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 17.9217ms
2024-11-19 08:48:08.560 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 08:48:08.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Register - 200 null text/html; charset=utf-8 23.9728ms
2024-11-19 08:48:08.577 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:48:08.579 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:48:08.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9773ms
2024-11-19 08:48:08.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.2215ms
2024-11-19 08:58:12.972 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 08:58:13.162 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 08:58:13.164 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 08:58:13.167 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 08:58:13.168 +02:00 [INF] Hosting environment: Development
2024-11-19 08:58:13.169 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 08:58:14.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 08:58:14.591 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:58:14.598 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:58:14.602 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:58:14.612 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 08:58:14.624 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 08:58:14.703 +02:00 [INF] Executed ViewResult - view Index executed in 83.6949ms.
2024-11-19 08:58:14.710 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 96.4009ms
2024-11-19 08:58:14.711 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 08:58:14.718 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 466.1236ms
2024-11-19 08:58:14.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 08:58:14.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 08:58:14.771 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.605ms
2024-11-19 08:58:14.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 08:58:14.819 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:58:14.826 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:58:14.827 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 26.1686ms
2024-11-19 08:58:14.829 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 08:58:14.899 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.4798ms
2024-11-19 08:58:15.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-19 08:58:15.285 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 08:58:15.329 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-19 08:58:15.331 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 70.7444ms
2024-11-19 10:03:25.947 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 10:03:26.146 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 10:03:26.148 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 10:03:26.151 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 10:03:26.152 +02:00 [INF] Hosting environment: Development
2024-11-19 10:03:26.154 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 10:03:26.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 10:03:28.092 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:28.106 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:28.113 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:28.140 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 10:03:28.165 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 10:03:28.321 +02:00 [INF] Executed ViewResult - view Index executed in 162.8266ms.
2024-11-19 10:03:28.329 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 182.893ms
2024-11-19 10:03:28.331 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:28.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1377.1026ms
2024-11-19 10:03:28.414 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 10:03:28.414 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 10:03:28.425 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.5246ms
2024-11-19 10:03:28.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 10:03:28.482 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:28.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.9936ms
2024-11-19 10:03:28.488 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:28.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 29.4736ms
2024-11-19 10:03:28.493 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 10:03:32.153 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 10:03:32.171 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:32.175 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:32.179 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:32.188 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 10:03:32.197 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-19 10:03:32.232 +02:00 [INF] Executed ViewResult - view Login executed in 36.3523ms.
2024-11-19 10:03:32.235 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 42.7687ms
2024-11-19 10:03:32.238 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:32.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 87.5229ms
2024-11-19 10:03:32.283 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 10:03:32.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.8395ms
2024-11-19 10:03:32.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 10:03:32.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.7035ms
2024-11-19 10:03:33.697 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/SelectRole - null null
2024-11-19 10:03:33.705 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:33.706 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:33.707 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:33.710 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 10:03:33.716 +02:00 [INF] Executing ViewResult, running view SelectRole.
2024-11-19 10:03:33.726 +02:00 [INF] Executed ViewResult - view SelectRole executed in 11.38ms.
2024-11-19 10:03:33.728 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 14.3532ms
2024-11-19 10:03:33.730 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:33.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/SelectRole - 200 null text/html; charset=utf-8 34.5089ms
2024-11-19 10:03:33.766 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 10:03:33.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 10:03:33.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0727ms
2024-11-19 10:03:33.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.95ms
2024-11-19 10:03:35.449 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/SelectRole - application/x-www-form-urlencoded 195
2024-11-19 10:03:35.456 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:35.457 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:35.458 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:35.468 +02:00 [INF] Route matched with {action = "SelectRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SelectRole(System.String) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 10:03:35.495 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Register.
2024-11-19 10:03:35.502 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp) in 31.8003ms
2024-11-19 10:03:35.504 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.SelectRole (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:35.506 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/SelectRole - 302 0 null 56.3981ms
2024-11-19 10:03:35.515 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Register - null null
2024-11-19 10:03:35.519 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:35.521 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:03:35.522 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:35.527 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 10:03:35.532 +02:00 [INF] Register page loaded.
2024-11-19 10:03:36.366 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 10:03:37.353 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [d].[DepartmentID]) AS [Value], [d].[DepartmentName] AS [Text]
FROM [Departments] AS [d]
2024-11-19 10:03:37.405 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CourseID]) AS [Value], [c].[CourseName] AS [Text]
FROM [Courses] AS [c]
2024-11-19 10:03:37.420 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [p].[PositionID]) AS [Value], [p].[PositionName] AS [Text]
FROM [Positions] AS [p]
2024-11-19 10:03:37.427 +02:00 [INF] SELECTED model ROLE: Student
2024-11-19 10:03:37.428 +02:00 [INF] SELECTED ROLE: Student
2024-11-19 10:03:37.432 +02:00 [INF] Executing ViewResult, running view Register.
2024-11-19 10:03:37.469 +02:00 [INF] Executed ViewResult - view Register executed in 37.6442ms.
2024-11-19 10:03:37.472 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 1942.9835ms
2024-11-19 10:03:37.474 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 10:03:37.509 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Register - 200 null text/html; charset=utf-8 1993.5411ms
2024-11-19 10:03:37.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 10:03:37.527 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 10:03:37.528 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0312ms
2024-11-19 10:03:37.537 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.2858ms
2024-11-19 10:25:55.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Register - null null
2024-11-19 10:25:55.564 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:25:55.567 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 10:25:55.568 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 10:25:55.583 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 10:25:55.593 +02:00 [INF] Register page loaded.
2024-11-19 10:25:55.748 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [d].[DepartmentID]) AS [Value], [d].[DepartmentName] AS [Text]
FROM [Departments] AS [d]
2024-11-19 10:25:55.763 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CourseID]) AS [Value], [c].[CourseName] AS [Text]
FROM [Courses] AS [c]
2024-11-19 10:25:55.768 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [p].[PositionID]) AS [Value], [p].[PositionName] AS [Text]
FROM [Positions] AS [p]
2024-11-19 10:25:55.774 +02:00 [INF] SELECTED model ROLE: 
2024-11-19 10:25:55.775 +02:00 [INF] SELECTED ROLE: 
2024-11-19 10:25:55.784 +02:00 [INF] Executing ViewResult, running view Register.
2024-11-19 10:25:55.819 +02:00 [INF] Executed ViewResult - view Register executed in 43.1465ms.
2024-11-19 10:25:55.821 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 236.5254ms
2024-11-19 10:25:55.823 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 10:25:55.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Register - 200 null text/html; charset=utf-8 406.6781ms
2024-11-19 10:25:55.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 10:25:55.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1402ms
2024-11-19 11:24:42.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Register - null null
2024-11-19 11:24:42.600 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 11:24:42.605 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 11:24:42.611 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 11:24:42.622 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 11:24:42.632 +02:00 [INF] Register page loaded.
2024-11-19 11:24:42.939 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [d].[DepartmentID]) AS [Value], [d].[DepartmentName] AS [Text]
FROM [Departments] AS [d]
2024-11-19 11:24:42.971 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CourseID]) AS [Value], [c].[CourseName] AS [Text]
FROM [Courses] AS [c]
2024-11-19 11:24:43.002 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [p].[PositionID]) AS [Value], [p].[PositionName] AS [Text]
FROM [Positions] AS [p]
2024-11-19 11:24:43.004 +02:00 [INF] SELECTED model ROLE: 
2024-11-19 11:24:43.005 +02:00 [INF] SELECTED ROLE: 
2024-11-19 11:24:43.034 +02:00 [INF] Executing ViewResult, running view Register.
2024-11-19 11:24:43.097 +02:00 [INF] Executed ViewResult - view Register executed in 84.4315ms.
2024-11-19 11:24:43.099 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp) in 473.0359ms
2024-11-19 11:24:43.100 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Register (Apptivate_UQMS_WebApp)'
2024-11-19 11:24:43.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Register - 200 null text/html; charset=utf-8 623.3963ms
2024-11-19 11:24:43.174 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 11:24:43.181 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.0848ms
2024-11-19 14:14:27.729 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 14:14:28.024 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-19 14:14:28.025 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-19 14:14:28.028 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 14:14:28.029 +02:00 [INF] Hosting environment: Development
2024-11-19 14:14:28.030 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-19 14:14:28.655 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-19 14:14:29.085 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 14:14:29.090 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 14:14:29.092 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 14:14:29.098 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-19 14:14:29.106 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 14:14:29.187 +02:00 [INF] Executed ViewResult - view Index executed in 82.274ms.
2024-11-19 14:14:29.193 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 92.9649ms
2024-11-19 14:14:29.196 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 14:14:29.207 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 552.5358ms
2024-11-19 14:14:29.225 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 14:14:29.227 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 14:14:29.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.0221ms
2024-11-19 14:14:29.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/pattern.svg - null null
2024-11-19 14:14:29.265 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.4422ms
2024-11-19 14:14:29.275 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 14:14:29.282 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 14:14:29.284 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/pattern.svg - 404 0 null 23.5443ms
2024-11-19 14:14:29.287 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/images/pattern.svg, Response status code: 404
2024-11-19 14:15:43.146 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-19 14:15:43.156 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 14:15:43.157 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 14:15:43.157 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:43.161 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 14:15:43.166 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-19 14:15:43.190 +02:00 [INF] Executed ViewResult - view Login executed in 25.0753ms.
2024-11-19 14:15:43.191 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 29.2991ms
2024-11-19 14:15:43.193 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:43.194 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 47.8033ms
2024-11-19 14:15:43.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 14:15:43.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 14:15:43.227 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2281ms
2024-11-19 14:15:43.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.9526ms
2024-11-19 14:15:50.107 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Login - application/x-www-form-urlencoded 224
2024-11-19 14:15:50.116 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 14:15:50.117 +02:00 [INF] Firebase was not authenticated. Failure message: No token provided.
2024-11-19 14:15:50.118 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:50.138 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-19 14:15:50.190 +02:00 [INF] Attempting to log in user with email: Admin@gmail.com
2024-11-19 14:15:50.220 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-19 14:15:50.227 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-19 14:15:50.782 +02:00 [INF] Received HTTP response headers after 551.9801ms - 200
2024-11-19 14:15:50.784 +02:00 [INF] End processing HTTP request after 566.2024ms - 200
2024-11-19 14:15:50.786 +02:00 [INF] User logged in successfully.
2024-11-19 14:15:52.659 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:15:53.794 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__firebaseUser_Uid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-19 14:15:54.099 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@p1='5', @p0='2024-11-19T12:15:53.9129512Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-19 14:15:54.123 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-19 14:15:54.124 +02:00 [INF] User admin@gmail.com logged in successfully.
2024-11-19 14:15:54.129 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/AdminDashboard.
2024-11-19 14:15:54.130 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3989.9441ms
2024-11-19 14:15:54.131 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:54.133 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:2220b1d8-e2b2-0f08-54c9-15bbf4dc35ed
2024-11-19 14:15:54.148 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Login - 302 0 null 4041.054ms
2024-11-19 14:15:54.165 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - null null
2024-11-19 14:15:54.668 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:54.673 +02:00 [INF] Route matched with {action = "AdminDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 14:15:54.790 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AdminID], [a].[Department], [a].[UserID], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [AdminDetails] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 14:15:54.828 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='C9orrhtKXpgX4jsjPpwEI3J9a3t2' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-19 14:15:54.862 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 14:15:54.891 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-19 14:15:54.931 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-11-19 14:15:54.954 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[LastSeen] >= DATEADD(month, CAST(-1 AS int), GETUTCDATE())
2024-11-19 14:15:54.964 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
2024-11-19 14:15:54.981 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Resolved'
2024-11-19 14:15:54.991 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Pending'
2024-11-19 14:15:55.001 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Queries] AS [q]
WHERE [q].[Status] = N'Ongoing'
2024-11-19 14:15:55.073 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='35'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role], COUNT(*) AS [Count], CAST((CAST(COUNT(*) AS float) * 100.0E0) / @__p_0 AS int) AS [Percentage]
FROM [Users] AS [u]
GROUP BY [u].[Role]
2024-11-19 14:15:55.109 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-19 14:15:55.117 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT CONVERT(date, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Ongoing'
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-19 14:15:55.128 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DATEPART(month, [q].[SubmissionDate]) AS [Key]
    FROM [Queries] AS [q]
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-19 14:15:55.188 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(1 AS bit), [u].[Name], [u].[Surname], [t].[Description], CASE
    WHEN [t].[SubmissionDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[SubmissionDate]
FROM (
    SELECT TOP(@__p_0) [q].[Description], [q].[StudentID], [q].[SubmissionDate]
    FROM [Queries] AS [q]
    ORDER BY [q].[SubmissionDate] DESC
) AS [t]
INNER JOIN [StudentDetails] AS [s] ON [t].[StudentID] = [s].[StudentID]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
ORDER BY [t].[SubmissionDate] DESC
2024-11-19 14:15:55.241 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__startDate_0='2024-10-20T12:15:55.2099890Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-19 14:15:55.256 +02:00 [INF] Executing ViewResult, running view AdminDashboard.
2024-11-19 14:15:55.446 +02:00 [INF] Executed ViewResult - view AdminDashboard executed in 191.7794ms.
2024-11-19 14:15:55.449 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp) in 774.2794ms
2024-11-19 14:15:55.451 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.AdminDashboard (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:55.452 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/AdminDashboard - 200 null text/html; charset=utf-8 1287.337ms
2024-11-19 14:15:55.529 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 14:15:55.533 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - null null
2024-11-19 14:15:55.533 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/AdminCharts.js - null null
2024-11-19 14:15:55.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - null null
2024-11-19 14:15:55.538 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 14:15:55.538 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - null null
2024-11-19 14:15:55.542 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 13.0464ms
2024-11-19 14:15:55.556 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js - 404 0 null 19.3057ms
2024-11-19 14:15:55.557 +02:00 [INF] The file /js/AdminCharts.js was not modified
2024-11-19 14:15:55.557 +02:00 [INF] The file /css/AdminDashboard.css was not modified
2024-11-19 14:15:55.557 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/api/placeholder/32/32 - 404 0 null 19.098ms
2024-11-19 14:15:55.560 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/lib/microsoft/signalr/dist/browser/signalr.js, Response status code: 404
2024-11-19 14:15:55.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/AdminCharts.js - 304 null text/javascript 28.4606ms
2024-11-19 14:15:55.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.6307ms
2024-11-19 14:15:55.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AdminDashboard.css - 304 null text/css 28.9605ms
2024-11-19 14:15:55.565 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/api/placeholder/32/32, Response status code: 404
2024-11-19 14:15:55.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - null null
2024-11-19 14:15:55.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - null null
2024-11-19 14:15:55.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - null null
2024-11-19 14:15:55.896 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:55.896 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:55.896 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:55.902 +02:00 [INF] Route matched with {action = "GetDepartmentQueryData", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartmentQueryData() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 14:15:55.903 +02:00 [INF] Route matched with {action = "GetResponseTimeTrends", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponseTimeTrends(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 14:15:55.904 +02:00 [INF] Route matched with {action = "GetQueryResolutionRates", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQueryResolutionRates(Int32) on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-19 14:15:56.001 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='2024-10-20T12:15:55.9227492Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COALESCE(AVG(CAST(DATEDIFF(minute, [t].[SubmissionDate], [t].[ResolvedDate]) AS float)), 0.0E0) AS [AverageResponseTime]
FROM (
    SELECT [q].[ResolvedDate], [q].[SubmissionDate], CONVERT(date, [q].[ResolvedDate]) AS [Key]
    FROM [Queries] AS [q]
    WHERE [q].[Status] = N'Resolved' AND [q].[ResolvedDate] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2024-11-19 14:15:56.009 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResponseTimeDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 14:15:56.041 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp) in 132.4151ms
2024-11-19 14:15:56.043 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetResponseTimeTrends (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:56.045 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetResponseTimeTrends?days=30 - 200 null application/json; charset=utf-8 156.7207ms
2024-11-19 14:15:56.065 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__startDate_0='2024-10-20T12:15:55.9202021Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(date, [q].[SubmissionDate]) AS [SubmissionDate], CASE
    WHEN [q].[Status] = N'Resolved' THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsResolved], CASE
    WHEN [q].[ResolvedDate] IS NOT NULL THEN CONVERT(date, [q].[ResolvedDate])
    ELSE NULL
END AS [ResolvedDate]
FROM [Queries] AS [q]
WHERE [q].[SubmissionDate] >= @__startDate_0
2024-11-19 14:15:56.074 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Apptivate_UQMS_WebApp.Models.ResolutionRateDataPoint, Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 14:15:56.078 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp) in 167.9407ms
2024-11-19 14:15:56.082 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetQueryResolutionRates (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:56.083 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetQueryResolutionRates?days=30 - 200 null application/json; charset=utf-8 195.4185ms
2024-11-19 14:15:56.115 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__startDate_0='2023-12-19T14:15:55.9102807+02:00' (Nullable = true), @__endDate_1='2024-11-19T14:15:55.9102807+02:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DepartmentName] AS [department], [t].[Month] AS [month], COUNT(*) AS [queryCount]
FROM (
    SELECT [d].[DepartmentName], DATEPART(month, [q].[SubmissionDate]) - 1 AS [Month]
    FROM [Queries] AS [q]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    WHERE [q].[SubmissionDate] >= @__startDate_0 AND [q].[SubmissionDate] <= @__endDate_1
) AS [t]
GROUP BY [t].[DepartmentName], [t].[Month]
2024-11-19 14:15:56.145 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentName]
FROM [Departments] AS [d]
ORDER BY [d].[DepartmentName]
2024-11-19 14:15:56.151 +02:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType10`2[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType9`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Apptivate_UQMS_WebApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 14:15:56.160 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp) in 254.3614ms
2024-11-19 14:15:56.161 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.GetDepartmentQueryData (Apptivate_UQMS_WebApp)'
2024-11-19 14:15:56.162 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/GetDepartmentQueryData - 200 null application/json; charset=utf-8 273.8417ms
2024-11-19 14:22:44.101 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs - null null
2024-11-19 14:22:44.113 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 14:22:44.115 +02:00 [INF] Route matched with {action = "Index", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-19 14:22:44.126 +02:00 [INF] Found 31 log files
2024-11-19 14:22:44.128 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-19 14:22:44.136 +02:00 [INF] Executed ViewResult - view Index executed in 8.6381ms.
2024-11-19 14:22:44.138 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp) in 20.6816ms
2024-11-19 14:22:44.138 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.Index (Apptivate_UQMS_WebApp)'
2024-11-19 14:22:44.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs - 200 null text/html; charset=utf-8 37.946ms
2024-11-19 14:22:44.173 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 14:22:44.178 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 14:22:44.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.3417ms
2024-11-19 14:22:44.189 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7489ms
2024-11-19 14:22:59.342 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Logs/ViewLog?logFileName=log-20241118.txt - null null
2024-11-19 14:22:59.346 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.ViewLog (Apptivate_UQMS_WebApp)'
2024-11-19 14:22:59.349 +02:00 [INF] Route matched with {action = "ViewLog", controller = "Logs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewLog(System.String) on controller Apptivate_UQMS_WebApp.Controllers.LogsController (Apptivate_UQMS_WebApp).
2024-11-19 14:22:59.408 +02:00 [INF] Executing ViewResult, running view LogDetail.
2024-11-19 14:22:59.427 +02:00 [INF] Executed ViewResult - view LogDetail executed in 20.2694ms.
2024-11-19 14:22:59.429 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.LogsController.ViewLog (Apptivate_UQMS_WebApp) in 78.0516ms
2024-11-19 14:22:59.429 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.LogsController.ViewLog (Apptivate_UQMS_WebApp)'
2024-11-19 14:22:59.430 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Logs/ViewLog?logFileName=log-20241118.txt - 200 null text/html; charset=utf-8 88.0259ms
2024-11-19 14:22:59.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-19 14:22:59.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 14:22:59.468 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.1817ms
2024-11-19 14:22:59.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.8346ms
