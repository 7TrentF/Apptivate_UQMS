2024-11-22 11:01:15.026 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 11:01:15.262 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 11:01:15.263 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 11:01:15.265 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 11:01:15.266 +02:00 [INF] Hosting environment: Development
2024-11-22 11:01:15.267 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 11:01:16.727 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 11:01:17.363 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732266077.
2024-11-22 11:01:17.369 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732266077.
2024-11-22 11:01:17.372 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 11:01:17.390 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 11:01:17.404 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 11:01:17.560 +02:00 [INF] Executed ViewResult - view Index executed in 161.1997ms.
2024-11-22 11:01:17.570 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 177.1878ms
2024-11-22 11:01:17.571 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 11:01:17.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 860.2802ms
2024-11-22 11:01:17.600 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-22 11:01:17.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 11:01:17.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LandingPageStyles.css - null null
2024-11-22 11:01:17.604 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 11:01:17.620 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 19.7182ms
2024-11-22 11:01:17.624 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732266077.
2024-11-22 11:01:17.624 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732266077.
2024-11-22 11:01:17.630 +02:00 [INF] The file /css/LandingPageStyles.css was not modified
2024-11-22 11:01:17.631 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LandingPageStyles.css - 304 null text/css 29.5462ms
2024-11-22 11:01:17.641 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-22 11:01:17.643 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 43.0967ms
2024-11-22 11:01:17.683 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/background-image.jpg - null null
2024-11-22 11:01:17.696 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732266077.
2024-11-22 11:01:17.704 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732266077.
2024-11-22 11:01:17.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/background-image.jpg - 404 0 null 22.8872ms
2024-11-22 11:01:17.710 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/css/background-image.jpg, Response status code: 404
2024-11-22 11:01:17.725 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.9433ms
2024-11-22 12:53:03.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 12:53:03.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 30.9396ms
2024-11-22 13:32:49.146 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 13:32:49.181 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 35.8689ms
2024-11-22 16:39:36.785 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 16:39:37.677 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 16:39:38.181 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 16:39:38.256 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 16:39:38.277 +02:00 [INF] Hosting environment: Development
2024-11-22 16:39:38.301 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 16:39:40.156 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 16:39:41.089 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286381.
2024-11-22 16:39:41.109 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286381.
2024-11-22 16:39:41.178 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 16:39:41.234 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 16:39:41.393 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 16:39:41.735 +02:00 [INF] Executed ViewResult - view Index executed in 355.5055ms.
2024-11-22 16:39:41.754 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 412.1159ms
2024-11-22 16:39:41.756 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 16:39:41.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1618.2933ms
2024-11-22 16:39:41.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-22 16:39:41.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:39:41.864 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LandingPageStyles.css - null null
2024-11-22 16:39:41.864 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:39:41.877 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.3122ms
2024-11-22 16:39:41.892 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286381.
2024-11-22 16:39:41.892 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286381.
2024-11-22 16:39:42.037 +02:00 [INF] The file /css/LandingPageStyles.css was not modified
2024-11-22 16:39:42.037 +02:00 [INF] The file /Apptivate_UQMS_WebApp.styles.css was not modified
2024-11-22 16:39:42.037 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 172.84ms
2024-11-22 16:39:42.038 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LandingPageStyles.css - 304 null text/css 174.7143ms
2024-11-22 16:39:42.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 304 null text/css 175.7161ms
2024-11-22 16:39:42.101 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/background-image.jpg - null null
2024-11-22 16:39:42.145 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286382.
2024-11-22 16:39:42.156 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286382.
2024-11-22 16:39:42.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/background-image.jpg - 404 0 null 59.5427ms
2024-11-22 16:39:42.171 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/css/background-image.jpg, Response status code: 404
2024-11-22 16:39:47.571 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 16:39:47.580 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286387.
2024-11-22 16:39:47.581 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286387.
2024-11-22 16:39:47.583 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 16:39:47.591 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 16:39:47.598 +02:00 [ERR] Error during auto-login: Firebase ID token expired at 1732201584. Expected to be greater than 1732286387.
2024-11-22 16:39:47.601 +02:00 [INF] Executing ViewResult, running view Login.
2024-11-22 16:39:47.644 +02:00 [INF] Executed ViewResult - view Login executed in 44.8055ms.
2024-11-22 16:39:47.646 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 54.3094ms
2024-11-22 16:39:47.649 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 16:39:47.651 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 200 null text/html; charset=utf-8 79.7151ms
2024-11-22 16:39:47.694 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/Login.css - null null
2024-11-22 16:39:47.697 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286387.
2024-11-22 16:39:47.700 +02:00 [INF] The file /css/Login.css was not modified
2024-11-22 16:39:47.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/Login.css - 304 null text/css 7.7883ms
2024-11-22 16:39:47.705 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:39:47.707 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:39:47.707 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/login.js - null null
2024-11-22 16:39:47.708 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6451ms
2024-11-22 16:39:47.720 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.4824ms
2024-11-22 16:39:47.729 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286387.
2024-11-22 16:39:47.735 +02:00 [INF] The file /js/login.js was not modified
2024-11-22 16:39:47.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/login.js - 304 null text/javascript 29.4631ms
2024-11-22 16:39:52.853 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Account/Login - application/x-www-form-urlencoded 225
2024-11-22 16:39:52.864 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286392.
2024-11-22 16:39:52.865 +02:00 [INF] Firebase was not authenticated. Failure message: Firebase token validation failed: Firebase ID token expired at 1732201584. Expected to be greater than 1732286392.
2024-11-22 16:39:52.867 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 16:39:52.891 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginViewModel) on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 16:39:52.945 +02:00 [INF] Attempting to log in user with email: Daniel@gmail.com
2024-11-22 16:39:52.978 +02:00 [INF] Start processing HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-22 16:39:52.986 +02:00 [INF] Sending HTTP request POST https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXB0dEozyPQdXzlGyQFP1elMObEksarR0
2024-11-22 16:39:53.587 +02:00 [INF] Received HTTP response headers after 595.8684ms - 200
2024-11-22 16:39:53.591 +02:00 [INF] End processing HTTP request after 615.3902ms - 200
2024-11-22 16:39:53.593 +02:00 [INF] User logged in successfully.
2024-11-22 16:39:55.765 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 16:39:57.228 +02:00 [INF] Executed DbCommand (152ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 16:39:57.636 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@p1='3', @p0='2024-11-22T14:39:57.4183199Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastSeen] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-11-22 16:39:57.656 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 16:39:57.657 +02:00 [INF] User Daniel@gmail.com logged in successfully.
2024-11-22 16:39:57.662 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 16:39:57.663 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4770.1438ms
2024-11-22 16:39:57.664 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 16:39:57.667 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:9bea36d6-62f5-fee6-b489-30bcf0c5b384
2024-11-22 16:39:57.678 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Account/Login - 302 0 null 4825.1212ms
2024-11-22 16:39:57.679 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 16:39:58.079 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:39:58.087 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 16:39:58.507 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:39:58.763 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 16:39:58.921 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 16:39:59.285 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 16:39:59.341 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:39:59.361 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 16:39:59.388 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 16:39:59.393 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 16:39:59.705 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 313.2347ms.
2024-11-22 16:39:59.713 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 1623.7501ms
2024-11-22 16:39:59.715 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:39:59.718 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 2038.4212ms
2024-11-22 16:39:59.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-22 16:39:59.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-22 16:39:59.758 +02:00 [INF] The file /css/tempSidebar.css was not modified
2024-11-22 16:39:59.760 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 304 null text/css 5.0473ms
2024-11-22 16:39:59.769 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-22 16:39:59.771 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 16.1265ms
2024-11-22 16:39:59.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:39:59.779 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.714ms
2024-11-22 16:39:59.780 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:39:59.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.9672ms
2024-11-22 16:39:59.863 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 16:39:59.868 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 16:39:59.879 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 16:39:59.880 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 16.8645ms
2024-11-22 16:39:59.949 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=ND4KfxZNJCnCUyrRrTNR1g - null null
2024-11-22 16:39:59.954 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 16:40:00.014 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: 4EpTAchUS__V8aPQ-O_YdA
2024-11-22 16:40:00.020 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: 4EpTAchUS__V8aPQ-O_YdA
2024-11-22 16:40:02.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:40:02.771 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:02.773 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:40:03.403 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:40:03.406 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:40:03.446 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 40.3686ms.
2024-11-22 16:40:03.448 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 672.9754ms
2024-11-22 16:40:03.449 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:03.450 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 685.7079ms
2024-11-22 16:40:03.468 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: 4EpTAchUS__V8aPQ-O_YdA
2024-11-22 16:40:03.469 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: 4EpTAchUS__V8aPQ-O_YdA
2024-11-22 16:40:03.475 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 16:40:03.476 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=ND4KfxZNJCnCUyrRrTNR1g - 200 null null 3527.2198ms
2024-11-22 16:40:03.502 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:40:03.502 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:40:03.504 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6677ms
2024-11-22 16:40:03.509 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.4159ms
2024-11-22 16:40:05.949 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 16:40:05.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 5.8321ms
2024-11-22 16:40:05.957 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 16:40:06.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:40:06.754 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:06.755 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:40:06.759 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:40:06.760 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:40:06.762 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.1101ms.
2024-11-22 16:40:06.763 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.4928ms
2024-11-22 16:40:06.767 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:06.768 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 23.4786ms
2024-11-22 16:40:06.921 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:40:06.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.493ms
2024-11-22 16:40:11.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-22 16:40:11.512 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:11.519 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:40:11.523 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:40:11.608 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:40:11.637 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-22 16:40:11.660 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-22 16:40:11.705 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 45.7855ms.
2024-11-22 16:40:11.706 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 185.7766ms
2024-11-22 16:40:11.708 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:11.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 201.4711ms
2024-11-22 16:40:11.740 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - null null
2024-11-22 16:40:11.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:40:11.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:40:11.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.7151ms
2024-11-22 16:40:11.753 +02:00 [INF] Sending file. Request path: '/css/staffQueries.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\staffQueries.css'
2024-11-22 16:40:11.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=JMGDhCKNEvRmpA-3tVk-Em7oXHa07V8nBHrxo0iMLQA - 200 7943 text/css 13.7906ms
2024-11-22 16:40:11.762 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.631ms
2024-11-22 16:40:16.146 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=30 - null null
2024-11-22 16:40:16.150 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:16.154 +02:00 [INF] Route matched with {action = "QueryDetails", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QueryDetails(Int32) on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:40:16.157 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:40:16.168 +02:00 [INF] GetStudentQueryAsync called with queryId: 30
2024-11-22 16:40:16.173 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:40:16.209 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__queryId_0='30'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[QueryID], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0], [q0].[DocumentID], [q0].[DocumentName], [q0].[DocumentPath], [q0].[QueryID], [q0].[UploadDate], [t].[Course], [t].[Department], [t].[UserID], [t].[Year0], [t].[studentNumber], [t].[ConnectionId], [t].[Email], [t].[FirebaseUID], [t].[IsOnline], [t].[LastSeen], [t].[Name], [t].[PasswordHash], [t].[PhoneNumber], [t].[RegistrationDate], [t].[Role], [t].[Surname], [t].[DepartmentName], [t].[CourseCode], [t].[CourseName]
FROM (
    SELECT TOP(1) [q].[QueryID], [q].[CategoryID], [q].[CourseID], [q].[DepartmentID], [q].[Description], [q].[ModuleID], [q].[QueryTypeID], [q].[ResolvedDate], [q].[Status], [q].[StudentID], [q].[SubmissionDate], [q].[TicketNumber], [q].[Year], [s].[StudentID] AS [StudentID0], [s].[Course], [s].[Department], [s].[UserID], [s].[Year] AS [Year0], [s].[studentNumber], [u].[UserID] AS [UserID0], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [d].[DepartmentID] AS [DepartmentID0], [d].[DepartmentName], [c].[CourseID] AS [CourseID0], [c].[CourseCode], [c].[CourseName]
    FROM [Queries] AS [q]
    INNER JOIN [StudentDetails] AS [s] ON [q].[StudentID] = [s].[StudentID]
    INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
    LEFT JOIN [Departments] AS [d] ON [q].[DepartmentID] = [d].[DepartmentID]
    LEFT JOIN [Courses] AS [c] ON [q].[CourseID] = [c].[CourseID]
    WHERE [q].[QueryID] = @__queryId_0
) AS [t]
LEFT JOIN [QueryDocuments] AS [q0] ON [t].[QueryID] = [q0].[QueryID]
ORDER BY [t].[QueryID], [t].[StudentID0], [t].[UserID0], [t].[DepartmentID0], [t].[CourseID0]
2024-11-22 16:40:16.222 +02:00 [INF] GetStaffAssignmentQueryDetails called with queryTypeId: 30
2024-11-22 16:40:16.225 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:40:16.230 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:40:16.242 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true), @__queryId_1='30' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[AssignmentID]
FROM [QueryAssignments] AS [q]
WHERE [q].[StaffID] = @__staff_StaffID_0 AND [q].[QueryID] = @__queryId_1
2024-11-22 16:40:16.244 +02:00 [WRN] AssignmentID: 3
2024-11-22 16:40:16.245 +02:00 [WRN] QueryID: 30
2024-11-22 16:40:16.245 +02:00 [INF] Success !!!
2024-11-22 16:40:16.294 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/QueryDetails.cshtml.
2024-11-22 16:40:16.301 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:40:16.336 +02:00 [INF] Attempting to generate signed URL for object: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart.png
2024-11-22 16:40:16.371 +02:00 [INF] Successfully generated signed URL for object: 66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart.png
2024-11-22 16:40:16.373 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding%20reps%20onto%20rep%20register%20flow%20chart.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241122%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241122T144016Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=4662b66f7a85729d2ef7cb9eb3daca01035209d2d727e593e7bf7813ed699d78e7fca8d59a3ececdfd731204d95cb6536f4ae68f919ec63173e4674c2c561d3a3f5ac9e642a2352b5b988fbb04d44f67f09182462906aae54f4d0f20367d1e70226a6aa5bc441a4f3f4665ef06eb947ce53c4d0e83f128225e843cd826af53c12f2d2ec2f92bada30abf71e2d2dd956175519115846f2d66e33f8c536bd9d2d971149b0835bbd9435249186035358f4b56dc274faa095ea1d7070826f0cb08eb1bf79214d31fe5fec2f4e11bb533f29596ddfed47ae01923bfd8d0585389e8e89a70dddb30804a2331893fa6f5a145dd1b089a3be6ee985e0395a2b413f8e5a4
2024-11-22 16:40:16.373 +02:00 [INF] Attempting to generate signed URL for object: b228c610-f11c-4800-9ac3-4963add30ef5_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (1).png
2024-11-22 16:40:16.376 +02:00 [INF] Successfully generated signed URL for object: b228c610-f11c-4800-9ac3-4963add30ef5_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding reps onto rep register flow chart (1).png
2024-11-22 16:40:16.377 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/b228c610-f11c-4800-9ac3-4963add30ef5_66ce3163-3256-46fe-bea5-03efeee1cce4_onboarding%20reps%20onto%20rep%20register%20flow%20chart%20%281%29.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241122%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241122T144016Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=14f503c9a1c4372f7b418cefae9ccf99196d4f44aa215abd116419bc9cebda69c5386a5e818071c07d2934467df1e40cd2a7d79f28c8ba4360b41982346655cf3baef95b4a2133cd0cbdab8ec69fe1cd7e76d988773ea5014fd0df6fc6981634ba678c25bd98c6a6d7ba5f5d45095b807a12586f5ace4006833145424fc4be97f61e42d42c6485f063813f8fe0cf1f5266e140a7ab0bd823c953bd42b96d78184d3ebc6ad4f9fa962082213fff1f61b193fb2dc07dd5e98df90a8583c8ddbc33c35980c45efe8afa08e70fcf563c81ef1e8762bb3f42a38b0395be5071436711f54547fc2ec919391f911a22151e2eb48bdb4d064605e5d4a477cd556dadd5f7
2024-11-22 16:40:16.377 +02:00 [INF] Attempting to generate signed URL for object: d5e7e7b9-0cd1-4621-83d7-44df5259541e_bd5423da-b01b-4293-adb6-a0db617138f8_Resources and links.pdf
2024-11-22 16:40:16.380 +02:00 [INF] Successfully generated signed URL for object: d5e7e7b9-0cd1-4621-83d7-44df5259541e_bd5423da-b01b-4293-adb6-a0db617138f8_Resources and links.pdf
2024-11-22 16:40:16.381 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/d5e7e7b9-0cd1-4621-83d7-44df5259541e_bd5423da-b01b-4293-adb6-a0db617138f8_Resources%20and%20links.pdf?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241122%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241122T144016Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=7a4a3510a3365e79b996f5f59a76bea5cd5f963a949ae27b82dc7c12e307392371216cd34f813ba064d5869757bd61f191901851581dab7e884e3c8da6cc1312257e1b22b24741dbcaa0820dbcdbf057cf3e32b6bdbc9437f1f61d3359a4ca8dd1872268669c9dff962e2c7972ad52e516f6e1614f0202db75f80633c2d1ba448667e34d74eb2e6530f716bc0969c6d0e54ec6154739ef5ec3f6dfe526a1997fb8677317d68dcbb43a6244c8481dd22267318383778785761b351a9808326fa1db5eb6d41d9c01fd08a23126b9af0ff4e3670bd27f74a3fd6516e1b8c0238fae705dd726296847b4bde8b10aeab45bd7797d9fdac2af6672e280071c45924902
2024-11-22 16:40:16.382 +02:00 [INF] Attempting to generate signed URL for object: c3709dc1-3f41-418f-b0b7-f57f9cac9ca0_Screenshot_20241104-173301_Fed Up.jpg
2024-11-22 16:40:16.384 +02:00 [INF] Successfully generated signed URL for object: c3709dc1-3f41-418f-b0b7-f57f9cac9ca0_Screenshot_20241104-173301_Fed Up.jpg
2024-11-22 16:40:16.385 +02:00 [INF] SIGNED URL WEB https://storage.googleapis.com/uqms-a3d87.appspot.com/c3709dc1-3f41-418f-b0b7-f57f9cac9ca0_Screenshot_20241104-173301_Fed%20Up.jpg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-666ea%40uqms-a3d87.iam.gserviceaccount.com%2F20241122%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20241122T144016Z&X-Goog-Expires=900&X-Goog-SignedHeaders=host&X-Goog-Signature=af4274530be71eb6ed64a7a6deeb68360fea55a91c09249e63fc29a6289f92fccaa600c2f7bb7ecea0e7e35b5f36d80dca7f2161044d3921d5fe1ee491f41e3b39ffd9144f12268abb705be7a9e5ae1d37e3719c4e91cb528770a98fb90e37d89274c4d0ffc45da5d6a62ce2497da26c274c198c2245b18a043542a1f5afac74b09667a991ac9849d6c6f36e44db8e2f46da10a1dd9fd9f848062d8fc56932d0ab5f449d5f05516c6351924e787f78861c6b67e07cde4686276bce6edd66978d348e7757a6182d21826818148f7c89860c5d048b57d2b68ebe58f7c19b50d477e116ea9b90f43134ab1ea7877fb4190c965a08a32c65038fba45a3df3eb8e78e
2024-11-22 16:40:16.391 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/QueryDetails.cshtml executed in 97.5947ms.
2024-11-22 16:40:16.392 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp) in 236.9858ms
2024-11-22 16:40:16.393 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.QueryDetails (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:16.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/QueryDetails?queryId=30 - 200 null text/html; charset=utf-8 248.0357ms
2024-11-22 16:40:16.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/AssignedQueryDetails.css?v=3Dadah6tmLALO4aDJkoE2B2yuNWFWTe1BasA4Ayk3A8 - null null
2024-11-22 16:40:16.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:40:16.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:40:16.422 +02:00 [INF] Sending file. Request path: '/css/AssignedQueryDetails.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\AssignedQueryDetails.css'
2024-11-22 16:40:16.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0595ms
2024-11-22 16:40:16.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/AssignedQueryDetails.css?v=3Dadah6tmLALO4aDJkoE2B2yuNWFWTe1BasA4Ayk3A8 - 200 14940 text/css 5.1814ms
2024-11-22 16:40:16.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.2867ms
2024-11-22 16:40:17.061 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-22 16:40:17.065 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:17.066 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:40:17.070 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:40:17.074 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:40:17.078 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-22 16:40:17.081 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-22 16:40:17.084 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 3.6795ms.
2024-11-22 16:40:17.085 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 18.0453ms
2024-11-22 16:40:17.086 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:40:17.087 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 25.8566ms
2024-11-22 16:40:17.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:40:17.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.594ms
2024-11-22 16:42:00.897 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-22 16:42:00.909 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-22 16:42:00.915 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:42:00.919 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:42:00.925 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:42:00.933 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 16:42:00.958 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staffDetail_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-22 16:42:00.962 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml.
2024-11-22 16:42:00.968 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml executed in 6.9293ms.
2024-11-22 16:42:00.969 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 53.0031ms
2024-11-22 16:42:00.970 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-22 16:42:00.970 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 200 null text/html; charset=utf-8 73.4647ms
2024-11-22 16:42:01.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:42:01.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:42:01.011 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.942ms
2024-11-22 16:42:01.018 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.236ms
2024-11-22 16:42:03.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-22 16:42:03.811 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:42:03.813 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:42:03.817 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:42:03.821 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:42:03.826 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-22 16:42:03.829 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-22 16:42:03.832 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 2.6777ms.
2024-11-22 16:42:03.832 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 17.5859ms
2024-11-22 16:42:03.834 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:42:03.835 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 30.9157ms
2024-11-22 16:42:03.858 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:42:03.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.0466ms
2024-11-22 16:42:05.146 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - null null
2024-11-22 16:42:05.151 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-22 16:42:05.152 +02:00 [INF] Route matched with {action = "ViewFeedback", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewFeedback() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:42:05.154 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:42:05.158 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:42:05.161 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching]
FROM [StaffDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 16:42:05.173 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staffDetail_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeedbackID], [f].[QueryID], [f].[StudentID], [f].[Rating], [f].[Comments], [f].[SubmissionDate], [f].[IsAnonymous]
FROM [Feedback] AS [f]
LEFT JOIN [Queries] AS [q] ON [f].[QueryID] = [q].[QueryID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] IS NOT NULL AND [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staffDetail_StaffID_0)
2024-11-22 16:42:05.174 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml.
2024-11-22 16:42:05.176 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/ViewStudentFeedback.cshtml executed in 1.6315ms.
2024-11-22 16:42:05.177 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp) in 24.1716ms
2024-11-22 16:42:05.178 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.ViewFeedback (Apptivate_UQMS_WebApp)'
2024-11-22 16:42:05.180 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/ViewFeedback - 200 null text/html; charset=utf-8 34.0534ms
2024-11-22 16:42:05.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:42:05.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:42:05.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.238ms
2024-11-22 16:42:05.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.3638ms
2024-11-22 16:42:10.786 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-22 16:42:10.792 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:42:10.794 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:42:10.798 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:42:10.803 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:42:10.809 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-22 16:42:10.813 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-22 16:42:10.815 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 2.0243ms.
2024-11-22 16:42:10.816 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 20.9359ms
2024-11-22 16:42:10.818 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:42:10.819 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 32.7403ms
2024-11-22 16:42:10.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:42:10.841 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.8961ms
2024-11-22 16:43:33.614 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-22 16:43:33.621 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:43:33.621 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:43:33.626 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:43:33.637 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:43:33.645 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-22 16:43:33.647 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-22 16:43:33.686 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 38.6236ms.
2024-11-22 16:43:33.687 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 64.1902ms
2024-11-22 16:43:33.688 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:43:33.689 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 75.0274ms
2024-11-22 16:43:33.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=FXK2fxfTQDyyeHO0-G2WVBU2H6riUdAc1WydsQjc8jU - null null
2024-11-22 16:43:33.858 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:43:33.865 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:43:33.915 +02:00 [INF] Sending file. Request path: '/css/staffQueries.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\staffQueries.css'
2024-11-22 16:43:33.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=FXK2fxfTQDyyeHO0-G2WVBU2H6riUdAc1WydsQjc8jU - 200 7961 text/css 95.4439ms
2024-11-22 16:43:33.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 58.495ms
2024-11-22 16:43:33.931 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.766ms
2024-11-22 16:43:37.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-22 16:43:37.265 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:43:37.266 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:43:37.271 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:43:37.282 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:43:37.289 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-22 16:43:37.291 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-22 16:43:37.293 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 1.6495ms.
2024-11-22 16:43:37.294 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 24.1155ms
2024-11-22 16:43:37.295 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:43:37.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 35.8966ms
2024-11-22 16:43:37.316 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-22 16:43:37.316 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-22 16:43:37.316 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-22 16:43:37.316 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-22 16:43:37.316 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-22 16:43:37.317 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-22 16:43:37.317 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-22 16:43:37.317 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-22 16:43:37.321 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-22 16:43:37.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-22 16:43:37.323 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-22 16:43:37.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-22 16:43:37.324 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=FXK2fxfTQDyyeHO0-G2WVBU2H6riUdAc1WydsQjc8jU - null null
2024-11-22 16:43:37.324 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-22 16:43:37.325 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-22 16:43:37.325 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:43:37.333 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 17.5135ms
2024-11-22 16:43:37.336 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 19.9739ms
2024-11-22 16:43:37.375 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-22 16:43:37.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 59.6384ms
2024-11-22 16:43:37.381 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-22 16:43:37.382 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 65.5176ms
2024-11-22 16:43:37.388 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-22 16:43:37.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-22 16:43:37.398 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-22 16:43:37.399 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-22 16:43:37.399 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 11.3862ms
2024-11-22 16:43:37.400 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-22 16:43:37.400 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 76.7978ms
2024-11-22 16:43:37.400 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-22 16:43:37.402 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-22 16:43:37.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 10.974ms
2024-11-22 16:43:37.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-22 16:43:37.404 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 81.8152ms
2024-11-22 16:43:37.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:43:37.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 82.451ms
2024-11-22 16:43:37.409 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-22 16:43:37.417 +02:00 [INF] Sending file. Request path: '/css/staffQueries.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\staffQueries.css'
2024-11-22 16:43:37.419 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-22 16:43:37.421 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-22 16:43:37.421 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-22 16:43:37.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 103.84ms
2024-11-22 16:43:37.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=FXK2fxfTQDyyeHO0-G2WVBU2H6riUdAc1WydsQjc8jU - 200 7961 text/css 97.7453ms
2024-11-22 16:43:37.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4789 text/css 106.9399ms
2024-11-22 16:43:37.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 24.9302ms
2024-11-22 16:43:37.429 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 111.9907ms
2024-11-22 16:43:37.430 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-22 16:43:37.434 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-22 16:43:37.434 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.11ms
2024-11-22 16:43:37.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 38.982ms
2024-11-22 16:43:37.446 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 130.3949ms
2024-11-22 16:43:37.456 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-22 16:43:37.511 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-22 16:43:37.511 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-22 16:43:37.515 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 189.9953ms
2024-11-22 16:43:37.515 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 58.8832ms
2024-11-22 16:43:37.534 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-22 16:43:37.540 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-22 16:43:37.541 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 6.5867ms
2024-11-22 16:43:37.585 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-22 16:43:37.586 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 261.9076ms
2024-11-22 16:43:37.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-22 16:43:37.679 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-22 16:43:37.680 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 18.7429ms
2024-11-22 16:45:08.796 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 16:45:08.961 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 16:45:08.961 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 16:45:08.964 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 16:45:08.965 +02:00 [INF] Hosting environment: Development
2024-11-22 16:45:08.966 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 16:45:09.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-22 16:45:09.930 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:09.944 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:09.964 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:45:09.969 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 16:45:09.970 +02:00 [ERR] User not logged in.
2024-11-22 16:45:09.980 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-22 16:45:09.983 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 34.9724ms
2024-11-22 16:45:09.986 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:09.990 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 302 0 null 901.6342ms
2024-11-22 16:45:09.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 16:45:10.011 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:10.015 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:11.371 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 16:45:11.936 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 16:45:12.010 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 16:45:12.011 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 16:45:12.014 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 16:45:12.015 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1998.8205ms
2024-11-22 16:45:12.016 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:12.019 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:cb3193fc-0865-647b-5b1b-e134559f561f
2024-11-22 16:45:12.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2025.4224ms
2024-11-22 16:45:12.025 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 16:45:12.031 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:12.033 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:12.034 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 16:45:12.035 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.2093ms
2024-11-22 16:45:12.035 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:12.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 10.8158ms
2024-11-22 16:45:12.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 16:45:12.044 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:12.047 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:12.128 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:45:12.209 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 16:45:12.276 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 16:45:12.410 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 16:45:12.433 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:45:12.441 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 16:45:12.451 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 16:45:12.460 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 16:45:12.546 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 90.9316ms.
2024-11-22 16:45:12.548 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 499.9253ms
2024-11-22 16:45:12.549 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:12.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 510.9954ms
2024-11-22 16:45:12.589 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:45:12.589 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:45:12.599 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.2731ms
2024-11-22 16:45:12.630 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.9434ms
2024-11-22 16:45:12.705 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 16:45:12.709 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 16:45:12.718 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 16:45:12.719 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 13.6881ms
2024-11-22 16:45:12.762 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=f4l1AQb5GI1lp5kqa4KHMA - null null
2024-11-22 16:45:12.767 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 16:45:12.811 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: ksF6sO9abOtRWYzHIOGikA
2024-11-22 16:45:12.815 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: ksF6sO9abOtRWYzHIOGikA
2024-11-22 16:45:16.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:45:16.303 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:16.304 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:16.309 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:45:16.312 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:45:16.324 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 12.657ms.
2024-11-22 16:45:16.325 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 19.2385ms
2024-11-22 16:45:16.326 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:16.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 31.0786ms
2024-11-22 16:45:16.342 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: ksF6sO9abOtRWYzHIOGikA
2024-11-22 16:45:16.344 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: ksF6sO9abOtRWYzHIOGikA
2024-11-22 16:45:16.349 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 16:45:16.350 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=f4l1AQb5GI1lp5kqa4KHMA - 200 null null 3588.2061ms
2024-11-22 16:45:16.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:45:16.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:45:16.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7513ms
2024-11-22 16:45:16.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8667ms
2024-11-22 16:45:20.349 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:45:20.355 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:20.356 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:20.360 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:45:20.361 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:45:20.363 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.1841ms.
2024-11-22 16:45:20.364 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.493ms
2024-11-22 16:45:20.366 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:20.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 17.7512ms
2024-11-22 16:45:20.383 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:45:20.383 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:45:20.385 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.2452ms
2024-11-22 16:45:20.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.4239ms
2024-11-22 16:45:20.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:45:20.947 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:20.948 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:20.952 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:45:20.953 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:45:20.954 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 1.3784ms.
2024-11-22 16:45:20.955 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 5.5355ms
2024-11-22 16:45:20.955 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:20.956 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 14.7381ms
2024-11-22 16:45:20.971 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:45:20.971 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:45:20.973 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.9392ms
2024-11-22 16:45:20.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.719ms
2024-11-22 16:45:21.185 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:45:21.189 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:21.192 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:21.197 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:45:21.198 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:45:21.201 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 3.487ms.
2024-11-22 16:45:21.202 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.3233ms
2024-11-22 16:45:21.204 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:21.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 19.5993ms
2024-11-22 16:45:21.228 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:45:21.229 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:45:21.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.772ms
2024-11-22 16:45:21.236 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.4998ms
2024-11-22 16:45:22.073 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 16:45:22.082 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 8.4325ms
2024-11-22 16:45:22.084 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 16:45:22.899 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:45:22.907 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:22.908 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:22.914 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:45:22.915 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:45:22.917 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.7373ms.
2024-11-22 16:45:22.918 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 8.5543ms
2024-11-22 16:45:22.920 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:22.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 22.5797ms
2024-11-22 16:45:23.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:45:23.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6402ms
2024-11-22 16:45:23.658 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - null null
2024-11-22 16:45:23.663 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:23.664 +02:00 [INF] Route matched with {action = "StaffQueries", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffQueries() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:45:23.668 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:45:23.754 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 16:45:23.782 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [q1].[DocumentID], [q1].[DocumentName], [q1].[DocumentPath], [q1].[QueryID], [q1].[UploadDate]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [QueryDocuments] AS [q1] ON [q0].[QueryID] = [q1].[QueryID]
WHERE [q].[StaffID] = @__staff_StaffID_0
ORDER BY [q].[AssignmentID], [q0].[QueryID]
2024-11-22 16:45:23.802 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/StaffQueries.cshtml.
2024-11-22 16:45:23.919 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/StaffQueries.cshtml executed in 116.9407ms.
2024-11-22 16:45:23.920 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp) in 253.7764ms
2024-11-22 16:45:23.921 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.StaffQueries (Apptivate_UQMS_WebApp)'
2024-11-22 16:45:23.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/StaffQueries - 200 null text/html; charset=utf-8 263.719ms
2024-11-22 16:45:23.947 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=ZlA23k0EjKcEtclBScZxI-qH4MdtAY0RNIAKTaWKO_s - null null
2024-11-22 16:45:23.947 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:45:23.949 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 16:45:23.952 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.0662ms
2024-11-22 16:45:23.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.5705ms
2024-11-22 16:45:23.966 +02:00 [INF] Sending file. Request path: '/css/staffQueries.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\staffQueries.css'
2024-11-22 16:45:23.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/staffQueries.css?v=ZlA23k0EjKcEtclBScZxI-qH4MdtAY0RNIAKTaWKO_s - 200 7966 text/css 20.9147ms
2024-11-22 16:46:43.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:46:43.589 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:46:43.591 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:46:43.596 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:46:43.598 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:46:43.600 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.2398ms.
2024-11-22 16:46:43.601 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 8.7992ms
2024-11-22 16:46:43.602 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:46:43.603 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 20.9954ms
2024-11-22 16:46:43.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:46:43.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7495ms
2024-11-22 16:46:44.315 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 16:46:44.322 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 6.9931ms
2024-11-22 16:46:44.326 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 16:46:44.846 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:46:44.851 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:46:44.852 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:46:44.855 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:46:44.855 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:46:44.859 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 3.2943ms.
2024-11-22 16:46:44.860 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.9175ms
2024-11-22 16:46:44.861 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:46:44.861 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 15.5673ms
2024-11-22 16:46:44.942 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:46:44.945 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.757ms
2024-11-22 16:46:46.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 16:46:46.835 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 4.5214ms
2024-11-22 16:46:46.837 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 16:46:48.945 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:46:48.950 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:46:48.952 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:46:48.955 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:46:48.956 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:46:48.959 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 3.0785ms.
2024-11-22 16:46:48.960 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 6.3428ms
2024-11-22 16:46:48.961 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:46:48.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 16.0725ms
2024-11-22 16:46:49.032 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:46:49.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4399ms
2024-11-22 16:48:00.872 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 16:48:00.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 12.3767ms
2024-11-22 16:48:00.887 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 16:48:02.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 16:48:02.175 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:48:02.178 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 16:48:02.182 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 16:48:02.183 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 16:48:02.185 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 2.1418ms.
2024-11-22 16:48:02.186 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 7.1964ms
2024-11-22 16:48:02.194 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 16:48:02.194 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 24.5396ms
2024-11-22 16:48:02.348 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 16:48:02.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.4343ms
2024-11-22 16:53:25.207 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/clear-browser-cache - null null
2024-11-22 16:53:25.219 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/clear-browser-cache - 200 0 null 12.5597ms
2024-11-22 16:53:25.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css?nonce=1732287205910 - null null
2024-11-22 16:53:25.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?nonce=1732287205912 - null null
2024-11-22 16:53:25.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?nonce=1732287205913 - null null
2024-11-22 16:53:25.975 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-22 16:53:25.975 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-22 16:53:25.975 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-22 16:53:25.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?nonce=1732287205912 - 200 998 text/css 56.1837ms
2024-11-22 16:53:25.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css?nonce=1732287205910 - 200 162726 text/css 62.2613ms
2024-11-22 16:53:25.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?nonce=1732287205913 - 200 3256 text/css 58.112ms
2024-11-22 16:53:25.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css?nonce=1732287205913 - null null
2024-11-22 16:53:25.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css?nonce=1732287205914 - null null
2024-11-22 16:53:25.987 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-22 16:53:25.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css?nonce=1732287205913 - 200 4789 text/css 7.195ms
2024-11-22 16:53:25.989 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-22 16:53:25.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css?nonce=1732287205914 - 200 404 text/css 7.8416ms
2024-11-22 16:53:25.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?nonce=1732287205916 - null null
2024-11-22 16:53:25.998 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-22 16:53:25.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?nonce=1732287205916 - 200 5518 text/css 6.3242ms
2024-11-22 17:02:57.711 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:02:57.819 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:02:57.828 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:02:57.848 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:02:57.857 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:02:57.881 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 28.551ms.
2024-11-22 17:02:57.882 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 53.0922ms
2024-11-22 17:02:57.883 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:02:57.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 177.2606ms
2024-11-22 17:02:57.926 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - null null
2024-11-22 17:02:57.929 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - null null
2024-11-22 17:02:57.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - null null
2024-11-22 17:02:57.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/tempSidebar.css - null null
2024-11-22 17:02:57.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/toast.css - null null
2024-11-22 17:02:57.933 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/images/menu-icon.png - null null
2024-11-22 17:02:57.934 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/home-1.svg - null null
2024-11-22 17:02:57.953 +02:00 [INF] Sending file. Request path: '/css/toast.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\toast.css'
2024-11-22 17:02:57.953 +02:00 [INF] Sending file. Request path: '/css/tempSidebar.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\tempSidebar.css'
2024-11-22 17:02:57.954 +02:00 [INF] Sending file. Request path: '/images/menu-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\menu-icon.png'
2024-11-22 17:02:57.954 +02:00 [INF] Sending file. Request path: '/svgs/home-1.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\home-1.svg'
2024-11-22 17:02:57.954 +02:00 [INF] Sending file. Request path: '/Apptivate_UQMS_WebApp.styles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\obj\Debug\net8.0\scopedcss\bundle\Apptivate_UQMS_WebApp.styles.css'
2024-11-22 17:02:57.954 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/toast.css - 200 404 text/css 21.5821ms
2024-11-22 17:02:57.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/tempSidebar.css - 200 4789 text/css 25.4041ms
2024-11-22 17:02:57.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/ticket.svg - null null
2024-11-22 17:02:57.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - null null
2024-11-22 17:02:57.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/images/menu-icon.png - 200 153 image/png 24.3454ms
2024-11-22 17:02:57.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - null null
2024-11-22 17:02:57.958 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2024-11-22 17:02:57.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - null null
2024-11-22 17:02:57.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:02:57.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - null null
2024-11-22 17:02:57.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2024-11-22 17:02:57.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/home-1.svg - 200 372 image/svg+xml 28.5031ms
2024-11-22 17:02:57.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - null null
2024-11-22 17:02:57.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/logout.svg - null null
2024-11-22 17:02:57.964 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Apptivate_UQMS_WebApp.styles.css?v=qs5ueYQNnxdPY2nMnSxwZf003j75T8GJr2KVZR7pV-Q - 200 3256 text/css 34.719ms
2024-11-22 17:02:57.965 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\site.css'
2024-11-22 17:02:57.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:02:57.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - null null
2024-11-22 17:02:57.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - null null
2024-11-22 17:02:57.975 +02:00 [INF] Sending file. Request path: '/svgs/ticket.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\ticket.svg'
2024-11-22 17:02:57.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 50.4064ms
2024-11-22 17:02:57.977 +02:00 [INF] Sending file. Request path: '/svgs/four-squares-button-of-view-options.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\four-squares-button-of-view-options.svg'
2024-11-22 17:02:57.978 +02:00 [INF] Sending file. Request path: '/css/QueryDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\QueryDashboard.css'
2024-11-22 17:02:57.981 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 20.7705ms
2024-11-22 17:02:57.984 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\site.js'
2024-11-22 17:02:57.984 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\jquery\dist\jquery.min.js'
2024-11-22 17:02:57.988 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2024-11-22 17:02:57.992 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/site.css?v=jDyI1f6riKj4fnGtZytJN04bKOkAOtSQjUQukzomKFM - 200 998 text/css 62.4896ms
2024-11-22 17:02:57.992 +02:00 [INF] Sending file. Request path: '/js/Sidebar.js'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\js\Sidebar.js'
2024-11-22 17:02:57.994 +02:00 [INF] Sending file. Request path: '/Svgs/logout.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\logout.svg'
2024-11-22 17:02:57.998 +02:00 [INF] Sending file. Request path: '/Svgs/user-id-portrait-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\user-id-portrait-svgrepo-com (1).svg'
2024-11-22 17:02:57.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/ticket.svg - 200 2079 image/svg+xml 42.1548ms
2024-11-22 17:02:57.999 +02:00 [INF] Sending file. Request path: '/svgs/chat-round-svgrepo-com (1).svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\chat-round-svgrepo-com (1).svg'
2024-11-22 17:02:58.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/four-squares-button-of-view-options.svg - 200 5356 image/svg+xml 44.0063ms
2024-11-22 17:02:58.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/QueryDashboard.css?v=bhhXOykA5qx4PU70nt3JAZLZ-t-kAgeXmi7xRNKRPF8 - 200 5518 text/css 43.6619ms
2024-11-22 17:02:58.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/site.js?v=8ZRc1sGeVrPBx4lD717BgRaQekyh78QKV9SKsdt638U - 200 3 text/javascript 42.3243ms
2024-11-22 17:02:58.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 44.9566ms
2024-11-22 17:02:58.006 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 43.7162ms
2024-11-22 17:02:58.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/js/Sidebar.js?v=Qia1IPeDLSkb2Pa5EKSPN8fIRSPsZWHbBAaRE7PuMV0 - 200 1793 text/javascript 46.9984ms
2024-11-22 17:02:58.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/logout.svg - 200 746 image/svg+xml 46.9678ms
2024-11-22 17:02:58.011 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/user-id-portrait-svgrepo-com (1).svg - 200 1495 image/svg+xml 44.1682ms
2024-11-22 17:02:58.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/svgs/chat-round-svgrepo-com (1).svg - 200 906 image/svg+xml 46.4098ms
2024-11-22 17:02:58.017 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.984ms
2024-11-22 17:02:58.049 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - null null
2024-11-22 17:02:58.052 +02:00 [INF] Sending file. Request path: '/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'. Physical path: 'C:\Users\trent\.nuget\packages\microsoft.aspnetcore.components.quickgrid\8.0.8\staticwebassets\Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css'
2024-11-22 17:02:58.053 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_content/Microsoft.AspNetCore.Components.QuickGrid/Microsoft.AspNetCore.Components.QuickGrid.bundle.scp.css - 200 8251 text/css 4.004ms
2024-11-22 17:02:58.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - null null
2024-11-22 17:02:58.082 +02:00 [INF] Sending file. Request path: '/Images/Apptivate_circle _logo.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\Apptivate_circle _logo.png'
2024-11-22 17:02:58.083 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/Apptivate_circle _logo.png - 200 33306 image/png 4.6714ms
2024-11-22 17:06:10.038 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:06:10.127 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:06:10.135 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:06:11.296 +02:00 [INF] Executed DbCommand (297ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:06:11.329 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:06:11.331 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:06:11.333 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1195.7757ms
2024-11-22 17:06:11.334 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:06:11.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 1301.7943ms
2024-11-22 17:06:11.349 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:06:11.356 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:06:11.357 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:06:11.362 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:06:11.363 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.9268ms
2024-11-22 17:06:11.364 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:06:11.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 16.1785ms
2024-11-22 17:06:11.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:06:11.381 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:06:11.383 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:06:11.432 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:06:11.517 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:06:11.595 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:06:11.708 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:06:11.754 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:06:11.762 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:06:11.773 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:06:11.812 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:06:11.849 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 48.1154ms.
2024-11-22 17:06:11.850 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 465.88ms
2024-11-22 17:06:11.851 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:06:11.852 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 480.181ms
2024-11-22 17:06:11.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - null null
2024-11-22 17:06:11.972 +02:00 [INF] Sending file. Request path: '/css/StaffDashboard.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\StaffDashboard.css'
2024-11-22 17:06:11.973 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/StaffDashboard.css?v=39FG6VllF25NW-g56f31gpb2kZvHxrtlVsdZ7NGTp2k - 200 9657 text/css 12.2233ms
2024-11-22 17:06:11.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:06:11.985 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.6401ms
2024-11-22 17:06:12.030 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/profile-pic.png - null null
2024-11-22 17:06:12.030 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Svgs/notification.svg - null null
2024-11-22 17:06:12.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/pending-icon.png - null null
2024-11-22 17:06:12.040 +02:00 [INF] Sending file. Request path: '/Images/profile-pic.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\profile-pic.png'
2024-11-22 17:06:12.042 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/profile-pic.png - 200 1388 image/png 12.3445ms
2024-11-22 17:06:12.045 +02:00 [INF] Sending file. Request path: '/Images/pending-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\pending-icon.png'
2024-11-22 17:06:12.047 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/pending-icon.png - 200 1227 image/png 9.6522ms
2024-11-22 17:06:12.101 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:06:12.106 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:06:12.125 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:06:12.126 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 24.5741ms
2024-11-22 17:06:12.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/resolved.png - null null
2024-11-22 17:06:12.257 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - null null
2024-11-22 17:06:12.266 +02:00 [INF] Sending file. Request path: '/Images/resolved.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\resolved.png'
2024-11-22 17:06:12.268 +02:00 [INF] Sending file. Request path: '/Images/in-progress-icon.png'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Images\in-progress-icon.png'
2024-11-22 17:06:12.272 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/resolved.png - 200 535 image/png 17.4549ms
2024-11-22 17:06:12.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Images/in-progress-icon.png - 200 1053 image/png 16.6856ms
2024-11-22 17:06:12.334 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=EjCnEyuCZSKxWGd1RxhBEQ - null null
2024-11-22 17:06:12.342 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:06:12.755 +02:00 [INF] Sending file. Request path: '/Svgs/notification.svg'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\Svgs\notification.svg'
2024-11-22 17:06:12.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Svgs/notification.svg - 200 1071 image/svg+xml 729.0287ms
2024-11-22 17:06:13.897 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: Ksw-4JfY1W3d4Se5_yW_9A
2024-11-22 17:06:13.899 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: Ksw-4JfY1W3d4Se5_yW_9A
2024-11-22 17:13:41.716 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:13:42.031 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:13:42.032 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:13:42.035 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:13:42.037 +02:00 [INF] Hosting environment: Development
2024-11-22 17:13:42.037 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:13:42.173 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:13:42.397 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:13:42.935 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:13:42.939 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:42.951 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:13:42.952 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:13:42.958 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 786.4373ms
2024-11-22 17:13:42.966 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:13:42.967 +02:00 [ERR] User not logged in.
2024-11-22 17:13:42.972 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=7IfjN_xkmYckcB0Ar2Xojw - null null
2024-11-22 17:13:42.976 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:13:42.982 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-22 17:13:42.986 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 30.272ms
2024-11-22 17:13:42.987 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:42.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 590.7253ms
2024-11-22 17:13:43.001 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: yXc0dzB0DunkOJCnINh6rg
2024-11-22 17:13:43.003 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: yXc0dzB0DunkOJCnINh6rg
2024-11-22 17:13:43.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:13:43.013 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:43.018 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:13:44.474 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:13:45.268 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:13:45.369 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:13:45.372 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:13:45.376 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:13:45.378 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2358.9847ms
2024-11-22 17:13:45.381 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:45.384 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:44ce667c-1ceb-f537-6dd7-872bb73a60e2
2024-11-22 17:13:45.391 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2384.8112ms
2024-11-22 17:13:45.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:13:45.399 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:45.401 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:13:45.405 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:13:45.405 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.2109ms
2024-11-22 17:13:45.407 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:45.408 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 15.1791ms
2024-11-22 17:13:45.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:13:45.418 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:45.419 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:13:45.542 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:13:45.677 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:13:45.753 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:13:45.987 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:13:46.034 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:13:46.050 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:13:46.067 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:13:46.084 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:13:46.561 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 487.5673ms.
2024-11-22 17:13:46.565 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 1144.7098ms
2024-11-22 17:13:46.566 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:46.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 1155.9904ms
2024-11-22 17:13:46.745 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: yXc0dzB0DunkOJCnINh6rg
2024-11-22 17:13:46.751 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: yXc0dzB0DunkOJCnINh6rg
2024-11-22 17:13:46.757 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:13:46.759 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=7IfjN_xkmYckcB0Ar2Xojw - 200 null null 3787.2091ms
2024-11-22 17:13:47.210 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:13:47.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:13:47.224 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 14.3296ms
2024-11-22 17:13:47.285 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.7515ms
2024-11-22 17:13:47.409 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:13:47.414 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:13:47.415 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:13:47.417 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 7.4249ms
2024-11-22 17:13:47.795 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=NYM_kQKhKa27AzjdXdJxAA - null null
2024-11-22 17:13:47.802 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:13:48.194 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: 09RsWw-HJWZos51pqNSdaA
2024-11-22 17:13:48.196 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: 09RsWw-HJWZos51pqNSdaA
2024-11-22 17:13:48.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/favicon.ico - null null
2024-11-22 17:13:48.358 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\favicon.ico'
2024-11-22 17:13:48.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/favicon.ico - 200 5430 image/x-icon 38.8351ms
2024-11-22 17:13:48.757 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 17:13:48.767 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 10.5963ms
2024-11-22 17:13:48.770 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 17:13:50.127 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:13:50.135 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:50.139 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:13:50.144 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 3.6579ms
2024-11-22 17:13:50.148 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:50.188 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Apptivate_UQMS_WebApp.Services.QueryServices.IAssignQueryService' while attempting to activate 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method606(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-22 17:13:50.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 500 null text/html; charset=utf-8 116.0068ms
2024-11-22 17:13:50.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:13:50.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.0013ms
2024-11-22 17:13:52.437 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:13:52.444 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:52.446 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:13:52.521 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:13:52.538 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:13:52.566 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:13:52.620 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:13:52.646 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:13:52.651 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:13:52.655 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:13:52.657 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:13:52.663 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 6.4001ms.
2024-11-22 17:13:52.664 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 216.5042ms
2024-11-22 17:13:52.666 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:52.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 229.5226ms
2024-11-22 17:13:52.697 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:13:52.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1931ms
2024-11-22 17:13:52.830 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:13:52.833 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:13:52.834 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:13:52.835 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 4.3572ms
2024-11-22 17:13:52.856 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=UOrf8WSGaNRm_xwSmYs6HQ - null null
2024-11-22 17:13:52.858 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:13:52.896 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: CZ7WbE-pC5_4CHl9yxW2YA
2024-11-22 17:13:52.898 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: CZ7WbE-pC5_4CHl9yxW2YA
2024-11-22 17:13:56.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:13:56.357 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:56.358 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:13:56.359 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 0.2219ms
2024-11-22 17:13:56.361 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:13:56.362 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Apptivate_UQMS_WebApp.Services.QueryServices.IAssignQueryService' while attempting to activate 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method606(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-22 17:13:56.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 500 null text/html; charset=utf-8 17.4361ms
2024-11-22 17:13:56.375 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: CZ7WbE-pC5_4CHl9yxW2YA
2024-11-22 17:13:56.376 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: CZ7WbE-pC5_4CHl9yxW2YA
2024-11-22 17:13:56.377 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:13:56.378 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=UOrf8WSGaNRm_xwSmYs6HQ - 200 null null 3522.3007ms
2024-11-22 17:13:56.399 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:13:56.401 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:13:56.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.8681ms
2024-11-22 17:13:56.406 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.1741ms
2024-11-22 17:14:16.801 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:14:17.167 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:14:17.168 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:14:17.172 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:14:17.174 +02:00 [INF] Hosting environment: Development
2024-11-22 17:14:17.175 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:14:17.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 17:14:18.880 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:14:19.617 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:14:19.617 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:19.631 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 17:14:19.640 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:14:19.647 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 766.5699ms
2024-11-22 17:14:19.647 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 17:14:19.653 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=k5s9NFK5RYJSUGkRE9xZ5A - null null
2024-11-22 17:14:19.669 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:14:19.695 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: cUqutAstJXrcQ5GMGxf9fA
2024-11-22 17:14:19.696 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: cUqutAstJXrcQ5GMGxf9fA
2024-11-22 17:14:19.733 +02:00 [INF] Executed ViewResult - view Index executed in 90.8143ms.
2024-11-22 17:14:19.737 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 102.7316ms
2024-11-22 17:14:19.739 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:19.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1780.5904ms
2024-11-22 17:14:19.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/LandingPageStyles.css - null null
2024-11-22 17:14:19.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:14:19.773 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:14:19.780 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.6511ms
2024-11-22 17:14:19.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.5034ms
2024-11-22 17:14:19.827 +02:00 [INF] Sending file. Request path: '/css/LandingPageStyles.css'. Physical path: 'C:\Users\trent\source\repos\Apptivate_UQMS\wwwroot\css\LandingPageStyles.css'
2024-11-22 17:14:19.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/LandingPageStyles.css - 200 4899 text/css 58.5992ms
2024-11-22 17:14:19.864 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/background-image.jpg - null null
2024-11-22 17:14:19.879 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/background-image.jpg - 404 0 null 14.5389ms
2024-11-22 17:14:19.882 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/css/background-image.jpg, Response status code: 404
2024-11-22 17:14:24.893 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:14:24.920 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:24.948 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:14:27.895 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:14:29.100 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:14:29.274 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:14:29.277 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:14:29.309 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:14:29.312 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 4361.7927ms
2024-11-22 17:14:29.313 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:29.315 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:4cc9d9db-ce92-d441-0ee7-5ccd84f57c19
2024-11-22 17:14:29.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:14:29.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 4433.7214ms
2024-11-22 17:14:29.355 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:29.361 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:14:29.366 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:14:29.368 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 6.0674ms
2024-11-22 17:14:29.370 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:29.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 45.543ms
2024-11-22 17:14:29.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:14:29.389 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:29.396 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:14:29.581 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:14:29.780 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:14:29.883 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:14:30.238 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:14:30.290 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:14:30.308 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:14:30.332 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:14:30.337 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:14:31.001 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 665.9129ms.
2024-11-22 17:14:31.004 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 1605.9734ms
2024-11-22 17:14:31.012 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:31.018 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 1637.8939ms
2024-11-22 17:14:31.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:14:31.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:14:31.088 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.0744ms
2024-11-22 17:14:31.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.3607ms
2024-11-22 17:14:31.300 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:14:31.308 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:14:31.310 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:14:31.314 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 13.8613ms
2024-11-22 17:14:31.355 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=iVXhXH48Gssb0U1vnMQo0Q - null null
2024-11-22 17:14:31.377 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:14:31.435 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: HZu95zLuIURxqDPoETyGjA
2024-11-22 17:14:31.438 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: HZu95zLuIURxqDPoETyGjA
2024-11-22 17:14:35.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:14:35.704 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:35.706 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:14:35.710 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 2.2507ms
2024-11-22 17:14:35.711 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:14:35.714 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Apptivate_UQMS_WebApp.Services.QueryServices.IAssignQueryService' while attempting to activate 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method647(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-22 17:14:35.762 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 500 null text/html; charset=utf-8 62.409ms
2024-11-22 17:14:35.786 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: HZu95zLuIURxqDPoETyGjA
2024-11-22 17:14:35.787 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: HZu95zLuIURxqDPoETyGjA
2024-11-22 17:14:35.791 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:14:35.792 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:14:35.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:14:35.796 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=iVXhXH48Gssb0U1vnMQo0Q - 200 null null 4440.4167ms
2024-11-22 17:14:35.798 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.5666ms
2024-11-22 17:14:35.800 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.6074ms
2024-11-22 17:15:22.970 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:15:22.980 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:22.982 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:15:23.056 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:15:23.071 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:15:23.089 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:15:23.149 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:15:23.171 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:15:23.175 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:15:23.180 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:15:23.181 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:15:23.185 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 3.8493ms.
2024-11-22 17:15:23.186 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 201.6408ms
2024-11-22 17:15:23.187 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:23.188 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 217.5818ms
2024-11-22 17:15:23.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:15:23.214 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.9795ms
2024-11-22 17:15:23.282 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:15:23.333 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:15:23.335 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:15:23.336 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 53.8074ms
2024-11-22 17:15:23.389 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=eda2OjtBlXIpa2GgL868RQ - null null
2024-11-22 17:15:23.395 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:15:23.424 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: zg2bnDW2WLvhndlFwoxgnw
2024-11-22 17:15:23.425 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: zg2bnDW2WLvhndlFwoxgnw
2024-11-22 17:15:24.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:15:24.806 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:24.807 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:15:24.809 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:15:24.810 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.8127ms
2024-11-22 17:15:24.811 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:24.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 11.4931ms
2024-11-22 17:15:24.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:15:24.818 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:24.819 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:15:24.825 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:15:24.834 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:15:24.854 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:15:24.897 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:15:24.926 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:15:24.932 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:15:24.939 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:15:24.944 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:15:24.949 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 4.874ms.
2024-11-22 17:15:24.951 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 131.8456ms
2024-11-22 17:15:24.953 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:24.954 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 138.8824ms
2024-11-22 17:15:24.955 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: zg2bnDW2WLvhndlFwoxgnw
2024-11-22 17:15:24.957 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: zg2bnDW2WLvhndlFwoxgnw
2024-11-22 17:15:24.958 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:15:24.960 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=eda2OjtBlXIpa2GgL868RQ - 200 null null 1570.6578ms
2024-11-22 17:15:24.973 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:15:24.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:15:24.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.7714ms
2024-11-22 17:15:24.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.2541ms
2024-11-22 17:15:25.016 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:15:25.019 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:15:25.021 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:15:25.022 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 6.7563ms
2024-11-22 17:15:25.037 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=42xE5biu2WPYopzpKCvVew - null null
2024-11-22 17:15:25.040 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:15:25.078 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: fbeqFkLnRpD6wkUvqNWohw
2024-11-22 17:15:25.079 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: fbeqFkLnRpD6wkUvqNWohw
2024-11-22 17:15:34.385 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:15:34.575 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:15:34.581 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:15:34.585 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:15:34.586 +02:00 [INF] Hosting environment: Development
2024-11-22 17:15:34.587 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:15:34.728 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:15:34.728 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:15:35.008 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:15:35.397 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:15:35.397 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:15:35.406 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:35.415 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:15:35.415 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:15:35.421 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 695.0503ms
2024-11-22 17:15:35.421 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 695.1191ms
2024-11-22 17:15:35.426 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=Rh8U67UhduexCdmym4YcbQ - null null
2024-11-22 17:15:35.426 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=clsvn7cmmAcdmCXgSrkPqg - null null
2024-11-22 17:15:35.427 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:15:35.435 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:15:35.437 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:15:35.449 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:15:35.451 +02:00 [ERR] User not logged in.
2024-11-22 17:15:35.464 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: xQQEnO4YkVfQzPIK2KsDKQ
2024-11-22 17:15:35.464 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: pE09Okz3liWNqso7aCNfVw
2024-11-22 17:15:35.466 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: xQQEnO4YkVfQzPIK2KsDKQ
2024-11-22 17:15:35.466 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: pE09Okz3liWNqso7aCNfVw
2024-11-22 17:15:35.471 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-22 17:15:35.479 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 36.1441ms
2024-11-22 17:15:35.480 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:35.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 302 0 null 474.388ms
2024-11-22 17:15:35.487 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:15:35.493 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:35.499 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:15:37.866 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:15:38.538 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:15:38.615 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:15:38.618 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:15:38.621 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:15:38.622 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3121.388ms
2024-11-22 17:15:38.623 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:38.627 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:1fa0da95-c6f2-4e03-5e67-d76189c9975a
2024-11-22 17:15:38.632 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 3145.461ms
2024-11-22 17:15:38.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:15:38.642 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:38.644 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:15:38.647 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:15:38.648 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.3722ms
2024-11-22 17:15:38.649 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:38.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 13.8573ms
2024-11-22 17:15:38.655 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:15:38.661 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:38.661 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:15:38.748 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:15:38.837 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:15:38.918 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:15:39.104 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:15:39.134 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:15:39.145 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:15:39.158 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:15:39.166 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:15:39.255 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 92.7624ms.
2024-11-22 17:15:39.260 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 597.5909ms
2024-11-22 17:15:39.261 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:39.265 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 610.4404ms
2024-11-22 17:15:39.270 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: xQQEnO4YkVfQzPIK2KsDKQ
2024-11-22 17:15:39.273 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: xQQEnO4YkVfQzPIK2KsDKQ
2024-11-22 17:15:39.278 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:15:39.278 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:15:39.279 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:15:39.282 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=Rh8U67UhduexCdmym4YcbQ - 200 null null 3856.4363ms
2024-11-22 17:15:39.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.0868ms
2024-11-22 17:15:39.311 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:15:39.316 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:15:39.318 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:15:39.320 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 8.8161ms
2024-11-22 17:15:39.321 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.0809ms
2024-11-22 17:15:39.342 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=zZHrm4pv-SIOgMFxxvjjgA - null null
2024-11-22 17:15:39.348 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:15:39.435 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: 7H-Tusu0IWJQGel5a3zySg
2024-11-22 17:15:39.437 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: 7H-Tusu0IWJQGel5a3zySg
2024-11-22 17:15:45.449 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:15:45.455 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:45.460 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:15:45.809 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:15:45.815 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:15:45.818 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:15:45.871 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 54.1602ms.
2024-11-22 17:15:45.874 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 411.7679ms
2024-11-22 17:15:45.876 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:15:45.879 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 430.2346ms
2024-11-22 17:15:45.880 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: 7H-Tusu0IWJQGel5a3zySg
2024-11-22 17:15:45.882 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: 7H-Tusu0IWJQGel5a3zySg
2024-11-22 17:15:45.882 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:15:45.883 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=zZHrm4pv-SIOgMFxxvjjgA - 200 null null 6540.5591ms
2024-11-22 17:15:45.894 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:15:45.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.71ms
2024-11-22 17:15:45.899 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:15:45.912 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.2984ms
2024-11-22 17:15:46.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 17:15:46.746 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 9.2388ms
2024-11-22 17:15:46.748 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 17:16:27.013 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:16:27.224 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:16:27.226 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:16:27.230 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:16:27.231 +02:00 [INF] Hosting environment: Development
2024-11-22 17:16:27.232 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:16:27.931 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 17:16:28.513 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:16:28.569 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:28.569 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:16:28.581 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 17:16:28.593 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:16:28.595 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 17:16:28.598 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 84.6791ms
2024-11-22 17:16:28.602 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=K8JSUOwIODqCdQp80Zb4kg - null null
2024-11-22 17:16:28.613 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:16:28.638 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: LJmvuBY_K54yd9oxaP_DuQ
2024-11-22 17:16:28.641 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: LJmvuBY_K54yd9oxaP_DuQ
2024-11-22 17:16:28.672 +02:00 [INF] Executed ViewResult - view Index executed in 80.5509ms.
2024-11-22 17:16:28.676 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 91.61ms
2024-11-22 17:16:28.678 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:28.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 752.0391ms
2024-11-22 17:16:28.705 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:16:28.714 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.6111ms
2024-11-22 17:16:28.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:16:28.758 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.6429ms
2024-11-22 17:16:28.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/background-image.jpg - null null
2024-11-22 17:16:28.782 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/background-image.jpg - 404 0 null 15.3756ms
2024-11-22 17:16:28.786 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/css/background-image.jpg, Response status code: 404
2024-11-22 17:16:30.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:16:30.397 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:30.402 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:16:31.759 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:16:32.286 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:16:32.355 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:16:32.358 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:16:32.371 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:16:32.373 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1969.7395ms
2024-11-22 17:16:32.374 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:32.378 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:2114fbfe-26f6-ae79-624d-1791c3f3b325
2024-11-22 17:16:32.382 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 1992.954ms
2024-11-22 17:16:32.385 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:16:32.398 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:32.400 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:16:32.403 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:16:32.404 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.828ms
2024-11-22 17:16:32.405 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:32.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 20.486ms
2024-11-22 17:16:32.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:16:32.416 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:32.419 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:16:32.500 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:16:32.573 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:16:32.618 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:16:32.775 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:16:32.797 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:16:32.804 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:16:32.814 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:16:32.816 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:16:32.920 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 104.2396ms.
2024-11-22 17:16:32.921 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 499.9779ms
2024-11-22 17:16:32.922 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:32.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 512.0577ms
2024-11-22 17:16:33.202 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:16:33.204 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:16:33.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9165ms
2024-11-22 17:16:33.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4601ms
2024-11-22 17:16:33.367 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:16:33.370 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:16:33.371 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:16:33.372 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 5.1973ms
2024-11-22 17:16:33.401 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=zRAJ8eAneZeVaouw9bsc2Q - null null
2024-11-22 17:16:33.409 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:16:33.459 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: X93cLuR02F7ROP7__t_2pA
2024-11-22 17:16:33.462 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: X93cLuR02F7ROP7__t_2pA
2024-11-22 17:16:34.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:16:34.012 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:34.015 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:16:34.036 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:16:34.040 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:16:34.041 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:16:34.052 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 11.6511ms.
2024-11-22 17:16:34.053 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 37.0201ms
2024-11-22 17:16:34.054 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:16:34.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 49.4363ms
2024-11-22 17:16:34.069 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: X93cLuR02F7ROP7__t_2pA
2024-11-22 17:16:34.071 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: X93cLuR02F7ROP7__t_2pA
2024-11-22 17:16:34.072 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:16:34.077 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.3502ms
2024-11-22 17:16:34.077 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:16:34.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:16:34.080 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=zRAJ8eAneZeVaouw9bsc2Q - 200 null null 678.58ms
2024-11-22 17:16:34.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.5145ms
2024-11-22 17:16:34.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 17:16:34.929 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 6.7213ms
2024-11-22 17:16:34.932 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 17:17:47.897 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:17:48.005 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:17:48.006 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:17:48.009 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:17:48.010 +02:00 [INF] Hosting environment: Development
2024-11-22 17:17:48.010 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:17:48.712 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:17:48.712 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 17:17:49.370 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:17:49.370 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:49.387 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 17:17:49.396 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:17:49.402 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 691.5697ms
2024-11-22 17:17:49.403 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 17:17:49.403 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=-Ivmc-0AvdLnXgkU8LBuZw - null null
2024-11-22 17:17:49.418 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:17:49.446 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: y3Rj8io6WXf3B6yWnUcrZg
2024-11-22 17:17:49.448 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: y3Rj8io6WXf3B6yWnUcrZg
2024-11-22 17:17:49.493 +02:00 [INF] Executed ViewResult - view Index executed in 93.5231ms.
2024-11-22 17:17:49.498 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 108.2358ms
2024-11-22 17:17:49.500 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:49.504 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 793.6391ms
2024-11-22 17:17:49.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:17:49.586 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:17:49.593 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 60.3961ms
2024-11-22 17:17:49.597 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/background-image.jpg - null null
2024-11-22 17:17:49.610 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/background-image.jpg - 404 0 null 12.3002ms
2024-11-22 17:17:49.613 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/css/background-image.jpg, Response status code: 404
2024-11-22 17:17:49.640 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.2565ms
2024-11-22 17:17:52.105 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:17:52.114 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:52.121 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:17:53.471 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:17:54.015 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:17:54.084 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:17:54.086 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:17:54.099 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:17:54.101 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 1978.253ms
2024-11-22 17:17:54.106 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:54.110 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:3f4aac82-a67a-d79d-ac6c-a678ff34329f
2024-11-22 17:17:54.114 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2009.3615ms
2024-11-22 17:17:54.115 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:17:54.128 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:54.130 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:17:54.132 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:17:54.133 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 1.9682ms
2024-11-22 17:17:54.134 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:54.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 19.4386ms
2024-11-22 17:17:54.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:17:54.145 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:54.149 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:17:54.231 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:17:54.313 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:17:54.756 +02:00 [INF] Executed DbCommand (413ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:17:54.931 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:17:54.956 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:17:54.966 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:17:54.976 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:17:54.979 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:17:55.027 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 49.1762ms.
2024-11-22 17:17:55.030 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 880.0153ms
2024-11-22 17:17:55.031 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:55.033 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 893.3163ms
2024-11-22 17:17:55.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:17:55.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.9861ms
2024-11-22 17:17:55.067 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:17:55.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.772ms
2024-11-22 17:17:55.206 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:17:55.209 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:17:55.210 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:17:55.211 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 4.4385ms
2024-11-22 17:17:55.229 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=YgdC3NlT1TPPrJjS5dY_Pw - null null
2024-11-22 17:17:55.232 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:17:55.277 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: xxvvMSdLDLeSbxq5oB97Lg
2024-11-22 17:17:55.279 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: xxvvMSdLDLeSbxq5oB97Lg
2024-11-22 17:17:56.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:17:56.419 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:56.423 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:17:56.452 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:17:56.455 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:17:56.459 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:17:56.473 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 15.0721ms.
2024-11-22 17:17:56.476 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 51.2844ms
2024-11-22 17:17:56.477 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:17:56.478 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 64.7428ms
2024-11-22 17:17:56.499 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: xxvvMSdLDLeSbxq5oB97Lg
2024-11-22 17:17:56.500 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: xxvvMSdLDLeSbxq5oB97Lg
2024-11-22 17:17:56.507 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:17:56.509 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:17:56.509 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=YgdC3NlT1TPPrJjS5dY_Pw - 200 null null 1280.0788ms
2024-11-22 17:17:56.510 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:17:56.512 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.1009ms
2024-11-22 17:17:56.554 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.894ms
2024-11-22 17:17:57.399 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 17:17:57.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 8.1673ms
2024-11-22 17:17:57.410 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 17:18:14.408 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:18:14.558 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:18:14.560 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:18:14.563 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:18:14.564 +02:00 [INF] Hosting environment: Development
2024-11-22 17:18:14.565 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:18:15.136 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 17:18:15.525 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:18:15.703 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:15.703 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:18:15.722 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 17:18:15.722 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:18:15.730 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 204.9255ms
2024-11-22 17:18:15.732 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=7OHH99Ainv97rNtTI5nqfA - null null
2024-11-22 17:18:15.735 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 17:18:15.744 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:18:15.769 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: CLiFCUsDt81oH8jdh61N8g
2024-11-22 17:18:15.772 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: CLiFCUsDt81oH8jdh61N8g
2024-11-22 17:18:15.811 +02:00 [INF] Executed ViewResult - view Index executed in 78.5409ms.
2024-11-22 17:18:15.817 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 93.0127ms
2024-11-22 17:18:15.819 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:15.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 688.8274ms
2024-11-22 17:18:15.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:18:15.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:18:15.852 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.1591ms
2024-11-22 17:18:15.887 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/background-image.jpg - null null
2024-11-22 17:18:15.895 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.8019ms
2024-11-22 17:18:15.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/background-image.jpg - 404 0 null 20.9767ms
2024-11-22 17:18:15.912 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/css/background-image.jpg, Response status code: 404
2024-11-22 17:18:17.942 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:18:17.951 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:17.971 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:18:19.449 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:18:20.202 +02:00 [INF] Executed DbCommand (195ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:18:20.306 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:18:20.308 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:18:20.320 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:18:20.322 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2349.2598ms
2024-11-22 17:18:20.324 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:20.328 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:f2d419e6-785d-d232-6320-4e77f43fb94e
2024-11-22 17:18:20.333 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2391.6518ms
2024-11-22 17:18:20.336 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:18:20.348 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:20.350 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:18:20.352 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:18:20.353 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.1562ms
2024-11-22 17:18:20.354 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:20.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 19.3891ms
2024-11-22 17:18:20.360 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:18:20.366 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:20.369 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:18:20.462 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:18:20.559 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:18:20.639 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:18:20.837 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:18:20.864 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:18:20.874 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:18:20.886 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:18:20.891 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:18:20.943 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 53.0591ms.
2024-11-22 17:18:20.945 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 574.6609ms
2024-11-22 17:18:20.946 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:20.947 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 587.0387ms
2024-11-22 17:18:20.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:18:20.995 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:18:21.002 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.3359ms
2024-11-22 17:18:21.017 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.3674ms
2024-11-22 17:18:21.121 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:18:21.124 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:18:21.125 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:18:21.126 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 5.4918ms
2024-11-22 17:18:21.151 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=sH0IFOj9UUbDmMz9doa6CQ - null null
2024-11-22 17:18:21.153 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:18:21.191 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: rnztFI3dU7kFFcDer1vQJQ
2024-11-22 17:18:21.194 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: rnztFI3dU7kFFcDer1vQJQ
2024-11-22 17:18:28.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:18:28.307 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:28.310 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:18:28.327 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:18:28.331 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:18:28.333 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:18:28.345 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 13.1483ms.
2024-11-22 17:18:28.347 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 35.3801ms
2024-11-22 17:18:28.348 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:18:28.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 49.3811ms
2024-11-22 17:18:28.359 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: rnztFI3dU7kFFcDer1vQJQ
2024-11-22 17:18:28.360 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: rnztFI3dU7kFFcDer1vQJQ
2024-11-22 17:18:28.365 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:18:28.366 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=sH0IFOj9UUbDmMz9doa6CQ - 200 null null 7215.288ms
2024-11-22 17:18:28.368 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:18:28.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2606ms
2024-11-22 17:18:28.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:18:28.383 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.9795ms
2024-11-22 17:18:29.086 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 17:18:29.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 6.9019ms
2024-11-22 17:18:29.097 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 17:19:07.482 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:19:07.787 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:19:07.788 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:19:07.791 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:19:07.792 +02:00 [INF] Hosting environment: Development
2024-11-22 17:19:07.793 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:19:08.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 17:19:08.523 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:19:10.210 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:10.210 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:19:10.225 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 17:19:10.234 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:19:10.241 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 17:19:10.242 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 1718.7529ms
2024-11-22 17:19:10.243 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=kR1YTnFdmsp2vF1aRUCDSg - null null
2024-11-22 17:19:10.256 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:19:10.281 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: 3pB9LXtQFoLBOzJGLXip8A
2024-11-22 17:19:10.282 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: 3pB9LXtQFoLBOzJGLXip8A
2024-11-22 17:19:10.323 +02:00 [INF] Executed ViewResult - view Index executed in 87.5774ms.
2024-11-22 17:19:10.327 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 99.2647ms
2024-11-22 17:19:10.329 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:10.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 1998.2572ms
2024-11-22 17:19:10.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:19:10.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.5792ms
2024-11-22 17:19:10.381 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:19:10.406 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/background-image.jpg - null null
2024-11-22 17:19:10.420 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/background-image.jpg - 404 0 null 14.0474ms
2024-11-22 17:19:10.425 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.2065ms
2024-11-22 17:19:10.434 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/css/background-image.jpg, Response status code: 404
2024-11-22 17:19:14.028 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:19:14.037 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:14.049 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:19:16.080 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:19:16.982 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:19:17.088 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:19:17.090 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:19:17.110 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:19:17.111 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3059.9752ms
2024-11-22 17:19:17.113 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:17.117 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:47b7fe71-0e64-cffa-c8fe-f4631301acb2
2024-11-22 17:19:17.124 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 3096.503ms
2024-11-22 17:19:17.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:19:17.139 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:17.142 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:19:17.145 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:19:17.147 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 3.1548ms
2024-11-22 17:19:17.148 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:17.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 23.3352ms
2024-11-22 17:19:17.153 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:19:17.160 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:17.164 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:19:17.304 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:19:17.410 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:19:17.477 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:19:17.714 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:19:17.751 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:19:17.765 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:19:17.781 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:19:17.786 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:19:17.899 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 114.9949ms.
2024-11-22 17:19:17.901 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 735.6436ms
2024-11-22 17:19:17.903 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:17.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 751.5478ms
2024-11-22 17:19:17.931 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:19:17.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.7029ms
2024-11-22 17:19:17.942 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:19:17.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.6328ms
2024-11-22 17:19:18.071 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:19:18.079 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:19:18.080 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:19:18.081 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 9.8637ms
2024-11-22 17:19:18.107 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=NPdD74lbZEYEFGvsfS33gQ - null null
2024-11-22 17:19:18.110 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:19:18.159 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: PXLZlUF3fbtz_oU6ho8D9A
2024-11-22 17:19:18.162 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: PXLZlUF3fbtz_oU6ho8D9A
2024-11-22 17:19:19.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:19:19.311 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:19.316 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:19:19.366 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:19:19.373 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:19:19.386 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:19:19.414 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 29.5169ms.
2024-11-22 17:19:19.417 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 95.5785ms
2024-11-22 17:19:19.430 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:19.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 179.2839ms
2024-11-22 17:19:19.461 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: PXLZlUF3fbtz_oU6ho8D9A
2024-11-22 17:19:19.471 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: PXLZlUF3fbtz_oU6ho8D9A
2024-11-22 17:19:19.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:19:19.462 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:19:19.482 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:19:19.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 31.1619ms
2024-11-22 17:19:19.494 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=NPdD74lbZEYEFGvsfS33gQ - 200 null null 1386.8915ms
2024-11-22 17:19:19.509 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.3184ms
2024-11-22 17:19:20.173 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Staff/AssignQuery - null null
2024-11-22 17:19:20.196 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Staff/AssignQuery - 404 0 null 23.2128ms
2024-11-22 17:19:20.198 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/Staff/AssignQuery, Response status code: 404
2024-11-22 17:19:54.379 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:19:55.355 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:19:55.359 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:19:55.363 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:19:55.365 +02:00 [INF] Hosting environment: Development
2024-11-22 17:19:55.366 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:19:55.639 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:19:56.364 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 17:19:56.844 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:19:56.844 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:56.863 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 17:19:56.867 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:19:56.879 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 17:19:56.879 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 1243.7775ms
2024-11-22 17:19:56.883 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=Qx1whqKNAvHu9Hq97V54AA - null null
2024-11-22 17:19:56.898 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:19:56.929 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: Pt_8FB7l_ueSHmplhuUovg
2024-11-22 17:19:56.930 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: Pt_8FB7l_ueSHmplhuUovg
2024-11-22 17:19:56.985 +02:00 [INF] Executed ViewResult - view Index executed in 109.6118ms.
2024-11-22 17:19:56.999 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 132.946ms
2024-11-22 17:19:57.001 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:19:57.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 659.1709ms
2024-11-22 17:19:57.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:19:57.032 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:19:57.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 22.9145ms
2024-11-22 17:19:57.080 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/css/background-image.jpg - null null
2024-11-22 17:19:57.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.1226ms
2024-11-22 17:19:57.134 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/css/background-image.jpg - 404 0 null 54.0746ms
2024-11-22 17:19:57.198 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7061/css/background-image.jpg, Response status code: 404
2024-11-22 17:20:48.162 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:20:48.303 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:20:48.304 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:20:48.307 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:20:48.308 +02:00 [INF] Hosting environment: Development
2024-11-22 17:20:48.308 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:20:48.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/ - null null
2024-11-22 17:20:49.145 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:49.156 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.HomeController (Apptivate_UQMS_WebApp).
2024-11-22 17:20:49.163 +02:00 [INF] Executing ViewResult, running view Index.
2024-11-22 17:20:49.210 +02:00 [INF] Executed ViewResult - view Index executed in 48.5189ms.
2024-11-22 17:20:49.216 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp) in 58.2271ms
2024-11-22 17:20:49.219 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.HomeController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:49.227 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/ - 200 null text/html; charset=utf-8 560.2959ms
2024-11-22 17:20:49.265 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:20:49.265 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:20:49.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 8.6389ms
2024-11-22 17:20:49.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.6837ms
2024-11-22 17:20:49.533 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:20:49.548 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:20:49.554 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:20:49.555 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 22.1254ms
2024-11-22 17:20:49.561 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=-_HsBBT_lshncQxrPeYh4Q - null null
2024-11-22 17:20:49.567 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:20:49.591 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: HWNYyTJFF87PC_8nGiZujw
2024-11-22 17:20:49.593 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: HWNYyTJFF87PC_8nGiZujw
2024-11-22 17:20:49.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:20:49.964 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:49.968 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:20:51.451 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:20:52.077 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:20:52.145 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:20:52.147 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:20:52.160 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:20:52.161 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2190.9802ms
2024-11-22 17:20:52.162 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:52.164 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:4b83eef7-0e52-72bb-4fb5-46b4d5dfe3b9
2024-11-22 17:20:52.169 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2210.468ms
2024-11-22 17:20:52.171 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:20:52.180 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:52.182 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:20:52.184 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:20:52.185 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.045ms
2024-11-22 17:20:52.186 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:52.187 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 16.5617ms
2024-11-22 17:20:52.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:20:52.196 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:52.200 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:20:52.276 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:20:52.352 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:20:52.454 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:20:52.607 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:20:52.631 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:20:52.643 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:20:52.654 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:20:52.658 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:20:52.712 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 55.6375ms.
2024-11-22 17:20:52.714 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 513.0865ms
2024-11-22 17:20:52.715 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:52.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 524.9569ms
2024-11-22 17:20:52.746 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:20:52.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3773ms
2024-11-22 17:20:52.754 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:20:52.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.564ms
2024-11-22 17:20:52.916 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:20:52.919 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:20:52.921 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:20:52.921 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 4.9678ms
2024-11-22 17:20:52.951 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=gryQT_8jGR6F5oiDtzKmxA - null null
2024-11-22 17:20:52.956 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:20:52.997 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: BzBiYEScqt3RR1SofDmpyA
2024-11-22 17:20:52.999 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: BzBiYEScqt3RR1SofDmpyA
2024-11-22 17:20:54.736 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:20:54.741 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:54.743 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:20:54.761 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:20:54.764 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:20:54.765 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:20:54.773 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 8.8899ms.
2024-11-22 17:20:54.775 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 30.3342ms
2024-11-22 17:20:54.775 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:54.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 40.7693ms
2024-11-22 17:20:54.794 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: BzBiYEScqt3RR1SofDmpyA
2024-11-22 17:20:54.795 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: BzBiYEScqt3RR1SofDmpyA
2024-11-22 17:20:54.800 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:20:54.801 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=gryQT_8jGR6F5oiDtzKmxA - 200 null null 1850.3239ms
2024-11-22 17:20:54.808 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:20:54.808 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:20:54.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.229ms
2024-11-22 17:20:54.818 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.6706ms
2024-11-22 17:20:55.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - null null
2024-11-22 17:20:55.438 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:55.441 +02:00 [INF] Route matched with {action = "AssignQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignQuery() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:20:55.444 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:20:55.447 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:20:55.513 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-22 17:20:55.553 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__currentUserId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [u].[Name] + N' ' + [u].[Surname] AS [StaffName], [p].[PositionName] AS [Position], [s].[Department]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] <> @__currentUserId_0
2024-11-22 17:20:55.558 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/AssignQuery.cshtml.
2024-11-22 17:20:55.564 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/AssignQuery.cshtml executed in 7.0654ms.
2024-11-22 17:20:55.565 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp) in 122.4213ms
2024-11-22 17:20:55.566 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:20:55.567 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - 200 null text/html; charset=utf-8 134.7778ms
2024-11-22 17:20:55.621 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:20:55.621 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:20:55.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.5444ms
2024-11-22 17:20:55.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.8948ms
2024-11-22 17:21:10.158 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/AssignToStaff - application/x-www-form-urlencoded 9
2024-11-22 17:21:10.168 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/AssignToStaff - 404 0 null 9.5647ms
2024-11-22 17:21:10.172 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7061/Query/AssignToStaff, Response status code: 404
2024-11-22 17:21:11.547 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - null null
2024-11-22 17:21:11.556 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:21:11.557 +02:00 [INF] Route matched with {action = "AssignQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignQuery() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:21:11.563 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:21:11.568 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:21:11.577 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUserId_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-22 17:21:11.614 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__currentUserId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [u].[Name] + N' ' + [u].[Surname] AS [StaffName], [p].[PositionName] AS [Position], [s].[Department]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] <> @__currentUserId_0
2024-11-22 17:21:11.616 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/AssignQuery.cshtml.
2024-11-22 17:21:11.618 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/AssignQuery.cshtml executed in 1.8656ms.
2024-11-22 17:21:11.619 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp) in 60.348ms
2024-11-22 17:21:11.620 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:21:11.622 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - 200 null text/html; charset=utf-8 74.7256ms
2024-11-22 17:21:11.708 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:21:11.714 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.7621ms
2024-11-22 17:23:36.321 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: HWNYyTJFF87PC_8nGiZujw
2024-11-22 17:23:36.413 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: HWNYyTJFF87PC_8nGiZujw
2024-11-22 17:23:36.429 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:23:36.449 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=-_HsBBT_lshncQxrPeYh4Q - 200 null null 166884.9454ms
2024-11-22 17:31:03.025 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:31:03.201 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:31:03.202 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:31:03.205 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:31:03.206 +02:00 [INF] Hosting environment: Development
2024-11-22 17:31:03.206 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:31:03.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - null null
2024-11-22 17:31:04.679 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:04.690 +02:00 [INF] Route matched with {action = "AssignQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignQuery() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:31:04.707 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:31:04.710 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:31:04.713 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:31:04.714 +02:00 [ERR] User not logged in.
2024-11-22 17:31:04.723 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-22 17:31:04.727 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp) in 32.9338ms
2024-11-22 17:31:04.730 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:04.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - 302 0 null 910.5756ms
2024-11-22 17:31:04.748 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:31:04.761 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:04.765 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:31:06.245 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:31:06.863 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:31:06.950 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:31:06.952 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:31:06.955 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:31:06.957 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2191.0915ms
2024-11-22 17:31:06.958 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:06.962 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:cd3fdbc3-441e-ceb9-0f85-f7efdcad6a82
2024-11-22 17:31:06.969 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2220.8309ms
2024-11-22 17:31:06.971 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:31:06.980 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:06.982 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:31:06.985 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:31:06.986 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.4663ms
2024-11-22 17:31:06.987 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:06.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 16.5565ms
2024-11-22 17:31:06.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:31:06.997 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:07.001 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:31:07.114 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:31:07.249 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:31:07.331 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:31:07.477 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:31:07.500 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:31:07.510 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:31:07.522 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:31:07.531 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:31:07.646 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 118.7588ms.
2024-11-22 17:31:07.648 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 645.8282ms
2024-11-22 17:31:07.649 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:07.651 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 658.2142ms
2024-11-22 17:31:07.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:31:07.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:31:07.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 11.0394ms
2024-11-22 17:31:08.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.5736ms
2024-11-22 17:31:08.245 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:31:08.250 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:31:08.262 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:31:08.263 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 18.328ms
2024-11-22 17:31:08.307 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=kEepTcPBbC4JzjWyxrExJw - null null
2024-11-22 17:31:08.311 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:31:08.437 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: 67Ae2xLL44tkey09u2AYkQ
2024-11-22 17:31:08.439 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: 67Ae2xLL44tkey09u2AYkQ
2024-11-22 17:31:08.796 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:31:08.807 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:08.812 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:31:08.817 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:31:08.821 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:31:08.828 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:31:08.852 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 28.6973ms.
2024-11-22 17:31:08.853 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 39.5121ms
2024-11-22 17:31:08.854 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:08.855 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 59.122ms
2024-11-22 17:31:08.883 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: 67Ae2xLL44tkey09u2AYkQ
2024-11-22 17:31:08.884 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: 67Ae2xLL44tkey09u2AYkQ
2024-11-22 17:31:08.895 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:31:08.898 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=kEepTcPBbC4JzjWyxrExJw - 200 null null 590.3756ms
2024-11-22 17:31:08.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:31:08.914 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:31:08.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.5083ms
2024-11-22 17:31:08.933 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.8179ms
2024-11-22 17:31:10.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - null null
2024-11-22 17:31:10.105 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:10.106 +02:00 [INF] Route matched with {action = "AssignQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignQuery() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:31:10.112 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:31:10.117 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:31:10.191 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-22 17:31:10.225 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__currentUserId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [u].[Name] + N' ' + [u].[Surname] AS [StaffName], [p].[PositionName] AS [Position], [s].[Department]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] <> @__currentUserId_0
2024-11-22 17:31:10.230 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/AssignQuery.cshtml.
2024-11-22 17:31:10.237 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/AssignQuery.cshtml executed in 7.744ms.
2024-11-22 17:31:10.239 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp) in 130.8457ms
2024-11-22 17:31:10.240 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:31:10.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - 200 null text/html; charset=utf-8 143.5139ms
2024-11-22 17:31:10.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:31:10.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:31:10.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.6686ms
2024-11-22 17:31:10.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.3975ms
2024-11-22 17:33:04.588 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:33:04.934 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:33:04.936 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:33:04.941 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:33:04.942 +02:00 [INF] Hosting environment: Development
2024-11-22 17:33:04.944 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:33:05.404 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - null null
2024-11-22 17:33:06.535 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:06.559 +02:00 [INF] Route matched with {action = "AssignQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignQuery() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:33:06.597 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:33:06.604 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:33:06.611 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:33:06.612 +02:00 [ERR] User not logged in.
2024-11-22 17:33:06.646 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-22 17:33:06.657 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp) in 88.8819ms
2024-11-22 17:33:06.664 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:06.674 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - 302 0 null 1271.5765ms
2024-11-22 17:33:06.704 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:33:06.729 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:06.736 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:33:08.229 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:33:08.853 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:33:08.920 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:33:08.923 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:33:08.928 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:33:08.931 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 2193.0939ms
2024-11-22 17:33:08.934 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:08.938 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:41d4720b-ff3c-0abc-e34f-30e8a8f88654
2024-11-22 17:33:08.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 2239.9316ms
2024-11-22 17:33:08.945 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:33:08.952 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:08.953 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:33:08.957 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:33:08.958 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.6304ms
2024-11-22 17:33:08.958 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:08.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 13.634ms
2024-11-22 17:33:08.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:33:08.966 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:08.969 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:33:09.081 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:33:09.203 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:33:09.554 +02:00 [INF] Executed DbCommand (319ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:33:09.753 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:33:09.779 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:33:09.788 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:33:09.798 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:33:09.809 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:33:09.921 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 118.4343ms.
2024-11-22 17:33:09.925 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 953.8313ms
2024-11-22 17:33:09.926 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:09.929 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 965.6808ms
2024-11-22 17:33:10.073 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:33:10.074 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:33:10.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.3614ms
2024-11-22 17:33:10.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.5716ms
2024-11-22 17:33:10.198 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:33:10.203 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:33:10.211 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:33:10.213 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 14.7539ms
2024-11-22 17:33:10.254 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=Z3OE9GmYsuc0oCfmLsXl-g - null null
2024-11-22 17:33:10.259 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:33:10.380 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: E9RaEPuiNj6f41i9H98vcA
2024-11-22 17:33:10.383 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: E9RaEPuiNj6f41i9H98vcA
2024-11-22 17:33:11.780 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - null null
2024-11-22 17:33:11.792 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:11.798 +02:00 [INF] Route matched with {action = "TicketDashboard", controller = "StaffQuery"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TicketDashboard() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:33:11.804 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:33:11.809 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:33:11.813 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/TicketDashboard.cshtml.
2024-11-22 17:33:11.841 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/TicketDashboard.cshtml executed in 30.598ms.
2024-11-22 17:33:11.843 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp) in 43.4373ms
2024-11-22 17:33:11.845 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.TicketDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:11.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/TicketDashboard - 200 null text/html; charset=utf-8 66.7007ms
2024-11-22 17:33:11.869 +02:00 [INF] Staff member with ID 1 is disconnecting. Connection ID: E9RaEPuiNj6f41i9H98vcA
2024-11-22 17:33:11.871 +02:00 [INF] Staff member with ID 1 removed from group and connection removed. Connection ID: E9RaEPuiNj6f41i9H98vcA
2024-11-22 17:33:11.879 +02:00 [INF] Executed endpoint '/notificationHub'
2024-11-22 17:33:11.880 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=Z3OE9GmYsuc0oCfmLsXl-g - 200 null null 1625.9649ms
2024-11-22 17:33:12.017 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:33:12.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:33:12.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.6308ms
2024-11-22 17:33:12.043 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.9305ms
2024-11-22 17:33:12.826 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - null null
2024-11-22 17:33:12.837 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:12.840 +02:00 [INF] Route matched with {action = "AssignQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignQuery() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:33:12.850 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:33:12.861 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:33:13.046 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__firebaseUserId_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-22 17:33:13.132 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__currentUserId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [s].[UserID] = @__currentUserId_0
2024-11-22 17:33:13.261 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__currentUserDepartment_0='School of Information Technology' (Size = 4000), @__currentUserId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [u].[Name] + N' ' + [u].[Surname] AS [StaffName], [p].[PositionName] AS [Position], [s].[Department]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__currentUserDepartment_0 AND [s].[UserID] <> @__currentUserId_1
2024-11-22 17:33:13.269 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/AssignQuery.cshtml.
2024-11-22 17:33:13.286 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/AssignQuery.cshtml executed in 18.469ms.
2024-11-22 17:33:13.288 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp) in 444.6519ms
2024-11-22 17:33:13.291 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:13.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - 200 null text/html; charset=utf-8 469.6406ms
2024-11-22 17:33:13.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:33:13.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:33:13.353 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 10.6726ms
2024-11-22 17:33:13.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.4414ms
2024-11-22 17:33:16.181 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/Query/AssignToStaff - application/x-www-form-urlencoded 9
2024-11-22 17:33:16.195 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/Query/AssignToStaff - 404 0 null 13.4099ms
2024-11-22 17:33:16.197 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7061/Query/AssignToStaff, Response status code: 404
2024-11-22 17:33:17.057 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - null null
2024-11-22 17:33:17.062 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:17.063 +02:00 [INF] Route matched with {action = "AssignQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignQuery() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:33:17.067 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:33:17.071 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:33:17.083 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__firebaseUserId_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUserId_0
2024-11-22 17:33:17.091 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
WHERE [s].[UserID] = @__currentUserId_0
2024-11-22 17:33:17.107 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__currentUserDepartment_0='School of Information Technology' (Size = 4000), @__currentUserId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [u].[Name] + N' ' + [u].[Surname] AS [StaffName], [p].[PositionName] AS [Position], [s].[Department]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[Department] = @__currentUserDepartment_0 AND [s].[UserID] <> @__currentUserId_1
2024-11-22 17:33:17.110 +02:00 [INF] Executing ViewResult, running view ~/Views/Query/StaffQuery/AssignQuery.cshtml.
2024-11-22 17:33:17.113 +02:00 [INF] Executed ViewResult - view ~/Views/Query/StaffQuery/AssignQuery.cshtml executed in 3.475ms.
2024-11-22 17:33:17.115 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp) in 50.4158ms
2024-11-22 17:33:17.116 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:33:17.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - 200 null text/html; charset=utf-8 59.4265ms
2024-11-22 17:33:17.441 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:33:17.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3159ms
2024-11-22 17:38:11.929 +02:00 [INF] User profile is available. Using 'C:\Users\trent\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-22 17:38:12.255 +02:00 [INF] Now listening on: https://localhost:7061
2024-11-22 17:38:12.257 +02:00 [INF] Now listening on: http://localhost:5042
2024-11-22 17:38:12.261 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-22 17:38:12.263 +02:00 [INF] Hosting environment: Development
2024-11-22 17:38:12.264 +02:00 [INF] Content root path: C:\Users\trent\source\repos\Apptivate_UQMS
2024-11-22 17:38:13.005 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - null null
2024-11-22 17:38:14.301 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:38:14.334 +02:00 [INF] Route matched with {action = "AssignQuery", controller = "StaffQuery"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignQuery() on controller Apptivate_UQMS_WebApp.Controllers.StaffQueryController (Apptivate_UQMS_WebApp).
2024-11-22 17:38:14.381 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:38:14.387 +02:00 [INF] Successfully initialized Google Cloud Storage client.
2024-11-22 17:38:14.394 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:38:14.395 +02:00 [ERR] User not logged in.
2024-11-22 17:38:14.417 +02:00 [INF] Executing RedirectResult, redirecting to /Account/Login.
2024-11-22 17:38:14.423 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp) in 75.9808ms
2024-11-22 17:38:14.429 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.StaffQueryController.AssignQuery (Apptivate_UQMS_WebApp)'
2024-11-22 17:38:14.437 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/StaffQuery/AssignQuery - 302 0 null 1433.7721ms
2024-11-22 17:38:14.467 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Account/Login - null null
2024-11-22 17:38:14.500 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:38:14.508 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login() on controller Apptivate_UQMS_WebApp.Controllers.AccountController (Apptivate_UQMS_WebApp).
2024-11-22 17:38:16.640 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-22 17:38:18.208 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__firebaseUser_Uid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUser_Uid_0
2024-11-22 17:38:18.324 +02:00 [INF] Accessing expired session, Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa
2024-11-22 17:38:18.326 +02:00 [INF] Auto-login successful for user Daniel@gmail.com.
2024-11-22 17:38:18.330 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard.
2024-11-22 17:38:18.331 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp) in 3821.7396ms
2024-11-22 17:38:18.333 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.AccountController.Login (Apptivate_UQMS_WebApp)'
2024-11-22 17:38:18.342 +02:00 [INF] Session started; Key:98fe3cdb-77b3-bfc4-c6b8-277193dd97aa, Id:972702ce-27c0-6bf4-23f5-666f2329aa40
2024-11-22 17:38:18.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Account/Login - 302 0 null 3880.7843ms
2024-11-22 17:38:18.354 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard - null null
2024-11-22 17:38:18.366 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:38:18.370 +02:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:38:18.372 +02:00 [INF] Executing RedirectResult, redirecting to /Dashboard/StaffDashboard.
2024-11-22 17:38:18.373 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp) in 2.0562ms
2024-11-22 17:38:18.374 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.Index (Apptivate_UQMS_WebApp)'
2024-11-22 17:38:18.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard - 302 0 null 21.1342ms
2024-11-22 17:38:18.381 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - null null
2024-11-22 17:38:18.388 +02:00 [INF] Executing endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:38:18.392 +02:00 [INF] Route matched with {action = "StaffDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StaffDashboard() on controller Apptivate_UQMS_WebApp.Controllers.DashboardController (Apptivate_UQMS_WebApp).
2024-11-22 17:38:18.569 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:38:18.811 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Status], COUNT(*) AS [Count]
FROM [Queries] AS [q]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q0]
    WHERE [q].[QueryID] = [q0].[QueryID] AND [q0].[StaffID] = @__staff_StaffID_0)
GROUP BY [q].[Status]
2024-11-22 17:38:18.954 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staff_StaffID_0='1' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[AssignmentID], [q].[AssignedDate], [q].[AssignmentNumber], [q].[QueryID], [q].[ResolutionDate], [q].[StaffID], [q0].[QueryID], [q0].[CategoryID], [q0].[CourseID], [q0].[DepartmentID], [q0].[Description], [q0].[ModuleID], [q0].[QueryTypeID], [q0].[ResolvedDate], [q0].[Status], [q0].[StudentID], [q0].[SubmissionDate], [q0].[TicketNumber], [q0].[Year], [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [q1].[CategoryID], [q1].[CategoryName], [q1].[QueryTypeID], [q2].[QueryTypeID], [q2].[TypeName], [d].[DepartmentID], [d].[DepartmentName]
FROM [QueryAssignments] AS [q]
LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
LEFT JOIN [StudentDetails] AS [s] ON [q0].[StudentID] = [s].[StudentID]
LEFT JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [QueryCategories] AS [q1] ON [q0].[CategoryID] = [q1].[CategoryID]
LEFT JOIN [QueryTypes] AS [q2] ON [q1].[QueryTypeID] = [q2].[QueryTypeID]
LEFT JOIN [Departments] AS [d] ON [q0].[DepartmentID] = [d].[DepartmentID]
WHERE [q].[StaffID] = @__staff_StaffID_0
2024-11-22 17:38:19.351 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname], [p].[PositionID], [p].[PositionName], [t].[AssignmentID], [t].[AssignedDate], [t].[AssignmentNumber], [t].[QueryID], [t].[ResolutionDate], [t].[StaffID], [t].[QueryID0], [t].[CategoryID], [t].[CourseID], [t].[DepartmentID], [t].[Description], [t].[ModuleID], [t].[QueryTypeID], [t].[ResolvedDate], [t].[Status], [t].[StudentID], [t].[SubmissionDate], [t].[TicketNumber], [t].[Year], [t].[CategoryID0], [t].[CategoryName], [t].[QueryTypeID0], [t].[QueryTypeID1], [t].[TypeName]
FROM [StaffDetails] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserID] = [u].[UserID]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
LEFT JOIN (
    SELECT [q1].[AssignmentID], [q1].[AssignedDate], [q1].[AssignmentNumber], [q1].[QueryID], [q1].[ResolutionDate], [q1].[StaffID], [q2].[QueryID] AS [QueryID0], [q2].[CategoryID], [q2].[CourseID], [q2].[DepartmentID], [q2].[Description], [q2].[ModuleID], [q2].[QueryTypeID], [q2].[ResolvedDate], [q2].[Status], [q2].[StudentID], [q2].[SubmissionDate], [q2].[TicketNumber], [q2].[Year], [q3].[CategoryID] AS [CategoryID0], [q3].[CategoryName], [q3].[QueryTypeID] AS [QueryTypeID0], [q4].[QueryTypeID] AS [QueryTypeID1], [q4].[TypeName]
    FROM [QueryAssignments] AS [q1]
    LEFT JOIN [Queries] AS [q2] ON [q1].[QueryID] = [q2].[QueryID]
    LEFT JOIN [QueryCategories] AS [q3] ON [q2].[CategoryID] = [q3].[CategoryID]
    LEFT JOIN [QueryTypes] AS [q4] ON [q3].[QueryTypeID] = [q4].[QueryTypeID]
) AS [t] ON [s].[StaffID] = [t].[StaffID]
WHERE EXISTS (
    SELECT 1
    FROM [QueryAssignments] AS [q]
    LEFT JOIN [Queries] AS [q0] ON [q].[QueryID] = [q0].[QueryID]
    WHERE [s].[StaffID] = [q].[StaffID] AND [q0].[QueryID] IS NOT NULL)
ORDER BY [s].[StaffID], [u].[UserID], [p].[PositionID], [t].[AssignmentID], [t].[QueryID0], [t].[CategoryID0]
2024-11-22 17:38:19.394 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__firebaseUid_0='8gmggRNCMUaYTwAThlXahoTs8W12' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ConnectionId], [u].[Email], [u].[FirebaseUID], [u].[IsOnline], [u].[LastSeen], [u].[Name], [u].[PasswordHash], [u].[PhoneNumber], [u].[RegistrationDate], [u].[Role], [u].[Surname]
FROM [Users] AS [u]
WHERE [u].[FirebaseUID] = @__firebaseUid_0
2024-11-22 17:38:19.408 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentID], [s].[Course], [s].[Department], [s].[UserID], [s].[Year], [s].[studentNumber]
FROM [StudentDetails] AS [s]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:38:19.425 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_UserID_0='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StaffID], [s].[Department], [s].[PositionID], [s].[UserID], [s].[YearGroupTeaching], [p].[PositionID], [p].[PositionName]
FROM [StaffDetails] AS [s]
LEFT JOIN [Positions] AS [p] ON [s].[PositionID] = [p].[PositionID]
WHERE [s].[UserID] = @__user_UserID_0
2024-11-22 17:38:19.443 +02:00 [INF] Executing ViewResult, running view StaffDashboard.
2024-11-22 17:38:19.637 +02:00 [INF] Executed ViewResult - view StaffDashboard executed in 203.3599ms.
2024-11-22 17:38:19.640 +02:00 [INF] Executed action Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp) in 1246.4962ms
2024-11-22 17:38:19.641 +02:00 [INF] Executed endpoint 'Apptivate_UQMS_WebApp.Controllers.DashboardController.StaffDashboard (Apptivate_UQMS_WebApp)'
2024-11-22 17:38:19.644 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/Dashboard/StaffDashboard - 200 null text/html; charset=utf-8 1262.469ms
2024-11-22 17:38:19.846 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - null null
2024-11-22 17:38:19.852 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7061/_vs/browserLink - null null
2024-11-22 17:38:19.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.9713ms
2024-11-22 17:38:19.914 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7061/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.9016ms
2024-11-22 17:38:20.127 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-11-22 17:38:20.131 +02:00 [INF] Executing endpoint '/notificationHub/negotiate'
2024-11-22 17:38:20.145 +02:00 [INF] Executed endpoint '/notificationHub/negotiate'
2024-11-22 17:38:20.147 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7061/notificationHub/negotiate?staffId=1&negotiateVersion=1 - 200 316 application/json 20.007ms
2024-11-22 17:38:20.193 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7061/notificationHub?staffId=1&id=j-2-mDg7GPx-iIl_9TZd4g - null null
2024-11-22 17:38:20.208 +02:00 [INF] Executing endpoint '/notificationHub'
2024-11-22 17:38:20.367 +02:00 [INF] Staff member with ID 1 is connecting. Connection ID: ApS3U2xmGe8ojX8DQbCdrA
2024-11-22 17:38:20.370 +02:00 [INF] Staff member with ID 1 connected and added to group. Connection ID: ApS3U2xmGe8ojX8DQbCdrA
